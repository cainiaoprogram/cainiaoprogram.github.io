<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【排序算法】四、堆排序（C/C&#43;&#43;） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【排序算法】四、堆排序（C/C&#43;&#43;）" />
<meta property="og:description" content="「前言」文章内容是排序算法之堆排序的讲解。（所有文章已经分类好，放心食用）
「归属专栏」排序算法
「主页链接」个人主页
「笔者」枫叶先生(fy)
目录 堆排序1.1 原理1.2 堆的向下调整1.3 堆排序代码实现1.3 性质总结 堆排序 1.1 原理 概念介绍
堆是一种特殊的树形数据结构，它满足以下两个性质：
堆是一棵完全二叉树堆中每个节点的值都必须大于等于（或小于等于）其子节点的值，这样的堆称为大根堆（或小根堆） 堆排序是一种基于二叉堆数据结构的排序算法，堆排序一般都是使用数组（顺序表）的结构进行排序（顺序存储）
堆排序算法的核心就是利用堆的性质来实现排序，堆这里就不详细介绍了（在数据结构——堆中已经详细介绍）
堆排序采用的是堆的向下调整算法（为什么选这个，在数据结构——堆中已经详细介绍）
堆排序想要对排序的数进行升序排序：建小根堆（小堆）想要对排序的数进行降序排序：建大根堆（大堆）小根堆：在小根堆中，任意节点的值都小于或等于其子节点的值（最小值在根节点）大根堆：在大根堆中，任意节点的值都大于或等于其子节点的值（最大值在根节点） 堆排序的构建步骤
先构建堆：将待排序的序列构建成一个大堆（或小堆）再调整堆：将堆顶元素与堆的最后一个元素交换，并重新调整堆，使得剩余元素仍然满足堆的性质重复步骤2，直到所有元素都排好序 注意：需要注意的是排升序要建大堆，排降序建小堆
下面介绍堆的向下调整
1.2 堆的向下调整 堆向下调整算法的基本思想是将堆中的某个节点按照堆的性质向下调整，使得以该节点为根的子树重新成为一个堆。具体步骤如下：
首先确定需要调整的节点的左右子节点中的较大值（或较小值，根据堆的性质而定）将该节点与其左右子节点中的较大值（或较小值）进行比较，如果该节点的值不符合堆的性质（小堆或大堆），则交换两者的位置继续对交换后的节点进行向下调整，直到该节点的值符合堆的性质或者已经没有子节点可以进行比较为止 通过这样的向下调整操作，可以保持堆的性质不变，并且在插入或删除节点之后，可以快速地恢复堆的性质
例如（以小堆为例）
从根结点处开始，选出左右孩子中值较小的孩子让小的孩子与其父亲进行比较若小的孩子比父亲还小，则该孩子与其父亲的位置进行交换并将原来小的孩子的位置当成父亲继续向下进行调整，直到调整到叶子结点为止若小的孩子比父亲大，则不需处理了，调整完成，整个树已经是小堆 注意：向下调整算法有一个前提：左右子树必须是一个堆，才能调整
假设向下调整27，如图所示：
堆的向下调整算法代码：
降序：小堆
void Swap(int* p1, int* p2) { int tmp = *p1; *p1 = *p2; *p2 = tmp; } // 堆的向下调整（下面是小堆：降序） void AdjustDown(int* arr, int n, int parent) // n:arr数组的大小; parent:父节点的数组下标 { // 左子节点下标为parent * 2 &#43; 1; 右子节点的下标为parent * 2 &#43; 2 int child = parent * 2 &#43; 1; // 假设左孩子较大 // while (child &lt; n) { // 选出左右孩子中小的那个 if ((child &#43; 1 &lt; n) &amp;&amp; arr[child] &gt; arr[child &#43; 1]) // child &#43; 1:右孩子的下标；-- 右孩子存在，并且左孩子比右孩子大 { &#43;&#43;child; } // 孩子跟父亲比较 if (arr[child] &lt; arr[parent]) { Swap(&amp;arr[child], &amp;arr[parent]); // 交换数据 //迭代 parent = child; child = parent * 2 &#43; 1; } else { break; } } } 注：若父节点下标为parent，左子节点下标为parent * 2 &#43; 1，右子节点的下标为parent * 2 &#43; 2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3f9a463163b5e96226dcc1c166f1714d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T22:22:46+08:00" />
<meta property="article:modified_time" content="2024-01-11T22:22:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【排序算法】四、堆排序（C/C&#43;&#43;）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>「前言」文章内容是排序算法之<strong>堆排序</strong>的讲解。（所有文章已经分类好，放心食用）</p> 
 <p>「归属专栏」<a href="https://blog.csdn.net/m0_64280701/category_12547823.html?spm=1001.2014.3001.5482">排序算法</a></p> 
 <p>「主页链接」<a href="https://blog.csdn.net/m0_64280701?type=blog">个人主页</a></p> 
 <p>「笔者」枫叶先生(fy)</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_11" rel="nofollow">堆排序</a></li><li><ul><li><a href="#11__12" rel="nofollow">1.1 原理</a></li><li><a href="#12__42" rel="nofollow">1.2 堆的向下调整</a></li><li><a href="#13__123" rel="nofollow">1.3 堆排序代码实现</a></li><li><a href="#13__222" rel="nofollow">1.3 性质总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_11"></a>堆排序</h2> 
<h3><a id="11__12"></a>1.1 原理</h3> 
<blockquote> 
 <p>概念介绍</p> 
</blockquote> 
<p>堆是一种特殊的树形数据结构，它满足以下两个性质：</p> 
<ol><li>堆是一棵完全二叉树</li><li>堆中每个节点的值都必须大于等于（或小于等于）其子节点的值，这样的堆称为大根堆（或小根堆）</li></ol> 
<blockquote> 
 <p>堆排序是一种基于二叉堆数据结构的排序算法，堆排序一般都是使用数组（顺序表）的结构进行排序（顺序存储）</p> 
</blockquote> 
<p>堆排序算法的核心就是利用堆的性质来实现排序，堆这里就不详细介绍了（在数据结构——堆中已经详细介绍）</p> 
<p>堆排序采用的是堆的向下调整算法（为什么选这个，在数据结构——堆中已经详细介绍）</p> 
<ul><li>堆排序想要对排序的数进行升序排序：建小根堆（小堆）</li><li>想要对排序的数进行降序排序：建大根堆（大堆）</li><li><strong>小根堆</strong>：在小根堆中，任意节点的值都小于或等于其子节点的值（最小值在根节点）</li><li><strong>大根堆</strong>：在大根堆中，任意节点的值都大于或等于其子节点的值（最大值在根节点）</li></ul> 
<blockquote> 
 <p>堆排序的构建步骤</p> 
</blockquote> 
<ol><li>先构建堆：将待排序的序列构建成一个大堆（或小堆）</li><li>再调整堆：将堆顶元素与堆的最后一个元素交换，并重新调整堆，使得剩余元素仍然满足堆的性质</li><li>重复步骤2，直到所有元素都排好序</li></ol> 
<p><mark>注意</mark>：<strong><font color="#2E45CD">需要注意的是排升序要建大堆，排降序建小堆</font></strong></p> 
<p>下面介绍堆的向下调整</p> 
<h3><a id="12__42"></a>1.2 堆的向下调整</h3> 
<p>堆向下调整算法的基本思想是将堆中的某个节点按照堆的性质向下调整，使得以该节点为根的子树重新成为一个堆。具体步骤如下：</p> 
<ol><li>首先确定需要调整的节点的左右子节点中的较大值（或较小值，根据堆的性质而定）</li><li>将该节点与其左右子节点中的较大值（或较小值）进行比较，如果该节点的值不符合堆的性质（小堆或大堆），则交换两者的位置</li><li>继续对交换后的节点进行向下调整，直到该节点的值符合堆的性质或者已经没有子节点可以进行比较为止</li></ol> 
<p>通过这样的向下调整操作，<strong>可以保持堆的性质不变，并且在插入或删除节点之后，可以快速地恢复堆的性质</strong></p> 
<blockquote> 
 <p>例如（以小堆为例）</p> 
</blockquote> 
<ol><li>从根结点处开始，选出左右孩子中值较小的孩子</li><li>让小的孩子与其父亲进行比较</li><li>若小的孩子比父亲还小，则该孩子与其父亲的位置进行交换</li><li>并将原来小的孩子的位置当成父亲继续向下进行调整，直到调整到叶子结点为止</li><li>若小的孩子比父亲大，则不需处理了，调整完成，整个树已经是小堆</li></ol> 
<p><mark>注意</mark>：向下调整算法有一个前提：左右子树必须是一个堆，才能调整</p> 
<p>假设向下调整27，如图所示：<br> <img src="https://images2.imgbox.com/fb/2f/6ogd5Fkn_o.png" alt="在这里插入图片描述"><br> 堆的向下调整算法代码：</p> 
<blockquote> 
 <p>降序：小堆</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> p1<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> p2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span>
	<span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">*</span>p2<span class="token punctuation">;</span>
	<span class="token operator">*</span>p2 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 堆的向下调整（下面是小堆：降序）</span>
<span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span> <span class="token comment">// n:arr数组的大小; parent:父节点的数组下标</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 左子节点下标为parent * 2 + 1; 右子节点的下标为parent * 2 + 2</span>
	<span class="token keyword">int</span> child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 假设左孩子较大</span>
	<span class="token comment">// </span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 选出左右孩子中小的那个</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// child + 1:右孩子的下标；-- 右孩子存在，并且左孩子比右孩子大</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>child<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 孩子跟父亲比较</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 交换数据</span>
			<span class="token comment">//迭代</span>
			parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><mark>注</mark>：若父节点下标为<code>parent</code>，左子节点下标为<code>parent * 2 + 1</code>，右子节点的下标为<code>parent * 2 + 2</code></p> 
<blockquote> 
 <p>如果要改为升序，要建大堆</p> 
</blockquote> 
<p>修改一下，判断条件即可</p> 
<pre><code class="prism language-cpp"><span class="token comment">// ...</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>
</code></pre> 
<blockquote> 
 <p>向下调整的时间复杂度计算</p> 
</blockquote> 
<ul><li>使用堆的向下调整算法，最坏的情况下（即一直需要交换结点），需要循环的次数为：<code>h-1</code>次（h为树的高度）</li><li>而<code>h = log(N+1)</code>（N为树的总结点数，log以2为底）</li><li>所以堆的向下调整算法的时间复杂度为：<code>O(logN) </code></li></ul> 
<h3><a id="13__123"></a>1.3 堆排序代码实现</h3> 
<p>前面说到，使用堆的向下调整算法需要满足其根结点的左右子树均为大堆或是小堆才行，那么如何才能将一个任意树调整为堆呢？</p> 
<p><strong>只需要从倒数第一个非叶子结点开始，从后往前，按下标，依次作为根去向下调整即可</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">// 1.建堆</span>
<span class="token comment">// 向下调整建堆方式时间复杂度：O(N)</span>
<span class="token comment">// 从第一个非叶子结点开始向下调整，一直到根</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token comment">// n-1:数组下标上限，(n-1-1)/2:孩子的父亲节点</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">AdjustDown</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以建小堆为例，如图所示：</p> 
<ul><li>第一次向下调整：（非叶子节点开始）<br> <img src="https://images2.imgbox.com/28/7e/5kHyjnJi_o.png" alt="在这里插入图片描述"></li><li>第二次向下调整：<img src="https://images2.imgbox.com/9a/d0/sAP6a0lr_o.png" alt="在这里插入图片描述"></li><li>第三次向下调整：<img src="https://images2.imgbox.com/4d/e5/BnH9Op1Y_o.png" alt="在这里插入图片描述"></li><li>第四次向下调整：<img src="https://images2.imgbox.com/e8/17/dfy69YlT_o.png" alt="在这里插入图片描述"></li><li>第五次向下调整：（到根节点结束）<img src="https://images2.imgbox.com/c0/2c/AZDKfaMT_o.png" alt="在这里插入图片描述"></li></ul> 
<blockquote> 
 <p>堆排序分两步：</p> 
</blockquote> 
<ol><li>建堆</li><li>调整（即排序的过程）</li></ol> 
<p>堆排序代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//堆排序</span>
<span class="token keyword">void</span> <span class="token function">HeapSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token comment">// n:数组大小</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 1.建堆</span>
	<span class="token comment">// 向下调整建堆方式时间复杂度：O(N)</span>
	<span class="token comment">// 从第一个非叶子结点开始向下调整，一直到根</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token comment">// n-1:数组下标上限，(n-1-1)/2:孩子的父亲节点</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 2.调整（排序的过程）</span>
	<span class="token comment">// 调整时间复杂度：O(N*logN)</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 记录堆的最后一个数据的下标</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 堆顶数据与堆的最后一个数据交换</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 进行调整</span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> end<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对根进行一次向下调整</span>
		end<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 堆的最后一个数据的下标减一</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>堆排序的时间复杂度计算</p> 
</blockquote> 
<p><strong>建堆的时间复杂度：</strong></p> 
<p>因为堆是完全二叉树，而满二叉树也是完全二叉树，此处为了简化使用满二叉树来证明（时间复杂度本来看的就是近似值，多几个节点不影响最终结果）<br> <img src="https://images2.imgbox.com/dd/aa/NRdaxOcm_o.png" alt="在这里插入图片描述"><br> 计算建堆过程中总共交换的次数：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ① 
        
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
        
        
          2 
         
        
          0 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         1 
        
       
         ) 
        
       
         + 
        
        
        
          2 
         
        
          1 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         2 
        
       
         ) 
        
       
         + 
        
        
        
          2 
         
        
          2 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         3 
        
       
         ) 
        
       
         + 
        
       
         . 
        
       
         . 
        
       
         . 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           3 
          
         
        
       
         ∗ 
        
       
         2 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           2 
          
         
        
       
         ∗ 
        
       
         1 
        
       
      
        ① T(n)=2^0*(h-1)+2^1*(h-2)+2^2*(h-3)+...+2^{h-3}*2+2^{h-2}*1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">①</span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></p> 
<p>两边同时乘2得：（等差数列乘以一个等比数列，使用裂项相消法进行化简）</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ② 
        
       
         2 
        
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
        
        
          2 
         
        
          1 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         1 
        
       
         ) 
        
       
         + 
        
        
        
          2 
         
        
          2 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         2 
        
       
         ) 
        
       
         + 
        
        
        
          2 
         
        
          2 
         
        
       
         ∗ 
        
       
         ( 
        
       
         h 
        
       
         − 
        
       
         3 
        
       
         ) 
        
       
         + 
        
       
         . 
        
       
         . 
        
       
         . 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           2 
          
         
        
       
         ∗ 
        
       
         2 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           1 
          
         
        
       
         ∗ 
        
       
         1 
        
       
      
        ②2 T(n)=2^1*(h-1)+2^2*(h-2)+2^2*(h-3)+...+2^{h-2}*2+2^{h-1}*1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">②2</span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></p> 
<p>②-①两式相减得：（错位相减）</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
       
         1 
        
       
         − 
        
       
         h 
        
       
         + 
        
        
        
          2 
         
        
          1 
         
        
       
         + 
        
        
        
          2 
         
        
          3 
         
        
       
         + 
        
       
         . 
        
       
         . 
        
       
         . 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           2 
          
         
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           1 
          
         
        
       
      
        T(n)=1-h+2^1+2^3+...+2^{h-2}+2^{h-1} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7778em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9324em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
        
        
          2 
         
        
          0 
         
        
       
         + 
        
        
        
          2 
         
        
          1 
         
        
       
         + 
        
        
        
          2 
         
        
          3 
         
        
       
         + 
        
       
         . 
        
       
         . 
        
       
         . 
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           2 
          
         
        
       
         + 
        
        
        
          2 
         
         
         
           h 
          
         
           − 
          
         
           1 
          
         
        
       
         − 
        
       
         h 
        
       
      
        T(n)=2^0+2^1+2^3+...+2^{h-2}+2^{h-1}-h 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8974em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9324em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9324em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span></span></p> 
<p>运用等比数列求和得：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
        
        
          2 
         
        
          h 
         
        
       
         − 
        
       
         h 
        
       
         − 
        
       
         1 
        
       
      
        T(n)=2^h-h-1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9324em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7778em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></p> 
<p>由二叉树的性质，有<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         N 
        
       
         = 
        
        
        
          2 
         
        
          h 
         
        
       
         − 
        
       
         1 
        
       
      
        N=2^h-1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9324em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         h 
        
       
         = 
        
       
         l 
        
       
         o 
        
        
        
          g 
         
        
          2 
         
        
       
         ( 
        
       
         N 
        
       
         + 
        
       
         1 
        
       
         ) 
        
       
      
        h=log_2(N+1) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，于是：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
       
         N 
        
       
         − 
        
       
         l 
        
       
         o 
        
        
        
          g 
         
        
          2 
         
        
       
         ( 
        
       
         N 
        
       
         + 
        
       
         1 
        
       
         ) 
        
       
         ≈ 
        
       
         N 
        
       
      
        T(n)=N-log_2(N+1)≈N 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span></span></span></p> 
<p>用大O的渐进表示法，即：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         T 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
         = 
        
       
         O 
        
       
         ( 
        
       
         N 
        
       
         ) 
        
       
      
        T(n)=O(N) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span></p> 
<p>因此：建堆的时间复杂度为<code>O(N)</code></p> 
<p><strong>排序时间复杂度：</strong></p> 
<ul><li>每次进行堆的向上调整时间复杂度为<code>O(logN)</code></li><li>数组一共有n个元素</li><li>进行排序的时间复杂度为：<code>O(nlogn)</code></li></ul> 
<blockquote> 
 <p>堆排序的总时间复杂度为<code>O(n + nlogn) = O(nlogn)</code></p> 
</blockquote> 
<h3><a id="13__222"></a>1.3 性质总结</h3> 
<ul><li>时间复杂度：堆排序的平均时间复杂度为 <code>O(nlogn)</code>，最坏情况下也为 <code>O(nlogn)</code></li><li>空间复杂度：<code>O(1)</code></li><li>不稳定性：堆排序是一种不稳定的排序算法，即相同元素的相对位置可能会发生变化</li><li>适用范围：堆排序适用于大数据量的排序，对于小数据量的排序效率较低</li></ul> 
<p>--------------------- END ----------------------</p> 
<pre><code class="prism language-cpp">「 作者 」 枫叶先生
「 更新 」 <span class="token number">2024.1</span><span class="token punctuation">.</span><span class="token number">11</span>
「 声明 」 余之才疏学浅，故所撰文疏漏难免，
          或有谬误或不准确之处，敬请读者批评指正。
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b1b6dc81c203f3385d874bdcf5a9099/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">科研学习|论文解读——信息世界映射方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cec09a8ebb31caa69627a8e943b8f609/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">git 中的概念</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>