<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java服务端获取URL请求参数的几种方法以及接收参数注解说明 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java服务端获取URL请求参数的几种方法以及接收参数注解说明" />
<meta property="og:description" content="一、下面为7种服务端获取前端传过来的参数的方法 常用的方法为：@RequestParam和@RequestBody
1、直接把表单的参数写在Controller相应的方法的形参中，适用于get方式提交，不适用于post方式提交。 /** * 1.直接把表单的参数写在Controller相应的方法的形参中 * @param username * @param password * @return */ @RequestMapping(&#34;/addUser1&#34;) public String addUser1(String username,String password) { System.out.println(&#34;username is:&#34;&#43;username); System.out.println(&#34;password is:&#34;&#43;password); return &#34;demo/index&#34;; } url形式：http://localhost/SSMDemo/demo/addUser1?username=lixiaoxi&amp;password=111111提交的参数需要和Controller方法中的入参名称一致。
2、通过HttpServletRequest接收，post方式和get方式都可以。 /** * 2、通过HttpServletRequest接收 * @param request * @return */ @RequestMapping(&#34;/addUser2&#34;) public String addUser2(HttpServletRequest request) { String username=request.getParameter(&#34;username&#34;); String password=request.getParameter(&#34;password&#34;); System.out.println(&#34;username is:&#34;&#43;username); System.out.println(&#34;password is:&#34;&#43;password); return &#34;demo/index&#34;; } 3、通过一个bean来接收,post方式和get方式都可以。 (1)建立一个和表单中参数对应的bean
package demo.model; public class UserModel { private String username; private String password; public String getUsername() { return username; } public void setUsername(String username) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4feceda54cc3b03150198435066fe2e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-08T20:06:26+08:00" />
<meta property="article:modified_time" content="2020-12-08T20:06:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java服务端获取URL请求参数的几种方法以及接收参数注解说明</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="7_0"></a>一、下面为7种服务端获取前端传过来的参数的方法</h5> 
<p>常用的方法为：<code>@RequestParam</code>和<code>@RequestBody</code></p> 
<h6><a id="1Controllergetpost_4"></a>1、直接把表单的参数写在Controller相应的方法的形参中，适用于get方式提交，不适用于post方式提交。</h6> 
<pre><code>/**
 * 1.直接把表单的参数写在Controller相应的方法的形参中
  * @param username
 * @param password
 * @return
 */
@RequestMapping("/addUser1")
public String addUser1(String username,String password) {
    System.out.println("username is:"+username);
    System.out.println("password is:"+password);
    return "demo/index";
}
</code></pre> 
<p>url形式：<code>http://localhost/SSMDemo/demo/addUser1?username=lixiaoxi&amp;password=111111</code>提交的参数需要和Controller方法中的入参名称一致。</p> 
<h6><a id="2HttpServletRequestpostget_22"></a>2、通过HttpServletRequest接收，post方式和get方式都可以。</h6> 
<pre><code>/**
 * 2、通过HttpServletRequest接收
  * @param request
 * @return
 */
@RequestMapping("/addUser2")
public String addUser2(HttpServletRequest request) {
    String username=request.getParameter("username");
    String password=request.getParameter("password");
    System.out.println("username is:"+username);
    System.out.println("password is:"+password);
    return "demo/index";
}
</code></pre> 
<h6><a id="3beanpostget_38"></a>3、通过一个bean来接收,post方式和get方式都可以。</h6> 
<p>(1)建立一个和表单中参数对应的bean</p> 
<pre><code>package demo.model;

public class UserModel {
    
    private String username;
    private String password;
    public String getUsername() {
        return username;
    }
    public void setUsername(String username) {
        this.username = username;
    }
    public String getPassword() {
        return password;
    }
    public void setPassword(String password) {
        this.password = password;
    }
    
}
</code></pre> 
<p>(2)用这个bean来封装接收的参数</p> 
<pre><code>    /**
     * 3、通过一个bean来接收
      * @param user
     * @return
     */
    @RequestMapping("/addUser3")
    public String addUser3(UserModel user) {
        System.out.println("username is:"+user.getUsername());
        System.out.println("password is:"+user.getPassword());
        return "demo/index";
    }
</code></pre> 
<h6><a id="4PathVariable_78"></a>4、通过@PathVariable获取路径中的参数</h6> 
<pre><code>    /**
     * 4、通过@PathVariable获取路径中的参数
      * @param username
     * @param password
     * @return
     */
    @RequestMapping(value="/addUser4/{username}/{password}",method=RequestMethod.GET)
public String addUser4(@PathVariable String username,@PathVariable String password) {
        System.out.println("username is:"+username);
        System.out.println("password is:"+password);
        return "demo/index";
    }
</code></pre> 
<p>例如，访问<code>http://localhost/SSMDemo/demo/addUser4/lixiaoxi/111111</code>路径时，则自动将URL中模板变量<code>{username}</code>和<code>{password}</code>绑定到通过@PathVariable注解的同名参数上，即入参后<code>username=lixiaoxi</code>、<code>password=111111</code>。</p> 
<h6><a id="5ModelAttributePOSTFORM_95"></a>5、使用<code>@ModelAttribute</code>注解获取POST请求的FORM表单数据</h6> 
<p>Jsp表单如下：</p> 
<pre><code>&lt;form action ="&lt;%=request.getContextPath()%&gt;/demo/addUser5" method="post"&gt; 
     用户名:&amp;nbsp;&lt;input type="text" name="username"/&gt;&lt;br/&gt;
     密&amp;nbsp;&amp;nbsp;码:&amp;nbsp;&lt;input type="password" name="password"/&gt;&lt;br/&gt;
     &lt;input type="submit" value="提交"/&gt; 
     &lt;input type="reset" value="重置"/&gt; 
&lt;/form&gt; 
</code></pre> 
<p>Java Controller如下：</p> 
<pre><code>    /**
     * 5、使用@ModelAttribute注解获取POST请求的FORM表单数据
      * @param user
     * @return
     */
    @RequestMapping(value="/addUser5",method=RequestMethod.POST)
    public String addUser5(@ModelAttribute("user") UserModel user) {
        System.out.println("username is:"+user.getUsername());
        System.out.println("password is:"+user.getPassword());
        return "demo/index";
    }
</code></pre> 
<h6><a id="6RequestParam_121"></a>6、用注解<code>@RequestParam</code>绑定请求参数到方法入参</h6> 
<p>当请求参数<code>username</code>不存在时会有异常发生,可以通过设置属性<code>required=false</code>解决,例如: <code>@RequestParam(value="username", required=false)</code></p> 
<pre><code>    /**
     * 6、用注解@RequestParam绑定请求参数到方法入参
      * @param username
     * @param password
     * @return
     */
    @RequestMapping(value="/addUser6",method=RequestMethod.GET)
    public String addUser6(@RequestParam("username") String username,@RequestParam("password") String password) {
        System.out.println("username is:"+username);
        System.out.println("password is:"+password);
        return "demo/index";
    }
</code></pre> 
<h6><a id="7RequestBody__POST_139"></a>7、用注解@RequestBody绑定请求参数到方法入参 用于POST请求</h6> 
<pre><code>/**
     * 7、用注解@Requestbody绑定请求参数到方法入参
      * @param username
     * @param password
     * @return
     */
    @RequestMapping(value="/addUser6",method=RequestMethod.POST)
    public String addUser6(@RequestBody UserDTO userDTO) {
        System.out.println("username is:"+userDTO.getUserName());
        System.out.println("password is:"+userDTO.getPassWord());
        return "demo/index";
    }

//UserDTO 这个类为一个实体类，里面定义的属性与URL传过来的属性名一一对应。
</code></pre> 
<p>上面为7种服务端获取前端传过来的参数的方法。</p> 
<h5><a id="spring_bootRequestParamRequestBody_160"></a>二、spring boot的@RequestParam和@RequestBody的区别</h5> 
<p>1、问题描述<br> 由于项目是前后端分离，因此后台使用的是spring boot，做成微服务，只暴露接口。接口设计风格为restful的风格，在get请求下，后台接收参数的注解为RequestBody时会报错；在 post请求下，后台接收参数的注解为RequestParam时也会报错。</p> 
<p>2、问题原因</p> 
<pre><code> 由于spring的RequestParam注解接收的参数是来自于requestHeader中，即请求头，也就是在url中，格式为xxx?username=123&amp;password=456，而RequestBody注解接收的参数则是来自于requestBody中，即请求体中。
</code></pre> 
<p>3、解决方法</p> 
<pre><code>  因此综上所述，如果为get请求时，后台接收参数的注解应该为RequestParam，如果为post请求时，则后台接收参数的注解就是为RequestBody。附上两个例子，截图如下：
</code></pre> 
<p>4、get请求</p> 
<p><img src="https://images2.imgbox.com/8a/0e/IwYXYAiI_o.png" alt="在这里插入图片描述"></p> 
<p>5、post请求</p> 
<p><img src="https://images2.imgbox.com/e1/97/0xnB78Si_o.png" alt="在这里插入图片描述"></p> 
<pre><code>    另外，还有一种应用场景，接口规范为resultful风格时，举个例子：如果要获取某个id下此条问题答案的查询次数的话，则后台就需要动态获取参数， 其注解为@PathVariable，并且requestMapping中的value应为value="/{id}/queryNum"，截图如下：
</code></pre> 
<p><img src="https://images2.imgbox.com/95/8b/j7odwQNQ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="SpringBoot_PathVaribaleRequestParamGetMapping_186"></a>三、SpringBoot 中常用注解@PathVaribale/@RequestParam/@GetMapping介绍</h5> 
<p>本篇博文将介绍几种如何处理url中的参数的注解@PathVaribale/@RequestParam/@GetMapping。</p> 
<p>其中，各注解的作用为：</p> 
<p><code>@PathVaribale</code>获取url中的数据</p> 
<p><code>@RequestParam</code>获取请求参数的值</p> 
<p><code>@GetMapping</code>组合注解，是<code>@RequestMapping(method = RequestMethod.GET)</code>的缩写</p> 
<h6><a id="PathVaribaleurl_197"></a>@PathVaribale获取url中的数据</h6> 
<p>看一个例子，如果我们需要获取 Url=localhost:8080/hello/id 中的id值，实现代码如下：</p> 
<pre><code>@RestController
public class HelloController {

    @RequestMapping(value="/hello/{id}",method= RequestMethod.GET)
    public String sayHello(@PathVariable("id") Integer id){
        return "id:"+id;
    }
}
 
</code></pre> 
<p>同样，如果我们需要在url有多个参数需要获取，则如下代码所示来做就可以了。</p> 
<pre><code>@RestController
public class HelloController {

    @RequestMapping(value="/hello/{id}/{name}",method= RequestMethod.GET)
    public String sayHello(@PathVariable("id") Integer id,@PathVariable("name") String name){
        return "id:"+id+" name:"+name;
    }
}
</code></pre> 
<p>以上，通过<code>@PathVariable</code>注解来获取URL中的参数时的前提条件是我们知道url的格式时怎么样的。</p> 
<p>只有知道url的格式，我们才能在指定的方法上通过相同的格式获取相应位置的参数值。</p> 
<p>一般情况下，url的格式为：localhost:8080/hello?id=98,这种情况下该如何来获取其id值呢,这就需要借助于<code>@RequestParam</code>来完成了</p> 
<h6><a id="RequestParam__229"></a>@RequestParam 获取请求参数的值</h6> 
<p>直接看一个例子，如下</p> 
<pre><code>@RestController
public class HelloController {

    @RequestMapping(value="/hello",method= RequestMethod.GET)
    public String sayHello(@RequestParam("id") Integer id){
        return "id:"+id;
    }
}
</code></pre> 
<p>在浏览器中输入地址：localhost:8080/hello?id=1000，可以正常得到结果，但是，当我们在浏览器中输入地址：localhost:8080/hello ,即不输入id参数，则会报错。<br> <code>@RequestParam</code>注解给我们提供了这种解决方案，即允许用户不输入id时，使用默认值，具体代码如下：</p> 
<pre><code>@RestController
public class HelloController {
    @RequestMapping(value="/hello",method= RequestMethod.GET)
    //required=false 表示url中可以不穿入id参数，此时就使用默认参数
    public String sayHello(@RequestParam(value="id",required = false,defaultValue = "1") Integer id){
        return "id:"+id;
    }
}
</code></pre> 
<p>如果在url中有多个参数，即类似于<code>localhost:8080/hello?id=98&amp;&amp;name=wojiushimogui</code>这样的url，同样可以这样来处理。具体代码如下：</p> 
<pre><code>/**
 * Created by wuranghao on 2017/4/7.
 */
@RestController
public class HelloController {

    @RequestMapping(value="/hello",method= RequestMethod.GET)
    public String sayHello(@RequestParam("id") Integer id,@RequestParam("name") String name){
        return "id:"+id+ " name:"+name;
    }
}
</code></pre> 
<h6><a id="GetMapping__268"></a>@GetMapping 组合注解</h6> 
<p>@GetMapping是一个组合注解，是@RequestMapping(method = RequestMethod.GET)的缩写。该注解将HTTP Get 映射到 特定的处理方法上。<br> 即可以使用@GetMapping(value = “/hello”)来代替@RequestMapping(value=”/hello”,method= RequestMethod.GET)。即可以让我们精简代码。</p> 
<p>例子</p> 
<pre><code>@RestController
public class HelloController {
    //@RequestMapping(value="/hello",method= RequestMethod.GET)
    @GetMapping(value = "/hello")
    //required=false 表示url中可以不穿入id参数，此时就使用默认参数
    public String sayHello(@RequestParam(value="id",required = false,defaultValue = "1") Integer id){
        return "id:"+id;
    }
}
</code></pre> 
<p>转自：https://www.cnblogs.com/zhanglijun/p/9403483.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/129e3a00a6757f1d8e1d911af11f0028/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">阿里云对象存储OSS权限管理设置-新手基础设置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/37f9c7af7ff4b5383465dd93db4b5920/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot集成MyCat实现分库分表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>