<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Java毕设项目】基于SpringBoot&#43;Vue教务管理系统的开发与实现 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Java毕设项目】基于SpringBoot&#43;Vue教务管理系统的开发与实现" />
<meta property="og:description" content="博主主页：一季春秋
博主简介：专注Java技术领域和毕业设计项目实战、Java、微信小程序、安卓等技术开发，远程调试部署、代码讲解、文档指导、ppt制作等技术指导。
主要内容：毕业设计(Java项目、小程序、安卓等)、简历模板、学习资料、技术咨询。
精彩专栏推荐订阅👇🏻👇🏻 不然下次找不到哟
SpringBoot&#43;Vue项目持续更新中
http://t.csdn.cn/1mgm8
🍅文末获取联系🍅
目录
一、项目介绍 二、项目主要技术 三、系统分析
3.1 系统功能分析和描述
3.2 系统UML用例分析
3.3 系统功能结构
四、系统实现
4.1 管理员功能模块
4.2 教师功能模块
4.3 学生功能模块
五、实现代码 5.1 选课关键代码 一、项目介绍 本系统前端框架采用了比较流行的渐进式JavaScript框架Vue.js。使用Vue-Router和Vuex实现动态路由和全局状态管理，Ajax实现前后端通信，Element UI组件库使页面快速成型。后端部分：采用SpringBoot作为开发框架，同时集成MyBatis、Redis等相关技术。
教务管理系统，主要的模块包括管理员；首页、个人中心、管理员管理、老师管理、老师申请、学生管理、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、通知信息管理 、选课管理 、基础数据管理，学生；首页、个人中心、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、老师评价 、通知信息管理、选课管理 ，教师；首页、个人中心、学生管理 、成绩管理 、课程管理 、老师申请 、通知信息管理等功能。
二、项目主要技术 开发语言：Java 使用框架：spring boot 前端技术：JavaScript、Vue 、css3 开发工具：IDEA/MyEclipse/Eclipse、Visual Studio Code 数据库：MySQL 5.7/8.0 数据库管理工具：phpstudy/Navicat JDK版本：jdk1.8 Maven: apache-maven 3.8.1-bin 三、系统分析 3.1 系统功能分析和描述 使用教务管理系统分为管理员和学生、教师、教务处用户三个角色的权限子模块。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/781007f669cf87a636a7a5b34c239707/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-24T16:00:19+08:00" />
<meta property="article:modified_time" content="2023-09-24T16:00:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Java毕设项目】基于SpringBoot&#43;Vue教务管理系统的开发与实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><span style="color:#0d0016;"><strong>博主主页：</strong><a href="https://blog.csdn.net/m0_49113107?type=blog" title="一季春秋">一季春秋</a><br><strong>博主简介：</strong>专注Java技术领域和毕业设计项目实战、Java、微信小程序、安卓等技术开发，远程调试部署、代码讲解、文档指导、ppt制作等技术指导。<br><strong>主要内容：</strong>毕业设计(Java项目、小程序、安卓等)、简历模板、学习资料、技术咨询。</span></p> 
 <p><span style="color:#0d0016;">精彩专栏推荐订阅👇🏻👇🏻 不然下次找不到哟</span></p> 
 <p><span style="color:#0d0016;"><strong>SpringBoot+Vue项目持续更新中</strong></span></p> 
 <p><span style="color:#0d0016;"><a href="http://t.csdn.cn/1mgm8" rel="nofollow" title="http://t.csdn.cn/1mgm8">http://t.csdn.cn/1mgm8</a></span></p> 
 <p><span style="color:#0d0016;">🍅</span><span style="color:#fe2c24;"><strong>文末获取联系</strong></span><span style="color:#0d0016;">🍅</span></p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%C2%A0" rel="nofollow">一、项目介绍 </a></p> 
<p id="%E4%BA%8C%E3%80%81%E9%A1%B9%E7%9B%AE%E4%B8%BB%E8%A6%81%E6%8A%80%E6%9C%AF%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E9%A1%B9%E7%9B%AE%E4%B8%BB%E8%A6%81%E6%8A%80%E6%9C%AF%C2%A0" rel="nofollow">二、项目主要技术 </a></p> 
<p id="%E4%B8%89%E3%80%81%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90" rel="nofollow">三、系统分析</a></p> 
<p id="3.1%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90%E5%92%8C%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px;"><a href="#3.1%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90%E5%92%8C%E6%8F%8F%E8%BF%B0" rel="nofollow">3.1 系统功能分析和描述</a></p> 
<p id="3.2%20%E7%B3%BB%E7%BB%9FUML%E7%94%A8%E4%BE%8B%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#3.2%20%E7%B3%BB%E7%BB%9FUML%E7%94%A8%E4%BE%8B%E5%88%86%E6%9E%90" rel="nofollow">3.2 系统UML用例分析</a></p> 
<p id="3.3%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#3.3%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E7%BB%93%E6%9E%84" rel="nofollow">3.3 系统功能结构</a></p> 
<p id="%E5%9B%9B%E3%80%81%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0" rel="nofollow">四、系统实现</a></p> 
<p id="4.1%20%E7%AE%A1%E7%90%86%E5%91%98%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#4.1%20%E7%AE%A1%E7%90%86%E5%91%98%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97" rel="nofollow">4.1 管理员功能模块</a></p> 
<p id="4.2%20%E6%95%99%E5%B8%88%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#4.2%20%E6%95%99%E5%B8%88%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97" rel="nofollow">4.2 教师功能模块</a></p> 
<p id="4.3%20%E5%AD%A6%E7%94%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#4.3%20%E5%AD%A6%E7%94%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97" rel="nofollow">4.3 学生功能模块</a></p> 
<p id="%E4%BA%94%E3%80%81%E5%AE%9E%E7%8E%B0%E4%BB%A3%E7%A0%81%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E5%AE%9E%E7%8E%B0%E4%BB%A3%E7%A0%81%C2%A0" rel="nofollow">五、实现代码 </a></p> 
<p id="5.1%20%E9%80%89%E8%AF%BE%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%C2%A0-toc" style="margin-left:40px;"><a href="#5.1%20%E9%80%89%E8%AF%BE%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%C2%A0" rel="nofollow">5.1 选课关键代码 </a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%C2%A0">一、项目介绍 </h2> 
<p>本系统前端框架采用了比较流行的渐进式JavaScript框架Vue.js。使用Vue-Router和Vuex实现动态路由和全局状态管理，Ajax实现前后端通信，Element UI组件库使页面快速成型。后端部分：采用SpringBoot作为开发框架，同时集成MyBatis、Redis等相关技术。<br>教务管理系统，主要的模块包括管理员；首页、个人中心、管理员管理、老师管理、老师申请、学生管理、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、通知信息管理 、选课管理 、基础数据管理，学生；首页、个人中心、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、老师评价 、通知信息管理、选课管理 ，教师；首页、个人中心、学生管理 、成绩管理 、课程管理 、老师申请 、通知信息管理等功能。</p> 
<h2 id="%E4%BA%8C%E3%80%81%E9%A1%B9%E7%9B%AE%E4%B8%BB%E8%A6%81%E6%8A%80%E6%9C%AF%C2%A0">二、项目主要技术 </h2> 
<pre><code>开发语言：Java

使用框架：spring boot

前端技术：JavaScript、Vue 、css3

开发工具：IDEA/MyEclipse/Eclipse、Visual Studio Code

数据库：MySQL 5.7/8.0

数据库管理工具：phpstudy/Navicat

JDK版本：jdk1.8

Maven: apache-maven 3.8.1-bin</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90"><span style="color:#000000;">三、系统分析</span></h2> 
<h3 id="3.1%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%88%86%E6%9E%90%E5%92%8C%E6%8F%8F%E8%BF%B0"><span style="color:#000000;">3.1 系统功能分析和描述</span></h3> 
<p style="margin-left:0;text-align:justify;">使用教务管理系统分为管理员和学生、教师、教务处用户三个角色的权限子模块。</p> 
<p style="margin-left:0;text-align:justify;">（1）管理员所能使用的功能主要有：首页、个人中心、管理员管理、老师管理、老师申请、学生管理、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、通知信息管理 、选课管理 、基础数据管理等。</p> 
<p style="margin-left:0;text-align:justify;">（2）学生可以实现首页、个人中心、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、老师评价 、通知信息管理、选课管理等。</p> 
<p style="margin-left:0;text-align:justify;">（3）教师可以实现首页、个人中心、学生管理 、成绩管理 、课程管理 、老师申请 、通知信息管理等。</p> 
<h3 id="3.2%20%E7%B3%BB%E7%BB%9FUML%E7%94%A8%E4%BE%8B%E5%88%86%E6%9E%90"><span style="color:#000000;">3.2 系统</span><span style="color:#000000;">UML</span><span style="color:#000000;">用例分析</span></h3> 
<p style="margin-left:0px;text-align:justify;">1、管理员用例</p> 
<p style="margin-left:0;text-align:justify;">管理员登录后可进行首页、个人中心、管理员管理、老师管理、老师申请、学生管理、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、通知信息管理 、选课管理 、基础数据管理，管理员的用例如图所示。</p> 
<p class="img-center"><img alt="" height="378" src="https://images2.imgbox.com/51/4c/DdNMCtWo_o.png" width="766"></p> 
<p style="margin-left:0px;text-align:justify;">2、学生用例</p> 
<p>学生注册登录后可进行首页、个人中心、报名管理 、成绩管理 、考试信息管理 、教材信息管理 、课程管理 、老师评价 、通知信息管理、选课管理等 ，用户用例如图所示。 </p> 
<p class="img-center"><img alt="" height="384" src="https://images2.imgbox.com/0a/18/KdXytcjX_o.png" width="556"></p> 
<h3 id="3.3%20%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E7%BB%93%E6%9E%84"><span style="color:#000000;">3.3 系统功能结构</span></h3> 
<p><span style="color:#000000;">这些功能可以充分满足教务管理系统的需求。此系统功能较为全面如下图系统功能结构如图</span><span style="color:#000000;">所示。</span> </p> 
<p><img alt="" height="591" src="https://images2.imgbox.com/d6/c7/igkBgAe5_o.png" width="821"></p> 
<h2 id="%E5%9B%9B%E3%80%81%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0"><span style="color:#000000;">四、系统实现</span></h2> 
<h3 id="4.1%20%E7%AE%A1%E7%90%86%E5%91%98%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97">4.1 管理员功能模块</h3> 
<p>老师申请管理</p> 
<p><img alt="" height="796" src="https://images2.imgbox.com/7d/bb/U9P5TMBP_o.png" width="1200"></p> 
<p>报名管理</p> 
<p><img alt="" height="760" src="https://images2.imgbox.com/b4/a4/cobMaEQ9_o.png" width="1200"></p> 
<p>教材信息管理</p> 
<p><img alt="" height="742" src="https://images2.imgbox.com/a1/d0/Om37bj68_o.png" width="1200"></p> 
<p>基础数据管理</p> 
<p><img alt="" height="958" src="https://images2.imgbox.com/bc/e3/pUIW5gnW_o.png" width="1200"></p> 
<h3 id="4.2%20%E6%95%99%E5%B8%88%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97">4.2 教师功能模块</h3> 
<p>学生管理</p> 
<p><img alt="" height="868" src="https://images2.imgbox.com/6c/49/UHftMTTJ_o.png" width="1200"></p> 
<p>老师申请</p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="749" src="https://images2.imgbox.com/d7/3c/qvdybVAj_o.png" width="1200"></h3> 
<h3 id="4.3%20%E5%AD%A6%E7%94%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97">4.3 学生功能模块</h3> 
<p>报名管理</p> 
<p><img alt="" height="871" src="https://images2.imgbox.com/da/c4/VYMrJVOx_o.png" width="1200"></p> 
<p>成绩管理</p> 
<p><img alt="" height="709" src="https://images2.imgbox.com/0a/fc/kDVThklN_o.png" width="1200"></p> 
<p>老师评价</p> 
<p><img alt="" height="650" src="https://images2.imgbox.com/9d/ce/9yDgeoq5_o.png" width="1200"></p> 
<p>选课管理</p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/50/b6/Bvq4Ehux_o.png" width="1200"></p> 
<h2 id="%E4%BA%94%E3%80%81%E5%AE%9E%E7%8E%B0%E4%BB%A3%E7%A0%81%C2%A0">五、实现代码 </h2> 
<h3 id="5.1%20%E9%80%89%E8%AF%BE%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%C2%A0">5.1 选课关键代码 </h3> 
<pre><code class="language-java">/**
 * 选课
 * 后端接口
 * @author
 * @email
*/
@RestController
@Controller
@RequestMapping("/xuanke")
public class XuankeController {
    private static final Logger logger = LoggerFactory.getLogger(XuankeController.class);

    private static final String TABLE_NAME = "xuanke";

    @Autowired
    private XuankeService xuankeService;


    @Autowired
    private TokenService tokenService;
    @Autowired
    private DictionaryService dictionaryService;

    //级联表非注册的service
    @Autowired
    private KechengService kechengService;
    //注册表service
    @Autowired
    private XueshengService xueshengService;
    @Autowired
    private LaoshiService laoshiService;


    /**
    * 后端列表
    */
    @RequestMapping("/page")
    public R page(@RequestParam Map&lt;String, Object&gt; params, HttpServletRequest request){
        logger.debug("page方法:,,Controller:{},,params:{}",this.getClass().getName(),JSONObject.toJSONString(params));
        String role = String.valueOf(request.getSession().getAttribute("role"));
        if(false)
            return R.error(511,"永不会进入");
        else if("学生".equals(role))
            params.put("xueshengId",request.getSession().getAttribute("userId"));
        else if("老师".equals(role))
            params.put("laoshiId",request.getSession().getAttribute("userId"));
        CommonUtil.checkMap(params);
        PageUtils page = xuankeService.queryPage(params);

        //字典表数据转换
        List&lt;XuankeView&gt; list =(List&lt;XuankeView&gt;)page.getList();
        for(XuankeView c:list){
            //修改对应字典表字段
            dictionaryService.dictionaryConvert(c, request);
        }
        return R.ok().put("data", page);
    }

    /**
    * 后端详情
    */
    @RequestMapping("/info/{id}")
    public R info(@PathVariable("id") Long id, HttpServletRequest request){
        logger.debug("info方法:,,Controller:{},,id:{}",this.getClass().getName(),id);
        XuankeEntity xuanke = xuankeService.selectById(id);
        if(xuanke !=null){
            //entity转view
            XuankeView view = new XuankeView();
            BeanUtils.copyProperties( xuanke , view );//把实体数据重构到view中
            //级联表 学生
            //级联表
            XueshengEntity xuesheng = xueshengService.selectById(xuanke.getXueshengId());
            if(xuesheng != null){
            BeanUtils.copyProperties( xuesheng , view ,new String[]{ "id", "createTime", "insertTime", "updateTime", "xueshengId"});//把级联的数据添加到view中,并排除id和创建时间字段,当前表的级联注册表
            view.setXueshengId(xuesheng.getId());
            }
            //级联表 课程
            //级联表
            KechengEntity kecheng = kechengService.selectById(xuanke.getKechengId());
            if(kecheng != null){
            BeanUtils.copyProperties( kecheng , view ,new String[]{ "id", "createTime", "insertTime", "updateTime", "xueshengId"});//把级联的数据添加到view中,并排除id和创建时间字段,当前表的级联注册表
            view.setKechengId(kecheng.getId());
            }
            //修改对应字典表字段
            dictionaryService.dictionaryConvert(view, request);
            return R.ok().put("data", view);
        }else {
            return R.error(511,"查不到数据");
        }

    }

    /**
    * 后端保存
    */
    @RequestMapping("/save")
    public R save(@RequestBody XuankeEntity xuanke, HttpServletRequest request){
        logger.debug("save方法:,,Controller:{},,xuanke:{}",this.getClass().getName(),xuanke.toString());

        String role = String.valueOf(request.getSession().getAttribute("role"));
        if(false)
            return R.error(511,"永远不会进入");
        else if("学生".equals(role))
            xuanke.setXueshengId(Integer.valueOf(String.valueOf(request.getSession().getAttribute("userId"))));

        xuanke.setInsertTime(new Date());
        xuanke.setCreateTime(new Date());
        xuankeService.insert(xuanke);
        return R.ok();
    }

    /**
    * 后端修改
    */
    @RequestMapping("/update")
    public R update(@RequestBody XuankeEntity xuanke, HttpServletRequest request) throws NoSuchFieldException, ClassNotFoundException, IllegalAccessException, InstantiationException {
        logger.debug("update方法:,,Controller:{},,xuanke:{}",this.getClass().getName(),xuanke.toString());
        XuankeEntity oldXuankeEntity = xuankeService.selectById(xuanke.getId());//查询原先数据

        String role = String.valueOf(request.getSession().getAttribute("role"));
//        if(false)
//            return R.error(511,"永远不会进入");
//        else if("学生".equals(role))
//            xuanke.setXueshengId(Integer.valueOf(String.valueOf(request.getSession().getAttribute("userId"))));
        //根据字段查询是否有相同数据
        Wrapper&lt;XuankeEntity&gt; queryWrapper = new EntityWrapper&lt;XuankeEntity&gt;()
            .notIn("id",xuanke.getId())
            .andNew()
            .eq("xuesheng_id", xuanke.getXueshengId())
            .eq("kecheng_id", xuanke.getKechengId())
            ;

        logger.info("sql语句:"+queryWrapper.getSqlSegment());
        XuankeEntity xuankeEntity = xuankeService.selectOne(queryWrapper);
        if(xuankeEntity==null){
            xuankeService.updateById(xuanke);//根据id更新
            return R.ok();
        }else {
            return R.error(511,"表中有相同数据");
        }
    }



    /**
    * 删除
    */
    @RequestMapping("/delete")
    public R delete(@RequestBody Integer[] ids, HttpServletRequest request){
        logger.debug("delete:,,Controller:{},,ids:{}",this.getClass().getName(),ids.toString());
        List&lt;XuankeEntity&gt; oldXuankeList =xuankeService.selectBatchIds(Arrays.asList(ids));//要删除的数据
        xuankeService.deleteBatchIds(Arrays.asList(ids));

        return R.ok();
    }


    /**
     * 批量上传
     */
    @RequestMapping("/batchInsert")
    public R save( String fileName, HttpServletRequest request){
        logger.debug("batchInsert方法:,,Controller:{},,fileName:{}",this.getClass().getName(),fileName);
        Integer xueshengId = Integer.valueOf(String.valueOf(request.getSession().getAttribute("userId")));
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        try {
            List&lt;XuankeEntity&gt; xuankeList = new ArrayList&lt;&gt;();//上传的东西
            Map&lt;String, List&lt;String&gt;&gt; seachFields= new HashMap&lt;&gt;();//要查询的字段
            Date date = new Date();
            int lastIndexOf = fileName.lastIndexOf(".");
            if(lastIndexOf == -1){
                return R.error(511,"该文件没有后缀");
            }else{
                String suffix = fileName.substring(lastIndexOf);
                if(!".xls".equals(suffix)){
                    return R.error(511,"只支持后缀为xls的excel文件");
                }else{
                    URL resource = this.getClass().getClassLoader().getResource("static/upload/" + fileName);//获取文件路径
                    File file = new File(resource.getFile());
                    if(!file.exists()){
                        return R.error(511,"找不到上传文件，请联系管理员");
                    }else{
                        List&lt;List&lt;String&gt;&gt; dataList = PoiUtil.poiImport(file.getPath());//读取xls文件
                        dataList.remove(0);//删除第一行，因为第一行是提示
                        for(List&lt;String&gt; data:dataList){
                            //循环
                            XuankeEntity xuankeEntity = new XuankeEntity();
//                            xuankeEntity.setXueshengId(Integer.valueOf(data.get(0)));   //学生 要改的
//                            xuankeEntity.setKechengId(Integer.valueOf(data.get(0)));   //课程 要改的
//                            xuankeEntity.setInsertTime(date);//时间
//                            xuankeEntity.setCreateTime(date);//时间
                            xuankeList.add(xuankeEntity);


                            //把要查询是否重复的字段放入map中
                        }

                        //查询是否重复
                        xuankeService.insertBatch(xuankeList);
                        return R.ok();
                    }
                }
            }
        }catch (Exception e){
            e.printStackTrace();
            return R.error(511,"批量插入数据异常，请联系管理员");
        }
    }





}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7f5b10a764a241b0539bc2103b3481ba/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">plsql中查询的数据中文显示问号（乱码）问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d064438b494aa7e05f11185fee44ed7d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">golang 对字符串进行base64编解码、md5 编码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>