<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GPON、XG(S)-PON基础 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GPON、XG(S)-PON基础" />
<meta property="og:description" content="前言 本文主要介绍了GPON、XG(S)-PON中数据复用技术、协议、关键技术、组网保护等内容，希望对你有帮助。
一：GPON数据复用技术 下行波长：1490nm，上行波长：1310nm
1：单线双向传输（WDM技术） 2：一根光纤上存在多个用户信号 下行数据流：广播技术（125us）
上行数据流：TDMA技术
TDMA将时间分成若干时隙（slots），每个时隙分配给不同的用户或设备。每个用户或设备只能在其分配的时隙内进行数据传输。这样，多个用户可以在同一频率上共享传输介质，而不会相互干扰。 二：GPON协议 1：ITU G.984相关标准 2：网络模型对照图 3：GPON上下行复用关系 上行复用：Tcont ID = Alloc ID、Port ID = GEM PORT ID，不同的Tcont最终的目的是为了绑定不同的DBA模板，获得不同速度的业务
下行复用：广播&#43;GEM PORT ID过滤
4：GPON的上下行帧结构 5：以太网帧在GPON中的映射 6：TDM业务在GPON中的映射（透传） ChatGPT两者区别
三：GPON关键技术 1：ONU测距原理 RTD：往返延迟 EqD：均衡延时参数
上行方向技术避免链路冲突：TDMA&#43;测距 （可以选用距离OLT最远的ONU作为参考）
2：上行动态带宽分配DBA (1)提高PON端口的上行线路带宽利用率
(2)可以在PON口上增加更多的用户
(3)用户可以享受到更高带宽的服务
DBA工作机制：
SR-DBA：status report-DBA 状态报告
NSR-DBA：none status report-DBA 非状态报告
DBA实现的基础--Tcont，不同的业务一般绑在不同的Tcont上
带宽类型：FB、AB、NAB、BE
FB：固定带宽（分10M，不管你用不用得完）
AB：保证带宽（保证你想用的时候最多可以有10M，如果这段时间不用这么多，可以将多余的部分分给其他用户）
NAB：非保证带宽
BE：最大努力带宽
Tcont类型和DBA模板的对应关系
3：下行AES加密 四：GPON系统的管理和业务发放模式 1：GPON终端认证 GPON终端认证是指OLT基于ONU的SN或者Password对ONU的合法性进行认证，拒绝非法ONU的接入
SN认证：
SN&#43;Password认证：
2：GPON终端管理模型 OLT管理ONU：OMCI 网管管理OLT：SNMP
常见终端管理方式1
全OMCI模式，上网业务、组播业务、语音业务都通过OMCI进行下发
常见终端管理方式2
上网业务、组播业务通过OMCI进行下发；语音业务通过FTP从网管下载XML文件然后通过OMCI通道下发给 ONU" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3f03609224e44d08de9446123ae697ce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-14T21:58:30+08:00" />
<meta property="article:modified_time" content="2023-11-14T21:58:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GPON、XG(S)-PON基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>本文主要介绍了GPON、XG(S)-PON中数据复用技术、协议、关键技术、组网保护等内容，希望对你有帮助。</p> 
<h2 style="margin-left:0;text-align:justify;">一：GPON数据复用技术</h2> 
<p style="margin-left:0;text-align:justify;">下行波长：1490nm，上行波长：1310nm</p> 
<h3 style="margin-left:0px;text-align:justify;">1：单线双向传输（WDM技术）</h3> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="322" src="https://images2.imgbox.com/9e/a2/e3ycsNZ0_o.png" width="865"></p> 
<h3 style="margin-left:0px;text-align:justify;">2：一根光纤上存在多个用户信号</h3> 
<p style="margin-left:0;text-align:justify;">下行数据流：广播技术（125us）</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="417" src="https://images2.imgbox.com/fc/27/n16o634S_o.png" width="865"></p> 
<p>上行数据流：TDMA技术</p> 
<p><span style="color:#000000;">TDMA将时间分成若干时隙（slots），每个时隙分配给不同的用户或设备。每个用户或设备只能在其分配的时隙内进行数据传输。这样，多个用户可以在同一频率上共享传输介质，而不会相互干扰。</span> </p> 
<p><img alt="" height="434" src="https://images2.imgbox.com/6f/0a/khWyKsMd_o.png" width="865"></p> 
<h2 style="margin-left:0px;text-align:justify;">二：GPON协议</h2> 
<h3 style="margin-left:0px;text-align:justify;">1：ITU G.984相关标准</h3> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="483" src="https://images2.imgbox.com/36/ee/iuOgRxm2_o.png" width="865"></p> 
<h3>2：网络模型对照图</h3> 
<p><img alt="" height="416" src="https://images2.imgbox.com/d7/73/SKvPJmgr_o.png" width="865"></p> 
<h3>3：GPON上下行复用关系</h3> 
<p>上行复用：Tcont ID = Alloc ID、Port ID = GEM PORT ID，不同的Tcont最终的目的是为了绑定不同的DBA模板，获得不同速度的业务</p> 
<p><img alt="" height="452" src="https://images2.imgbox.com/6e/97/EHlymSac_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">下行复用：广播+GEM PORT ID过滤</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="448" src="https://images2.imgbox.com/8a/98/4P54NEvI_o.png" width="865"></p> 
<h3>4：GPON的上下行帧结构</h3> 
<p><img alt="" height="453" src="https://images2.imgbox.com/31/a9/ZVYFZi6Q_o.png" width="865"></p> 
<h3 style="margin-left:0px;text-align:justify;">5：以太网帧在GPON中的映射</h3> 
<p><img alt="" height="352" src="https://images2.imgbox.com/0b/a1/8zxfHaQi_o.png" width="865"></p> 
<h3>6：TDM业务在GPON中的映射（透传）</h3> 
<p><img alt="" height="391" src="https://images2.imgbox.com/a9/97/CMKO78UN_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">ChatGPT两者区别</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="470" src="https://images2.imgbox.com/63/a0/TYxL9q5p_o.png" width="865"></p> 
<h2>三：GPON关键技术</h2> 
<h3>1：ONU测距原理</h3> 
<p style="margin-left:0;text-align:justify;">RTD：往返延迟            EqD：均衡延时参数</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="325" src="https://images2.imgbox.com/60/ec/mIlItCJ0_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">上行方向技术避免链路冲突：TDMA+测距 （可以选用距离OLT最远的ONU作为参考）</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="282" src="https://images2.imgbox.com/ed/a3/CqW3Rpu8_o.png" width="865"></p> 
<h3 style="margin-left:0px;text-align:justify;">2：上行动态带宽分配DBA</h3> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">(1)提高PON端口的上行线路带宽利用率</p> 
 <p style="margin-left:0;text-align:justify;">(2)可以在PON口上增加更多的用户</p> 
 <p style="margin-left:0;text-align:justify;">(3)用户可以享受到更高带宽的服务</p> 
</blockquote> 
<p style="margin-left:0;text-align:justify;">DBA工作机制：</p> 
<p style="margin-left:0;text-align:justify;">SR-DBA：status report-DBA 状态报告</p> 
<p style="margin-left:0;text-align:justify;">NSR-DBA：none status report-DBA 非状态报告</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="472" src="https://images2.imgbox.com/27/29/dXhYa0Fy_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">DBA实现的基础--Tcont，不同的业务一般绑在不同的Tcont上</p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#fe2c24;"><strong>带宽类型：FB、AB、NAB、BE</strong></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#ff0000;">FB</span></strong><strong><span style="color:#ff0000;">：固定带宽</span></strong>（分10M，不管你用不用得完）</p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#ff0000;">AB</span></strong><strong><span style="color:#ff0000;">：保证带宽</span></strong>（保证你想用的时候最多可以有10M，如果这段时间不用这么多，可以将多余的部分分给其他用户）</p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#ff0000;">NAB</span></strong><strong><span style="color:#ff0000;">：非保证带宽</span></strong></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#ff0000;">BE</span></strong><strong><span style="color:#ff0000;">：最大努力带宽</span></strong></p> 
<p style="margin-left:0;text-align:justify;">Tcont类型和DBA模板的对应关系</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="330" src="https://images2.imgbox.com/e7/24/ymhGkbaA_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="321" src="https://images2.imgbox.com/06/aa/UQ6HZ5b7_o.png" width="865"></p> 
<h3> 3：下行AES加密</h3> 
<p><img alt="" height="407" src="https://images2.imgbox.com/3a/2d/HNOGOEFd_o.png" width="865"></p> 
<h2 style="margin-left:0px;text-align:justify;">四：GPON系统的管理和业务发放模式</h2> 
<h3 style="margin-left:0px;text-align:justify;">1：GPON终端认证</h3> 
<p style="margin-left:0;text-align:justify;">GPON终端认证是指OLT基于ONU的SN或者Password对ONU的合法性进行认证，拒绝非法ONU的接入</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="279" src="https://images2.imgbox.com/80/82/MraFqj43_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#511b78;"><strong>SN认证：</strong></span></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="391" src="https://images2.imgbox.com/d8/65/gGY5q9Vk_o.png" width="865"></p> 
<p><span style="color:#511b78;"><strong> SN+Password认证：</strong></span></p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/b1/ba/sVqGfE17_o.png" width="865"></p> 
<h3>2：GPON终端管理模型</h3> 
<p style="margin-left:0;text-align:justify;">OLT管理ONU：OMCI        网管管理OLT：SNMP</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="214" src="https://images2.imgbox.com/d6/72/QLkINOCc_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#7030a0;">常见终端管理方式</span><span style="color:#7030a0;">1</span></strong></p> 
<p style="margin-left:0;text-align:justify;">全OMCI模式，上网业务、组播业务、语音业务都通过OMCI进行下发</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="298" src="https://images2.imgbox.com/d1/75/EVmsIoub_o.png" width="865"></p> 
<p> <strong><span style="color:#7030a0;">常见终端管理方式</span><span style="color:#7030a0;">2</span></strong></p> 
<p>上网业务、组播业务通过OMCI进行下发；语音业务通过FTP从网管下载XML文件然后通过OMCI通道下发给 ONU</p> 
<p><img alt="" height="289" src="https://images2.imgbox.com/59/07/WtCcIxnZ_o.png" width="865"></p> 
<p><strong><span style="color:#7030a0;">常见</span><span style="color:#7030a0;">GPON</span></strong><strong><span style="color:#7030a0;">终端管理方式</span><span style="color:#7030a0;">3</span></strong></p> 
<p><img alt="" height="396" src="https://images2.imgbox.com/26/c8/o5avQRDV_o.png" width="1165"></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#7030a0;">常见</span><span style="color:#7030a0;">GPON</span></strong><strong><span style="color:#7030a0;">终端管理方式</span><span style="color:#7030a0;">4</span></strong></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="445" src="https://images2.imgbox.com/b9/5d/iZYw12BN_o.png" width="1183"></p> 
<h2> 五：GPON组网保护</h2> 
<h3>1：Type B单归属保护（同一OLT下的不同PON口、双主干）</h3> 
<p><img alt="" height="370" src="https://images2.imgbox.com/d8/ae/9fo0U56C_o.png" width="865"></p> 
<h3>2：Type B双归属保护（两台OLT的不同PON口）</h3> 
<p><img alt="" height="405" src="https://images2.imgbox.com/91/25/UCyeUe8f_o.png" width="865"></p> 
<h3>3：Type C单归属保护（OLT、ONU、分光器均实现类似的环网保护）</h3> 
<p><img alt="" height="379" src="https://images2.imgbox.com/d7/e8/Tq0DMSOq_o.png" width="865"></p> 
<h3>4：Type C双归属（分布在两台OLT的不同PON口下） </h3> 
<p><img alt="" height="437" src="https://images2.imgbox.com/ea/19/GpwnaU9I_o.png" width="865"></p> 
<h2> 六：XG(S)-PON技术原理</h2> 
<p style="margin-left:0;text-align:justify;">下行波长：1577nm，上行波长：1270nm</p> 
<p><img alt="" height="305" src="https://images2.imgbox.com/9d/42/6KiQ7tuF_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">下行数据采用广播方式，通过GEM-Port ID来区分不同的ONU数据，通过下行帧的upstream bandwidth map字段来给ONU分配上行时隙</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="312" src="https://images2.imgbox.com/73/b4/1vxU3HOK_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">当ONU不接在OLT的PON口时直接将光功率计接到ONU的PON口下是不能检测ONU的光强，ONU只能被动发光。如果此时ONU的PON口还能检测到光，证明该ONU在长发光，是流氓ONU。</p> 
<p><img alt="" height="413" src="https://images2.imgbox.com/9a/19/jkMFOJ17_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">XGEM帧结构：</p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">PLI：标志payload的大小</p> 
 <p style="margin-left:0;text-align:justify;">Key Index：加密字段</p> 
 <p style="margin-left:0;text-align:justify;">XGEM Port ID：标识不同用户的数据</p> 
 <p style="margin-left:0;text-align:justify;">Options：保留</p> 
 <p style="margin-left:0;text-align:justify;">LF：标识是不是XGME帧的最后一个分片单元</p> 
 <p style="margin-left:0;text-align:justify;">HEC：头部的差错控制</p> 
</blockquote> 
<p><img alt="" height="331" src="https://images2.imgbox.com/ca/18/zAfyyBv5_o.png" width="865"></p> 
<h2> 七：XG(S)-PON中的关键技术</h2> 
<h3>1：测距原理（和gpon类似）</h3> 
<h3>2：突发发送（ONU）和突发接收（OLT）</h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#511b78;"><strong>ONU侧突发发送：</strong></span>测距保证不同ONU发送的信元在OLT端互不冲突，但测距精度有限，一般为正负1bit，不同ONU发送的信元会有几bits的防护时间，如果ONU侧的光模块不具备突发发送功能，则会导致发送的信号出现叠加，信号则会失真。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="329" src="https://images2.imgbox.com/ad/86/vribSmmQ_o.png" width="865"></p> 
<p><span style="color:#511b78;"><strong>OLT侧突发接收：</strong></span>由于每个ONU到OLT的距离不同，所以光信号衰减对于每个ONU来讲都是不同的，即就可能导致OLT在不同时隙接收到的报文的功率电平是不同的。动态调整阈值功能可以在OLT按照收光信号的强弱去动态调整收光功率的阈值，以保证所有ONU的信号可以完整恢复。</p> 
<p><img alt="" height="306" src="https://images2.imgbox.com/22/a8/1QBJf30k_o.png" width="865"></p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;"></p> </td><td style="border-color:#000000;vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;">OLT</p> </td><td style="border-color:#000000;vertical-align:top;width:138.3pt;"> <p style="margin-left:0;text-align:justify;">ONU</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;">发送</p> </td><td style="vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;">连续</p> </td><td style="vertical-align:top;width:138.3pt;"> <p style="margin-left:0;text-align:justify;">突发</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;">接收</p> </td><td style="vertical-align:top;width:138.25pt;"> <p style="margin-left:0;text-align:justify;">突发</p> </td><td style="vertical-align:top;width:138.3pt;"> <p style="margin-left:0;text-align:justify;">连续</p> </td></tr></tbody></table> 
<h3>3：ODN复用</h3> 
<p style="margin-left:0;text-align:justify;">ODN 在光纤通信网络中起到了连接、分发和维护光信号的重要作用</p> 
<p style="margin-left:0;text-align:justify;">XG(S)-PON和GPON可以通过WDM技术复用ODN</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="229" src="https://images2.imgbox.com/ca/0d/BAGJQS7n_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">WDM模块的主要功能就是分波和合波</p> 
<p><img alt="" height="256" src="https://images2.imgbox.com/a0/5d/nvraDD6Z_o.png" width="865"></p> 
<h2>八： PON数据封装简介（以太网帧封装过程）</h2> 
<h3 style="margin-left:0px;text-align:justify;">1：上行方向</h3> 
<p style="margin-left:0;text-align:justify;">用户发出以太网帧到达ONU，ONU会将以太网帧中的前导码和帧间隙等内容剥离。留下DA到FCS这段有用的数据加上GEM帧的头部、Tcont头部、GTC头部，组合成一个GTC帧之后再传给OLT。OLT接收到之后取出DA到FCS内容，剥离GTC头部、Tcont头部、GEM头部，添加前导码和帧间隙等内容组成真正的以太网帧后传到交换机。</p> 
<p style="margin-left:0;text-align:justify;">GEM帧头部（5bytes）</p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">PLI：GEM帧的净荷大小</p> 
 <p style="margin-left:0;text-align:justify;">Port ID：用来标识不同用户的数据</p> 
 <p style="margin-left:0;text-align:justify;">PTI：净荷类型、表示所传送的数据的状态和类型</p> 
 <p style="margin-left:0;text-align:justify;">CRC：循环冗余校验</p> 
</blockquote> 
<p> <img alt="" height="355" src="https://images2.imgbox.com/14/97/UzOeqIr9_o.png" width="865"></p> 
<h3>2：下行方向</h3> 
<p><img alt="" height="389" src="https://images2.imgbox.com/f7/a5/LXUl7oth_o.png" width="865"></p> 
<p>举例PC3要和PC1和PC2进行通信，下行方向没有Tcont的概念。将每个MAC帧加上相应的GEM头部后，最后全部整合成一个帧，最外是PCBd字段。封装成GTC帧之后就直接在PON口下进行广播，所有的都可以收到相同的内容，然后进行解封装，识别GEM Port ID，是不是自己的数据，如果不是就丢弃，是就接收。最后ONU将GEM帧还原出MAC帧发送给对应的PC。</p> 
<p><img alt="" height="453" src="https://images2.imgbox.com/f5/ad/p2RKVzvM_o.png" width="865"></p> 
<h2>总结</h2> 
<p>以上就是本文的全部内容了，希望可以帮助到你。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79b9caf60f531dbb6c5588aac4b63c1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mac清理软件cleanmymac x4.14.4破解版,2024年有免费cleanmymac x激活码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/055f71f33de8dfd113f55b87f1561a7e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Solved】:autoreconf: error: automake failed with exit status: 1 error</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>