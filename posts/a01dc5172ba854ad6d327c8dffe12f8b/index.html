<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>路由技术——OSPF - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="路由技术——OSPF" />
<meta property="og:description" content="目录
基础理论部分：邻居关系建立
1.OSPF 报文类型以及每一种报文的作用？（提示：hello 作用有4个）
2. 描述一下OSPF 工作流程？
3.Router ID 选举原则
4.OSPF建立邻接的条件:【提示：报头、hello、DBD 中的参数， 共11点】
5.OSPF 邻居建立过程
6 .隐式确认交互过程
7. OSPF 网络类型
8.每一种网络类型下的报文发送是使用单播还是组播，如果是组播， 地址是多少？hello 发送时间是多少
9. 点到点与点到多点的网络类型能否建立邻居，能否传递路由？如果想建立邻居， 如何修改参数？
10.DR 和 BDR 的作用和竞选规则？
11. 为什么DR不可以抢占？
12.IS-IS也有一个广播的网络类型，和OSPF中的DR一样有一个DIS，这个DIS是可以被抢占的，叫指定中间系统，为什么DIS支持被抢占？
13.OSPF开销的计算方式：
14. 5类LSA有哪几种计算外部路由metric值的方式，有什么区别？
15.两种外部路由metric计算方式怎么进行优选比较？
16.OSPF 是如何进行防环的？[提示：区域内的防环：区域间防环：外部路由防环：]
17. 真ABR 与伪ABR 的概念和ABR的防环规则
18.LSA 能不能汇总，在哪里汇总，为什么？
19 .OSPF路由选路的原则，及在什么情况下会负载，
20.如果有多台ABR存在，是每台ABR都会进行7转5操作吗？转换者选举原则是什么？
进阶理论：OSPF LSA
21.，1类LSA 是谁产生的？1类LSA都包含哪些信息？有几种链路类型？描述一下每一种链路类型， Link ID，adv router 是什么？cost 如何计算？
22.2类LSA 是谁产生的？2类LSA 包含的内容是什么， Link ID，adv router 是什么？
23. 3类LSA 是谁产生的?3类LSA 包含的内容是什么， Link ID 是什么， ADV Router 是什么， 跨区域传递ADV Router 如何改变？cost 是多少？" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a01dc5172ba854ad6d327c8dffe12f8b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-31T20:11:32+08:00" />
<meta property="article:modified_time" content="2021-01-31T20:11:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">路由技术——OSPF</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="_0"></a></h2> 
<p style="text-align:center;"><img alt="" height="454" src="https://images2.imgbox.com/f9/f3/hjqjTQD4_o.png" width="803"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p style="margin-left:40px;"><a href="#%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA%E9%83%A8%E5%88%86%EF%BC%9A%E9%82%BB%E5%B1%85%E5%85%B3%E7%B3%BB%E5%BB%BA%E7%AB%8B" rel="nofollow">基础理论部分：邻居关系建立</a></p> 
<p id="1.OSPF%20%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B%E4%BB%A5%E5%8F%8A%E6%AF%8F%E4%B8%80%E7%A7%8D%E6%8A%A5%E6%96%87%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%EF%BC%88%E6%8F%90%E7%A4%BA%EF%BC%9Ahello%20%E4%BD%9C%E7%94%A8%E6%9C%894%E4%B8%AA%EF%BC%89-toc" style="margin-left:80px;"><a href="#1.OSPF%20%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B%E4%BB%A5%E5%8F%8A%E6%AF%8F%E4%B8%80%E7%A7%8D%E6%8A%A5%E6%96%87%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%EF%BC%88%E6%8F%90%E7%A4%BA%EF%BC%9Ahello%20%E4%BD%9C%E7%94%A8%E6%9C%894%E4%B8%AA%EF%BC%89" rel="nofollow">1.OSPF 报文类型以及每一种报文的作用？（提示：hello 作用有4个）</a></p> 
<p id="2.%20%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8BOSPF%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%EF%BC%9F-toc" style="margin-left:80px;"><a href="#2.%20%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8BOSPF%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%EF%BC%9F" rel="nofollow">2. 描述一下OSPF 工作流程？</a></p> 
<p id="3.Router%20ID%20%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99-toc" style="margin-left:80px;"><a href="#3.Router%20ID%20%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99" rel="nofollow">3.Router ID 选举原则</a></p> 
<p id="4.OSPF%E5%BB%BA%E7%AB%8B%E9%82%BB%E6%8E%A5%E7%9A%84%E6%9D%A1%E4%BB%B6%3A%E3%80%90%E6%8F%90%E7%A4%BA%EF%BC%9A%E6%8A%A5%E5%A4%B4%E3%80%81hello%E3%80%81DBD%20%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%20%E5%85%B111%E7%82%B9%E3%80%91-toc" style="margin-left:80px;"><a href="#4.OSPF%E5%BB%BA%E7%AB%8B%E9%82%BB%E6%8E%A5%E7%9A%84%E6%9D%A1%E4%BB%B6%3A%E3%80%90%E6%8F%90%E7%A4%BA%EF%BC%9A%E6%8A%A5%E5%A4%B4%E3%80%81hello%E3%80%81DBD%20%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%20%E5%85%B111%E7%82%B9%E3%80%91" rel="nofollow">4.OSPF建立邻接的条件:【提示：报头、hello、DBD 中的参数， 共11点】</a></p> 
<p id="5.OSPF%20%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B-toc" style="margin-left:80px;"><a href="#5.OSPF%20%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B" rel="nofollow">5.OSPF 邻居建立过程</a></p> 
<p id="6%20.%E9%9A%90%E5%BC%8F%E7%A1%AE%E8%AE%A4%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-toc" style="margin-left:80px;"><a href="#6%20.%E9%9A%90%E5%BC%8F%E7%A1%AE%E8%AE%A4%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B" rel="nofollow">6 .隐式确认交互过程</a></p> 
<p id="7.%20OSPF%20%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#7.%20OSPF%20%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B" rel="nofollow">7. OSPF 网络类型</a></p> 
<p id="8.%E6%AF%8F%E4%B8%80%E7%A7%8D%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E4%B8%8B%E7%9A%84%E6%8A%A5%E6%96%87%E5%8F%91%E9%80%81%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8D%95%E6%92%AD%E8%BF%98%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%20%E5%9C%B0%E5%9D%80%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9Fhello%20%E5%8F%91%E9%80%81%E6%97%B6%E9%97%B4%E6%98%AF%E5%A4%9A%E5%B0%91-toc" style="margin-left:80px;"><a href="#8.%E6%AF%8F%E4%B8%80%E7%A7%8D%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E4%B8%8B%E7%9A%84%E6%8A%A5%E6%96%87%E5%8F%91%E9%80%81%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8D%95%E6%92%AD%E8%BF%98%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%20%E5%9C%B0%E5%9D%80%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9Fhello%20%E5%8F%91%E9%80%81%E6%97%B6%E9%97%B4%E6%98%AF%E5%A4%9A%E5%B0%91" rel="nofollow">8.每一种网络类型下的报文发送是使用单播还是组播，如果是组播， 地址是多少？hello 发送时间是多少</a></p> 
<p id="9.%20%E7%82%B9%E5%88%B0%E7%82%B9%E4%B8%8E%E7%82%B9%E5%88%B0%E5%A4%9A%E7%82%B9%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%90%A6%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%E8%83%BD%E5%90%A6%E4%BC%A0%E9%80%92%E8%B7%AF%E7%94%B1%EF%BC%9F%E5%A6%82%E6%9E%9C%E6%83%B3%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%20%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E5%8F%82%E6%95%B0%EF%BC%9F-toc" style="margin-left:80px;"><a href="#9.%20%E7%82%B9%E5%88%B0%E7%82%B9%E4%B8%8E%E7%82%B9%E5%88%B0%E5%A4%9A%E7%82%B9%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%90%A6%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%E8%83%BD%E5%90%A6%E4%BC%A0%E9%80%92%E8%B7%AF%E7%94%B1%EF%BC%9F%E5%A6%82%E6%9E%9C%E6%83%B3%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%20%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E5%8F%82%E6%95%B0%EF%BC%9F" rel="nofollow">9. 点到点与点到多点的网络类型能否建立邻居，能否传递路由？如果想建立邻居， 如何修改参数？</a></p> 
<p id="10.DR%20%E5%92%8C%20BDR%20%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E7%AB%9E%E9%80%89%E8%A7%84%E5%88%99%EF%BC%9F-toc" style="margin-left:80px;"><a href="#10.DR%20%E5%92%8C%20BDR%20%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E7%AB%9E%E9%80%89%E8%A7%84%E5%88%99%EF%BC%9F" rel="nofollow">10.DR 和 BDR 的作用和竞选规则？</a></p> 
<p id="11.%20%E4%B8%BA%E4%BB%80%E4%B9%88DR%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%8A%A2%E5%8D%A0%EF%BC%9F-toc" style="margin-left:80px;"><a href="#11.%20%E4%B8%BA%E4%BB%80%E4%B9%88DR%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%8A%A2%E5%8D%A0%EF%BC%9F" rel="nofollow">11. 为什么DR不可以抢占？</a></p> 
<p id="12.IS-IS%E4%B9%9F%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B9%BF%E6%92%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%92%8COSPF%E4%B8%AD%E7%9A%84DR%E4%B8%80%E6%A0%B7%E6%9C%89%E4%B8%80%E4%B8%AADIS%EF%BC%8C%E8%BF%99%E4%B8%AADIS%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%8A%A2%E5%8D%A0%E7%9A%84%EF%BC%8C%E5%8F%AB%E6%8C%87%E5%AE%9A%E4%B8%AD%E9%97%B4%E7%B3%BB%E7%BB%9F%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88DIS%E6%94%AF%E6%8C%81%E8%A2%AB%E6%8A%A2%E5%8D%A0%EF%BC%9F-toc" style="margin-left:80px;"><a href="#12.IS-IS%E4%B9%9F%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B9%BF%E6%92%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%92%8COSPF%E4%B8%AD%E7%9A%84DR%E4%B8%80%E6%A0%B7%E6%9C%89%E4%B8%80%E4%B8%AADIS%EF%BC%8C%E8%BF%99%E4%B8%AADIS%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%8A%A2%E5%8D%A0%E7%9A%84%EF%BC%8C%E5%8F%AB%E6%8C%87%E5%AE%9A%E4%B8%AD%E9%97%B4%E7%B3%BB%E7%BB%9F%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88DIS%E6%94%AF%E6%8C%81%E8%A2%AB%E6%8A%A2%E5%8D%A0%EF%BC%9F" rel="nofollow">12.IS-IS也有一个广播的网络类型，和OSPF中的DR一样有一个DIS，这个DIS是可以被抢占的，叫指定中间系统，为什么DIS支持被抢占？</a></p> 
<p id="13.OSPF%E5%BC%80%E9%94%80%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%EF%BC%9A-toc" style="margin-left:80px;"><a href="#13.OSPF%E5%BC%80%E9%94%80%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%EF%BC%9A" rel="nofollow">13.OSPF开销的计算方式：</a></p> 
<p id="14.%205%E7%B1%BBLSA%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E8%AE%A1%E7%AE%97%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F-toc" style="margin-left:80px;"><a href="#14.%205%E7%B1%BBLSA%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E8%AE%A1%E7%AE%97%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" rel="nofollow">14. 5类LSA有哪几种计算外部路由metric值的方式，有什么区别？</a></p> 
<p id="15.%E4%B8%A4%E7%A7%8D%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E4%BC%98%E9%80%89%E6%AF%94%E8%BE%83%EF%BC%9F-toc" style="margin-left:80px;"><a href="#15.%E4%B8%A4%E7%A7%8D%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E4%BC%98%E9%80%89%E6%AF%94%E8%BE%83%EF%BC%9F" rel="nofollow">15.两种外部路由metric计算方式怎么进行优选比较？</a></p> 
<p id="16.OSPF%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%98%B2%E7%8E%AF%E7%9A%84%EF%BC%9F%5B%E6%8F%90%E7%A4%BA%EF%BC%9A%E5%8C%BA%E5%9F%9F%E5%86%85%E7%9A%84%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%8C%BA%E5%9F%9F%E9%97%B4%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E9%98%B2%E7%8E%AF%EF%BC%9A%5D-toc" style="margin-left:80px;"><a href="#16.OSPF%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%98%B2%E7%8E%AF%E7%9A%84%EF%BC%9F%5B%E6%8F%90%E7%A4%BA%EF%BC%9A%E5%8C%BA%E5%9F%9F%E5%86%85%E7%9A%84%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%8C%BA%E5%9F%9F%E9%97%B4%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E9%98%B2%E7%8E%AF%EF%BC%9A%5D" rel="nofollow">16.OSPF 是如何进行防环的？[提示：区域内的防环：区域间防环：外部路由防环：]</a></p> 
<p id="17.%20%E7%9C%9FABR%20%E4%B8%8E%E4%BC%AAABR%20%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8CABR%E7%9A%84%E9%98%B2%E7%8E%AF%E8%A7%84%E5%88%99-toc" style="margin-left:80px;"><a href="#17.%20%E7%9C%9FABR%20%E4%B8%8E%E4%BC%AAABR%20%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8CABR%E7%9A%84%E9%98%B2%E7%8E%AF%E8%A7%84%E5%88%99" rel="nofollow">17. 真ABR 与伪ABR 的概念和ABR的防环规则</a></p> 
<p id="18.LSA%20%E8%83%BD%E4%B8%8D%E8%83%BD%E6%B1%87%E6%80%BB%EF%BC%8C%E5%9C%A8%E5%93%AA%E9%87%8C%E6%B1%87%E6%80%BB%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:80px;"><a href="#18.LSA%20%E8%83%BD%E4%B8%8D%E8%83%BD%E6%B1%87%E6%80%BB%EF%BC%8C%E5%9C%A8%E5%93%AA%E9%87%8C%E6%B1%87%E6%80%BB%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">18.LSA 能不能汇总，在哪里汇总，为什么？</a></p> 
<p id="19%20.OSPF%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E7%9A%84%E5%8E%9F%E5%88%99%EF%BC%8C%E5%8F%8A%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E8%B4%9F%E8%BD%BD%EF%BC%8C-toc" style="margin-left:80px;"><a href="#19%20.OSPF%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E7%9A%84%E5%8E%9F%E5%88%99%EF%BC%8C%E5%8F%8A%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E8%B4%9F%E8%BD%BD%EF%BC%8C" rel="nofollow">19 .OSPF路由选路的原则，及在什么情况下会负载，</a></p> 
<p id="20.%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E5%8F%B0ABR%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%98%AF%E6%AF%8F%E5%8F%B0ABR%E9%83%BD%E4%BC%9A%E8%BF%9B%E8%A1%8C7%E8%BD%AC5%E6%93%8D%E4%BD%9C%E5%90%97%EF%BC%9F%E8%BD%AC%E6%8D%A2%E8%80%85%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:80px;"><a href="#20.%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E5%8F%B0ABR%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%98%AF%E6%AF%8F%E5%8F%B0ABR%E9%83%BD%E4%BC%9A%E8%BF%9B%E8%A1%8C7%E8%BD%AC5%E6%93%8D%E4%BD%9C%E5%90%97%EF%BC%9F%E8%BD%AC%E6%8D%A2%E8%80%85%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">20.如果有多台ABR存在，是每台ABR都会进行7转5操作吗？转换者选举原则是什么？</a></p> 
<p id="%E8%BF%9B%E9%98%B6%E7%90%86%E8%AE%BA%EF%BC%9AOSPF%20LSA-toc" style="margin-left:40px;"><a href="#%E8%BF%9B%E9%98%B6%E7%90%86%E8%AE%BA%EF%BC%9AOSPF%20LSA" rel="nofollow">进阶理论：OSPF LSA</a></p> 
<p id="21.%EF%BC%8C1%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F1%E7%B1%BBLSA%E9%83%BD%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E4%BF%A1%E6%81%AF%EF%BC%9F%E6%9C%89%E5%87%A0%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%9F%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E6%AF%8F%E4%B8%80%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9Fcost%20%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%EF%BC%9F-toc" style="margin-left:80px;"><a href="#21.%EF%BC%8C1%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F1%E7%B1%BBLSA%E9%83%BD%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E4%BF%A1%E6%81%AF%EF%BC%9F%E6%9C%89%E5%87%A0%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%9F%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E6%AF%8F%E4%B8%80%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9Fcost%20%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%EF%BC%9F" rel="nofollow">21.，1类LSA 是谁产生的？1类LSA都包含哪些信息？有几种链路类型？描述一下每一种链路类型， Link ID，adv router 是什么？cost 如何计算？</a></p> 
<p id="22.2%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F2%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:80px;"><a href="#22.2%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F2%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">22.2类LSA 是谁产生的？2类LSA 包含的内容是什么， Link ID，adv router 是什么？</a></p> 
<p id="23.%203%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F3%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20ADV%20Router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20%E8%B7%A8%E5%8C%BA%E5%9F%9F%E4%BC%A0%E9%80%92ADV%20Router%20%E5%A6%82%E4%BD%95%E6%94%B9%E5%8F%98%EF%BC%9Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F-toc" style="margin-left:80px;"><a href="#23.%203%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F3%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20ADV%20Router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20%E8%B7%A8%E5%8C%BA%E5%9F%9F%E4%BC%A0%E9%80%92ADV%20Router%20%E5%A6%82%E4%BD%95%E6%94%B9%E5%8F%98%EF%BC%9Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F" rel="nofollow">23. 3类LSA 是谁产生的?3类LSA 包含的内容是什么， Link ID 是什么， ADV Router 是什么， 跨区域传递ADV Router 如何改变？cost 是多少？</a></p> 
<p id="24.4%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F4%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8CADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20cost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F-toc" style="margin-left:80px;"><a href="#24.4%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F4%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8CADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20cost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F" rel="nofollow">24.4类LSA 是谁产生的？4类LSA 包含的内容是什么， Link ID 是什么，ADV router 是什么， cost 是多少？</a></p> 
<p id="25.5%E7%B1%BBLSA%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F5%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9%2CLink%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%2C%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%3F-toc" style="margin-left:80px;"><a href="#25.5%E7%B1%BBLSA%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F5%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9%2CLink%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%2C%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%3F" rel="nofollow">25.5类LSA是谁产生的？5类LSA 包含什么内容,Link ID 是什么, ADV router 是什么?cost 是多少?</a></p> 
<p id="26.7%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F%207%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%3F%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%3F%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E4%BB%80%E4%B9%88%3F-toc" style="margin-left:80px;"><a href="#26.7%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F%207%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%3F%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%3F%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E4%BB%80%E4%B9%88%3F" rel="nofollow">26.7类LSA 是谁产生的? 7类LSA 包含的内容是什么? Link ID 是什么? ADV router 是什么?cost 是什么?</a></p> 
<p id="27.%20Forwarding%20Address%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%E4%BB%A5%E5%8F%8A%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6%3F-toc" style="margin-left:80px;"><a href="#27.%20Forwarding%20Address%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%E4%BB%A5%E5%8F%8A%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6%3F" rel="nofollow">27. Forwarding Address的作用？以及产生条件?</a></p> 
<p id="28.7%E7%B1%BBLSA%E7%9A%84FA%E5%9C%B0%E5%9D%80%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F%E9%80%89%E4%B8%BE%E8%A7%84%E5%88%99%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%9F%E5%8D%8E%E4%B8%BA%E8%A7%84%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%3F-toc" style="margin-left:80px;"><a href="#28.7%E7%B1%BBLSA%E7%9A%84FA%E5%9C%B0%E5%9D%80%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F%E9%80%89%E4%B8%BE%E8%A7%84%E5%88%99%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%9F%E5%8D%8E%E4%B8%BA%E8%A7%84%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%3F" rel="nofollow">28.7类LSA的FA地址是什么，有什么作用？选举规则是怎么样的？华为规则是什么?</a></p> 
<p id="29.VLINK%E5%BB%BA%E7%AB%8B%E6%97%B6%EF%BC%8CPEER%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%EF%BC%8C%E9%82%A3%E4%B9%88%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%20%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%AE%A3%E5%91%8A%E8%BF%9BOSPF%E4%B8%AD%EF%BC%9F-toc" style="margin-left:80px;"><a href="#29.VLINK%E5%BB%BA%E7%AB%8B%E6%97%B6%EF%BC%8CPEER%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%EF%BC%8C%E9%82%A3%E4%B9%88%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%20%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%AE%A3%E5%91%8A%E8%BF%9BOSPF%E4%B8%AD%EF%BC%9F" rel="nofollow">29.VLINK建立时，PEER的时候是对方的ROUTE ID，那么对方的ROUTE ID 是否需要宣告进OSPF中？</a></p> 
<p id="30.%E5%81%9AVLINK%E7%9A%84%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F-toc" style="margin-left:80px;"><a href="#30.%E5%81%9AVLINK%E7%9A%84%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F" rel="nofollow">30.做VLINK的时候需要注意的问题？</a></p> 
<p id="31.%E5%85%B3%E4%BA%8E%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8iSPF%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8PRC%20%EF%BC%9F-toc" style="margin-left:80px;"><a href="#31.%E5%85%B3%E4%BA%8E%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8iSPF%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8PRC%20%EF%BC%9F" rel="nofollow">31.关于路由算法， 什么时候用iSPF， 什么时候用PRC ？</a></p> 
<p id="%E6%B7%B1%E6%8C%96%EF%BC%9A%E5%85%B3%E4%BA%8EIPv6%EF%BC%9AOSPFv3-toc" style="margin-left:40px;"><a href="#%E6%B7%B1%E6%8C%96%EF%BC%9A%E5%85%B3%E4%BA%8EIPv6%EF%BC%9AOSPFv3" rel="nofollow">深挖：关于IPv6：OSPFv3</a></p> 
<p id="32.%E6%9C%89lsa9%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81lsa8%EF%BC%9F-toc" style="margin-left:80px;"><a href="#32.%E6%9C%89lsa9%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81lsa8%EF%BC%9F" rel="nofollow">32.有lsa9为什么还需要lsa8？</a></p> 
<p id="33.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E7%9B%B8%E5%90%8C%E7%82%B9%E3%80%90%E8%87%B3%E5%B0%91%E7%AD%94%E5%87%BA4%E7%82%B9%E3%80%91-toc" style="margin-left:80px;"><a href="#33.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E7%9B%B8%E5%90%8C%E7%82%B9%E3%80%90%E8%87%B3%E5%B0%91%E7%AD%94%E5%87%BA4%E7%82%B9%E3%80%91" rel="nofollow">33.OSPFv2 和 OSPFv3 的相同点【至少答出4点】</a></p> 
<p id="34.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E4%B8%8D%E5%90%8C%E7%82%B9%EF%BC%9A%E3%80%90%E5%BC%80%E6%94%BE%E6%80%A7%E7%AD%94%E9%A2%98%EF%BC%8C%20%E5%B0%BD%E9%87%8F%E5%A4%9A%E5%86%99%E3%80%91-toc" style="margin-left:80px;"><a href="#34.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E4%B8%8D%E5%90%8C%E7%82%B9%EF%BC%9A%E3%80%90%E5%BC%80%E6%94%BE%E6%80%A7%E7%AD%94%E9%A2%98%EF%BC%8C%20%E5%B0%BD%E9%87%8F%E5%A4%9A%E5%86%99%E3%80%91" rel="nofollow">34.OSPFv2 和 OSPFv3 的不同点：【开放性答题， 尽量多写】</a></p> 
<p></p> 
<h2 id="%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA%E9%83%A8%E5%88%86%EF%BC%9A%E9%82%BB%E5%B1%85%E5%85%B3%E7%B3%BB%E5%BB%BA%E7%AB%8B"><strong>基础理论部分：邻居关系建立</strong></h2> 
<h4 id="1.OSPF%20%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B%E4%BB%A5%E5%8F%8A%E6%AF%8F%E4%B8%80%E7%A7%8D%E6%8A%A5%E6%96%87%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%EF%BC%88%E6%8F%90%E7%A4%BA%EF%BC%9Ahello%20%E4%BD%9C%E7%94%A8%E6%9C%894%E4%B8%AA%EF%BC%89"><span style="color:#f33b45;">1.OSPF 报文类型以及每一种报文的作用？（提示：hello 作用有4个）</span></h4> 
<blockquote> 
 <p>OSPF报文一共有5种</p> 
 <p>1&gt;Hello：作用：1）发现邻居 2）维护邻居关系 3）选举DR/BDR 4）保证邻居的双向通信</p> 
 <hr> 
 <p>2&gt;DBD（Database description）1）选举DR/BDR 2）交互数据库摘要信息</p> 
 <hr> 
 <p>3&gt;LSR（ LSA Request） 向对方请求对方有， 本地没有的LSA信息</p> 
 <hr> 
 <p>4&gt;LSU（LSA Update） 给邻居发送LSA 信息</p> 
 <hr> 
 <p>5&gt;LSACK（Link State Acknowledgement） 确认邻居发送的LSA 信息和对DBD 报文进行确认</p> 
</blockquote> 
<p></p> 
<h4 id="2.%20%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8BOSPF%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%EF%BC%9F"><span style="color:#ffbb66;">2. 描述一下OSPF 工作流程？</span></h4> 
<blockquote> 
 <p>1&gt;交互hello:路由器向每一个启用OSPF 进程的接口发送hello接收邻居发送过来的hello,并且匹配hello中的各种参数, 如果参数匹配, 就进行下一步, 建立邻居关系.</p> 
 <hr> 
 <p>2&gt;邻居/邻接:接口根据OSPF 网络类型建立邻居或者邻接的关系, 邻居关系就是只交互过hello报文,并不知道邻居具体的物理拓扑信息.邻接关系就是两个邻居之间完全交互过各种报文, 两台路由器拥有各自的明细拓扑信息LSDB 完全同步.</p> 
 <hr> 
 <p>3&gt;发送LSA:路由器根据与对方建立的邻居或邻接关系向邻居发送不同类型的LSA,这些LSA 包含了路由器所有启用了OSPF 进程的链路信息,接口信息,这些信息可以是末梢网络,也可以是去往其他OSPF 区域的传输网络,或者是去往外部自治系统的网络, 根据各种各样的情形设计了不同的LSA.</p> 
 <hr> 
 <p>4&gt;LSA 泛洪:接收邻居发送过来的LSA ,加入LSDB,并且根据路由器自身的角色对邻居发送过来的LSA 进行泛洪发送,以及转换工作.</p> 
 <hr> 
 <p>5&gt;收敛:当一个区域内的所有路由器的LSDB 完全同步, 网络就完成收敛.</p> 
 <hr> 
 <p>6&gt;执行SPF计算:一个区域内每个路由器以自身为树根, 计算到达每一个节点的最短路径, 画出一个最短路径的矢量图, 这个拓扑图就是SPF算法树.</p> 
 <hr> 
 <p>7&gt;计算路由：根据SPF 计算得到的矢量图计算到达每一个节点的最优路径, 放到路由表.</p> 
</blockquote> 
<p></p> 
<h4 id="3.Router%20ID%20%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99"><span style="color:#86ca5e;">3.Router ID 选举原则</span></h4> 
<blockquote> 
 <p>Router ID是一个32位的值，它唯一的标识了一个自治系统内的路由器，可以为每台运行OSPF的路由器上可以手动配置一个RouterID，或者指定一个IP地址作为RouterID，如果设备存在多个逻辑接口地址，则路由器使用逻辑接口中最大的IP地址作为RouterID，如果没有配置逻辑接口，则路由器使用物理接口的最大IP地址作为RouterID</p> 
</blockquote> 
<h4 id="4.OSPF%E5%BB%BA%E7%AB%8B%E9%82%BB%E6%8E%A5%E7%9A%84%E6%9D%A1%E4%BB%B6%3A%E3%80%90%E6%8F%90%E7%A4%BA%EF%BC%9A%E6%8A%A5%E5%A4%B4%E3%80%81hello%E3%80%81DBD%20%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%20%E5%85%B111%E7%82%B9%E3%80%91"><span style="color:#e579b6;">4.OSPF建立邻接的条件:【提示：报头、hello、DBD 中的参数， 共11点】</span></h4> 
<blockquote> 
 <p>1) 报头中要匹配的字段.</p> 
 <p>  1&gt;版本一致.IPv4 版本的OSPF 和IPv6版本的OSPF 版本报文不兼容</p> 
 <p>  2&gt;RID不能冲突.</p> 
 <p>  3&gt;一条链路的两端 必须在同一个区域.</p> 
 <p>  4&gt;认证类型和密钥.</p> 
 <hr> 
 <p>2)hello报文中需要匹配的字段</p> 
 <p>  5&gt;掩码需要匹配</p> 
 <p>  并不是所有的掩码都需要匹配,当你的网络类型为广播和NBMA的时候,大家要建立邻居,掩码必许要一致.如果网络类型为点到点或点到多点的时候,掩码是不需要一致的,</p> 
 <p>  6&gt;hello时间dead时间需要匹配,</p> 
 <p>  7&gt;option中的E位和N位必须要一致的,</p> 
 <p>  8&gt;Router priority字段,为0 代表该路由器没有资格选举DR/BDR ， 在要求选举DR/BDR 的网络类型中， 必须至少有一个DR 存在，即在这个网络中至少有一个路由器接口路由器优先级不为0.</p> 
 <p>  9&gt; NBMA中要对邻居指peer，双方要互指</p> 
 <p>  10&gt; 建立邻居的接口不能是静默接口</p> 
 <hr> 
 <p>3) DBD 报文需要匹配的字段</p> 
 <p>  11&gt;DBD报文中只有一个字段要匹配,就是MTU.如果MTU不匹配,路由器就会卡在exstart状态,因为在这个状态中双方会交互firstDBD选择主从,如果开启MTU一致性检测,只有MTU一致才可以选出主从,思科默认开启这个特性,huawei默认没开.</p> 
</blockquote> 
<p></p> 
<h4 id="5.OSPF%20%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B"><span style="color:#3399ea;">5.OSPF 邻居建立过程</span></h4> 
<blockquote> 
 <p>1&gt;Down，</p> 
 <p>建立邻居的第一步就是down，指的是我没有给邻居发送任何报文。也没有收到邻居给我发任何报文</p> 
 <hr> 
 <p>1.5&gt;Attempt 尝试，只有在Non-Broadcast非广播和point-to-multipoint non-Broadcast点到多点非广播才能见到尝试。在这2种接口使用OSPF，不会主动发送hello，因为在发送ospf报文的时候，必须只能以单播的形式发送</p> 
 <p>Cisco需要使用neighbor 华为需要指peer 命令指定单播报文发送的目的地，就是单播指定了一个邻居，已经给他发送了一个单播hello，还没收到任何回应，我的邻居状态就是attempt</p> 
 <p>这个阶段是临时阶段，最多维持hello时间4倍，没有收到回应就回到down</p> 
 <hr> 
 <p>2&gt;Init 初始化状态：</p> 
 <p>指的是当前router通过邻居收到了一个hello，但是在hello字段中没有看到我自己的路由器ID</p> 
 <p>RID，在hello载荷中有neighbor字段，4字节用来装RID，RID能够在AS内全局标识自己，每台路由器发送</p> 
 <p>Hello的时候都会携带我的RID，我的邻居收到我的hello会把我的RID加入他的hello报文的neighbor字段</p> 
 <p>他发送的hello就会携带我的RID，用来告诉别人我曾收到过邻居给我发送的hello，判定为init就是通过邻居收到hello之后有没有在neighbor中找到我自身的RID， 单向邻居。</p> 
 <hr> 
 <p>3&gt;Two-way 双边邻居：</p> 
 <p>我通过邻居收到了一个hello，这个hello中我看到了我自己的RID，表示邻居已经收到了我的 Hello，我们之前曾交互过hello</p> 
 <p>当大家都到达Two-way之后，如果接口类型为广播或者非广播，需要开始选举DR/BDR</p> 
 <p>选举原则：先比优先级，比参选router的接口ospf优先级，默认是1，取值范围0-255，0是没有资格参选</p> 
 <p>优先级谁大谁做DR，第二大的做BDR，其他的做DRothers，如果选不出来就再比较RID，谁大谁做DR，次大</p> 
 <p>大的做BDR</p> 
 <hr> 
 <p>4&gt;Exstart 准启动状态：</p> 
 <p>选举主从Master/slave 交互3个报文选举谁做主谁做从</p> 
 <p>First DBD:选举主从，载荷是空的，没有任何LSA报头信息，DBD有flag字段，有3个位</p> 
 <p>I 1 交互第一个FirstDBD I位置1</p> 
 <p>M 1 由于我的第一个FirstDBD没有LSA报头，而我的LSBD中肯定有LSA。等我们交互完FirstDBD之后，我肯定会给你发送至少一个携带LSA报头的DBD，由于后续有其他DBD存在，所以这个位置1</p> 
 <p>M/S 1双方在得到对方信息之前，都会认为自己就是Master这个位都置1</p> 
 <p>这3位都置1，就是0x7，由于DBD包含RID，通过PK大家的RID，我们就能知道谁的RID大，谁的RID小，</p> 
 <p>由RID大的一方做Master，小的做第一次隐式确认，回复一个隐式确认的DBD，并且把M/S位设置为0，告诉 对方我做slave，而且回应报文所使用的序列号就是FirstDBD中的序列号的值.</p> 
 <hr> 
 <p>5&gt;Exchange 阶段：</p> 
 <p>主路由器带动从路由器交互DBD 报文</p> 
 <hr> 
 <p>6&gt;loading：根据交互的DBD 报文可以得知双方需要的LSA 信息， 根据自己没有而邻居有的LSA向邻居请求</p> 
 <hr> 
 <p>7&gt;FULL完全邻接状态 ：最终状态，邻居建立完成</p> 
</blockquote> 
<h4 id="6%20.%E9%9A%90%E5%BC%8F%E7%A1%AE%E8%AE%A4%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span style="color:#7c79e5;">6 .隐式确认交互过程</span></h4> 
<blockquote> 
 <p>使用一个携带载荷的LSA，使用与对方发送的LSA序列号相同的序列号来回应，一方面告诉对方，这个数据包我收到了，另一方面把对方需要的LSA发送给对方，这种可以节约2次ACK交互次数的确认方式就是隐式确认</p> 
 <p>DBD 先使用隐式确认发送信息，不够发了再使用显式确认来确认</p> 
 <p>（不单独回复ACK，双方要同步一个序列号，设备必须确定一个主一个从，由主设备给从设备发送第一个报文并且确定序列号，从设备使用主设备的序列号给主做确认。选举主从就是比较双方router id大小，谁大谁主）</p> 
 <p>选举Master路由器做主设备发起第一个DBD</p> 
 <p>谁的RID大就做master，小的就做slave</p> 
 <p>Master 发起第一个DBD报文，slave仅仅做确认</p> 
</blockquote> 
<p></p> 
<h4 id="7.%20OSPF%20%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B">7. OSPF 网络类型</h4> 
<blockquote> 
 <p>Point-to-point点到点类型</p> 
 <p>Point-to-multipoint点到多点类型</p> 
 <p>Broadcast广播类型</p> 
 <p>NBMA 非广播多路访问网络</p> 
 <p>Virtual-link 虚链路</p> 
</blockquote> 
<p></p> 
<h4 id="8.%E6%AF%8F%E4%B8%80%E7%A7%8D%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E4%B8%8B%E7%9A%84%E6%8A%A5%E6%96%87%E5%8F%91%E9%80%81%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8D%95%E6%92%AD%E8%BF%98%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E7%BB%84%E6%92%AD%EF%BC%8C%20%E5%9C%B0%E5%9D%80%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9Fhello%20%E5%8F%91%E9%80%81%E6%97%B6%E9%97%B4%E6%98%AF%E5%A4%9A%E5%B0%91"><span style="color:#f33b45;">8.每一种网络类型下的报文发送是使用单播还是组播，如果是组播， 地址是多少？hello 发送时间是多少</span></h4> 
<p></p> 
<table><tbody><tr><td></td><td> <p>hello</p> </td><td> <p>Database description</p> </td><td> <p>Link State Request</p> </td><td> <p>Link State Update</p> </td><td> <p>Link state</p> <p>ack</p> </td></tr><tr><td> <p>Point-to-point</p> </td><td> <p>224.0.0.5 / 10秒</p> </td><td> <p>224.0.0.5</p> </td><td> <p>224.0.0.5</p> </td><td> <p>224.0.0.5</p> </td><td> <p>224.0.0.5</p> </td></tr><tr><td> <p>Point-to-MultiPoint</p> </td><td> <p>224.0.0.5/30秒</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td></tr><tr><td> <p>Virtual-link</p> </td><td> <p>单播/10秒</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td></tr><tr><td> <p>broadcast</p> </td><td> <p>224.0.0.5 /10秒</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>224.0.0.5/6</p> </td><td> <p>224.0.0.5/6</p> </td></tr><tr><td> <p>NBMA</p> </td><td> <p>单播 30秒</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td><td> <p>单播</p> </td></tr></tbody></table> 
<p></p> 
<h4 id="9.%20%E7%82%B9%E5%88%B0%E7%82%B9%E4%B8%8E%E7%82%B9%E5%88%B0%E5%A4%9A%E7%82%B9%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%90%A6%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%E8%83%BD%E5%90%A6%E4%BC%A0%E9%80%92%E8%B7%AF%E7%94%B1%EF%BC%9F%E5%A6%82%E6%9E%9C%E6%83%B3%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%EF%BC%8C%20%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E5%8F%82%E6%95%B0%EF%BC%9F"><span style="color:#ffbb66;">9. 点到点与点到多点的网络类型能否建立邻居，能否传递路由？如果想建立邻居， 如何修改参数？</span></h4> 
<blockquote> 
 <p>可以建立邻居，可以传递路由计算拓扑， 需要修改hello 时间改一致， 点到点hello是10秒，点到多点hello 是30秒， 建议把点到点的hello 时间改为30秒</p> 
</blockquote> 
<p></p> 
<h4 id="10.DR%20%E5%92%8C%20BDR%20%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E7%AB%9E%E9%80%89%E8%A7%84%E5%88%99%EF%BC%9F"><span style="color:#86ca5e;">10.DR 和 BDR 的作用和竞选规则？</span></h4> 
<blockquote> 
 <p>DR 作用：</p> 
 <p>DR 在多路访问中可以减少邻接关系和 LSA 的泛洪</p> 
 <hr> 
 <p>BDR 是DR的备份。</p> 
 <p>如果设备之间建立全互联的邻接关系， LSA 泛洪和处理占用系统资源和链路资源，</p> 
 <p>如果选举一个DR/BDR ， 所有设备都和DR/BDR 建立full的邻接关系，DRothers 之间停留在Two-way ， DRothers 和DR/BDR 之间交互LSA 就可以了，这样可以减少邻接关系和 LSA 的泛洪。</p> 
 <p>简化网络的拓扑结构</p> 
 <p>在广播和NBMA 中DR 是一个伪节点，每个设备只要计算到达DR 的开销即可，画路径矢量图的时候会用到</p> 
 <hr> 
 <p>竞选规则：1. 接口优先级数字越大越优先（0-255，0 优先级不能参与 DR、BDR 选举） 2. RouterID 越大越优先</p> 
</blockquote> 
<p></p> 
<h4 id="11.%20%E4%B8%BA%E4%BB%80%E4%B9%88DR%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%8A%A2%E5%8D%A0%EF%BC%9F"><span style="color:#e579b6;">11. 为什么DR不可以抢占？</span></h4> 
<blockquote> 
 <p>因为在MA网络中所有DRothers是和DR建立邻居的，如果新加入的路由器抢占DR位置，会导致其他所有路由器断掉现在的邻居，和新加入的路由器建立邻居，由于需要重新选举DR、建立邻居、传递更新计算路由，会导致短时间的断网现象，会导致网络的不稳定。</p> 
</blockquote> 
<p></p> 
<h4 id="12.IS-IS%E4%B9%9F%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B9%BF%E6%92%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%92%8COSPF%E4%B8%AD%E7%9A%84DR%E4%B8%80%E6%A0%B7%E6%9C%89%E4%B8%80%E4%B8%AADIS%EF%BC%8C%E8%BF%99%E4%B8%AADIS%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%8A%A2%E5%8D%A0%E7%9A%84%EF%BC%8C%E5%8F%AB%E6%8C%87%E5%AE%9A%E4%B8%AD%E9%97%B4%E7%B3%BB%E7%BB%9F%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88DIS%E6%94%AF%E6%8C%81%E8%A2%AB%E6%8A%A2%E5%8D%A0%EF%BC%9F"><span style="color:#3399ea;">12.IS-IS也有一个广播的网络类型，和OSPF中的DR一样有一个DIS，这个DIS是可以被抢占的，叫指定中间系统，为什么DIS支持被抢占？</span></h4> 
<blockquote> 
 <p>因为IS-IS中邻居关系没有OSPF中的这么多，邻居关系只有2级，UP和Down，建邻居的条件很简单，只要交互过hello就可以，在IS-IS中两两之间比如选举出了一个DIS，邻居关系还是有的，不会立即断掉，路由器之间发的叫LSP，这个LSP和OSPF的LSA中内容不一样，不是所有的LSP先发给DIS，再由DIS发送给大家，由于两两之间可以建立邻居，所以两两之间可以传递LSP进行同步，LSP是发送CSNP报文，叫完全序列号PDU，这个PDU包含的内容就是DIS当前所有所有的LSP信息，这个报文周期性发送，10秒一次CSNP，就是告诉这个MA网络我的LSDB中有哪些LSP，接收到CSNP的路由器查看，你的LSP我有没有，我的LSP你有没有，如果我发现你缺失一些LSP，我就给你做一些更新，如果说我缺失了一些LSP，我就给你发送PSNP报文，叫做部分序列号PDU，通过发送这个序列号向你做一个请求，所以，可以理解为，在IS-IS中，DIS就是做这样一件事，就是DIS周期性发送CSNP，仅此而已，不发CSNP也可以同步，只是效率会低一些，这就是说在Isis中DIS是一个可有可无的东西，仅仅起到的是一个优化的作用，而且DIS能做的事情，别的路由器也可以做到。这个时候新添加一个路由器，抢占DIS位置对整个网络不会造成大的波动，所以 可以抢占.</p> 
</blockquote> 
<h4 id="13.OSPF%E5%BC%80%E9%94%80%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%EF%BC%9A"><span style="color:#7c79e5;">13.OSPF开销的计算方式：</span></h4> 
<blockquote> 
 <p>计算公式为带宽参考值/带宽，带宽bit/s为单位，</p> 
 <p>可以使用bandwidth-reference 设置带宽参考值</p> 
 <p>OSPF基于接口带宽计算开销，计算公式为：接口开销=带宽参考值/带宽，带宽参考值可以设置，缺省为100Mbit/s</p> 
 <p>以此，一个64kbit/s串口的开销为1562，一个E1接口的（2.048Mbit/s）开销为48</p> 
 <p>命令bandwidth-reference可以用来调整带宽参考值，从而改变接口开销，带宽参考值越大，开销越准确，在支持10Gbit/s速率的情况下，推荐将带宽参考值提高到10000Mbit/s来分别为10Gbit/s、1Gbit/s和100Mbit/s的链路提供1、10和100的开销。注意配置OSPF带宽参考值的时候，需要在整个OSPF网络中统一配置，另外，还可以通过OSPF cost命令手动为一个接口调整开销，开销值范围是1-65535，缺省是1</p> 
</blockquote> 
<h4 id="14.%205%E7%B1%BBLSA%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E8%AE%A1%E7%AE%97%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F">14. 5类LSA有哪几种计算外部路由metric值的方式，有什么区别？</h4> 
<blockquote> 
 <p>External Type 1和External Type 2，简称E1和E2。</p> 
 <p>E2：默认，生成路由时不叠加内部cost值，只计算外部cost值。</p> 
 <p>E1：表示累加内部cost值，生成路由的cost为内部cost值+外部cost值。</p> 
 <hr> 
 <p>内部cost:本台路由器到ASBR的cost值。</p> 
 <p>外部cost：ASBR生成5类LSA时携带的cost值，默认为1。</p> 
</blockquote> 
<p></p> 
<h4 id="15.%E4%B8%A4%E7%A7%8D%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1metric%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E4%BC%98%E9%80%89%E6%AF%94%E8%BE%83%EF%BC%9F"><span style="color:#f33b45;">15.两种外部路由metric计算方式怎么进行优选比较？</span></h4> 
<blockquote> 
 <p>通过修改cost值可以控制OSPF选路</p> 
 <p>1&gt;. 先比较类型，E1优于E2</p> 
 <p>2&gt;. 若类型都为E1。则比较总开销（内部cost+外部cost）</p> 
 <p>3&gt;. 若类型都为E2。先比较外部cost值，小的优先。再比较内部cost值。</p> 
 <p>4&gt;. 如果外部cost和内部cost值都一样。就负载均衡。</p> 
</blockquote> 
<h4 id="16.OSPF%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%98%B2%E7%8E%AF%E7%9A%84%EF%BC%9F%5B%E6%8F%90%E7%A4%BA%EF%BC%9A%E5%8C%BA%E5%9F%9F%E5%86%85%E7%9A%84%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%8C%BA%E5%9F%9F%E9%97%B4%E9%98%B2%E7%8E%AF%EF%BC%9A%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E9%98%B2%E7%8E%AF%EF%BC%9A%5D"><span style="color:#ffbb66;">16.OSPF 是如何进行防环的？[提示：区域内的防环：区域间防环：外部路由防环：]</span></h4> 
<blockquote> 
 <p>（1）区域内的防环：</p> 
 <p>      LSA1，LSA2：根据 SPF 算法进行防环</p> 
 <hr> 
 <p>（2）区域间防环：</p> 
 <p>  （a）特殊的区域结构：OSPF 要求所有的非 0 区域必须与骨干区域直接相连， 区域间路由需经由骨干区域中转。</p> 
 <p>解读：OSPF 要求所有的非 0 区域必须与骨干区域直接相 连，区域间路由需经由骨干区域中转。这个要求使 得区域间的路由传递不能发生在两个非 0 的区域之 间，这在很大程度上规避了区域间路由环路的发生， 也使得 OSPF 的区域架构在逻辑上形成了一个类似 星型的拓扑 ○</p> 
 <p>（b）区域间的水平分割：</p> 
 <p>    1&gt;从一个非骨干区域学习到的 LSA3 不会再传回该 非骨干区域（因为 1LSA 优于 3LSA，不是根据区域 ID 判断，主要根据 ABR 的 LSDB 判断）</p> 
 <p>    2&gt;完全意义上的 ABR 从非骨干区域收到的 LSA3 会 接收但是不会参与计算也不会传回非骨干区域（此 规则对非完全意义上的 ABR 无效）</p> 
 <hr> 
 <p>（3）外部路由防环：</p> 
 <p>LSA4：由于 LSA4 类的产生以及泛洪范围与 LSA3 一致，所以 LSA4 的防环 规则与 LSA3 一致。LSA5、7：当 FA 地址为全零，根据 LSA4 类防环；如果 LSA4 无环，那么 LSA5， 7 也无环。当 FA 地址为非全零，根据 LSA1-3 类防环；如果 LSA1-3 无环，那么 LSA5，7 也无环。</p> 
 <p></p> 
</blockquote> 
<h4 id="17.%20%E7%9C%9FABR%20%E4%B8%8E%E4%BC%AAABR%20%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8CABR%E7%9A%84%E9%98%B2%E7%8E%AF%E8%A7%84%E5%88%99"><span style="color:#86ca5e;">17. 真ABR 与伪ABR 的概念和ABR的防环规则</span></h4> 
<blockquote> 
 <p>ABR :区域边界路由器:至少有一个接口被宣告进area0, 真伪ABR都可以产生3类LSA</p> 
 <hr> 
 <p>伪ABR 有接口属于area0 但是在area0 中没有full的邻居</p> 
 <hr> 
 <p>真ABR,有接口属于area0在area0 中有full的邻居,真ABR能实现3类LSA的防环机制</p> 
 <p>真ABR通过非骨干区域收到3类LSA,这些3类LSA中的路由bit是不会置1的,只能加入LSDB,不能计算路由,也不会把这些LSA转发给其他邻居。伪ABR就可以计算路由</p> 
</blockquote> 
<p></p> 
<h4 id="18.LSA%20%E8%83%BD%E4%B8%8D%E8%83%BD%E6%B1%87%E6%80%BB%EF%BC%8C%E5%9C%A8%E5%93%AA%E9%87%8C%E6%B1%87%E6%80%BB%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F"><span style="color:#e579b6;">18.LSA 能不能汇总，在哪里汇总，为什么？</span></h4> 
<blockquote> 
 <p>LSA3 只能在 ABR 处，且是 LSA1/LSA2 转换为 LSA3 时，进行汇总。</p> 
 <p>即最初产 生 LSA3 的 ABR 上做汇总，其他位置不能汇总 骨干区域路由器配置 Vlink 之后无法进行 ABR 汇总，因为可能会产生环路（详 情见 vlink 内容） LSA5 只能够在产生 LSA5 的 ASBR 处做汇总。如果是在 nssa 区域中，产生 LSA7 的 ASBR，则可以对 LSA7 汇总，也可以在发生 7/5 转换的位置对 LSA5 做汇总。</p> 
</blockquote> 
<h4 id="19%20.OSPF%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E7%9A%84%E5%8E%9F%E5%88%99%EF%BC%8C%E5%8F%8A%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E8%B4%9F%E8%BD%BD%EF%BC%8C"><span style="color:#3399ea;">19 .OSPF路由选路的原则，及在什么情况下会负载，</span></h4> 
<blockquote> 
 <p>选路原则：O&gt;O IA&gt;O E1 &gt;O E 2&gt; O N1 &gt; O N2</p> 
 <hr> 
 <p>负载条件：1、cost 一致；2、区域一致</p> 
</blockquote> 
<h4 id="20.%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E5%8F%B0ABR%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%98%AF%E6%AF%8F%E5%8F%B0ABR%E9%83%BD%E4%BC%9A%E8%BF%9B%E8%A1%8C7%E8%BD%AC5%E6%93%8D%E4%BD%9C%E5%90%97%EF%BC%9F%E8%BD%AC%E6%8D%A2%E8%80%85%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span style="color:#7c79e5;">20.如果有多台ABR存在，是每台ABR都会进行7转5操作吗？转换者选举原则是什么？</span></h4> 
<blockquote> 
 <p>不会。因为各个路由器 7 转 5 后生成的 5 类 LSA 都是一样，只需让一台路由器 进行 7 转 5 即可,达到可以减小其他区域的 LSDB 和路由表的规模。</p> 
 <hr> 
 <p>规则：如果 NSSA 区域有多台 ABR，只有 RouerID 大的 ABR 路由器会进行 7 转 5 操作。</p> 
</blockquote> 
<h2 id="%E8%BF%9B%E9%98%B6%E7%90%86%E8%AE%BA%EF%BC%9AOSPF%20LSA"><strong>进阶理论：OSPF LSA</strong></h2> 
<p></p> 
<h4 id="21.%EF%BC%8C1%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F1%E7%B1%BBLSA%E9%83%BD%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E4%BF%A1%E6%81%AF%EF%BC%9F%E6%9C%89%E5%87%A0%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%9F%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E6%AF%8F%E4%B8%80%E7%A7%8D%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9Fcost%20%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%EF%BC%9F"><span style="color:#f33b45;">21.1类LSA 是谁产生的？1类LSA都包含哪些信息？有几种链路类型？描述一下每一种链路类型， Link ID，adv router 是什么？cost 如何计算？</span></h4> 
<blockquote> 
 <p>1类LSA 是运行OSPF 的每台路由器都可以产生</p> 
 <hr> 
 <p>每条链路由 Link ID，Data，Type 和 Metric 组成</p> 
 <p>LinkID：此链接的对端标识</p> 
 <p>Data：描述此链接的附加信息</p> 
 <hr> 
 <p>Type：链路类型（P2P、TransNet、StubNet、Virtual）</p> 
 <p>1&gt; P2P 网段：描述连接到另外一个路由器；</p> 
 <p>2&gt; Transit 网段：描述使用该接口连接到一个虚节点（DR），例如广播 型网 段或 NBMA 网段；</p> 
 <p>3&gt; Stub 网段：描述末节类型链路（网络）,例如 Loopback 接口、Sub-IP 地址、P2P 和 P2MP 网络中链路的路由信息；</p> 
 <p>4&gt; Virtual：一个从本路由器到虚连接对端 ABR 的链接；</p> 
 <hr> 
 <p>Link ID是Router ID， ADV router 是Router ID</p> 
 <hr> 
 <p>cost 默认是100兆除以接口带宽</p> 
</blockquote> 
<p></p> 
<h4 id="22.2%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F2%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%EF%BC%8Cadv%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span style="color:#ffbb66;">22.2类LSA 是谁产生的？2类LSA 包含的内容是什么， Link ID，adv router 是什么？</span></h4> 
<blockquote> 
 <p>2类LSA 是每个网络的DR产生</p> 
 <hr> 
 <p>2类LSA 包含这个网络内一共有多少成员， 每个成员的router ID 是多少， 以及这个网络的掩码是多少位</p> 
 <hr> 
 <p>Link ID 是DR 的接口IP 地址，adv router 是 DR 的 RouterID。</p> 
</blockquote> 
<h4 id="23.%203%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F3%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20ADV%20Router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20%E8%B7%A8%E5%8C%BA%E5%9F%9F%E4%BC%A0%E9%80%92ADV%20Router%20%E5%A6%82%E4%BD%95%E6%94%B9%E5%8F%98%EF%BC%9Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F"><span style="color:#86ca5e;">23. 3类LSA 是谁产生的?3类LSA 包含的内容是什么， Link ID 是什么， ADV Router 是什么， 跨区域传递ADV Router 如何改变？cost 是多少？</span></h4> 
<blockquote> 
 <p>3类LSA是 每个区域的ABR产生.</p> 
 <hr> 
 <p>3类LSA 包含的是其他区域的路由信息</p> 
 <hr> 
 <p>Link ID是其他网络的前缀</p> 
 <hr> 
 <p>ADV router 是ABR的router ID，跨区域传递的时候</p> 
 <hr> 
 <p>ADV router 会更改为当前区域的ABR 的router ID</p> 
 <hr> 
 <p>cost 为ABR 到目标网络的开销</p> 
</blockquote> 
<p></p> 
<h4 id="24.4%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F4%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8CADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%20cost%20%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F"><span style="color:#e579b6;">24.4类LSA 是谁产生的？4类LSA 包含的内容是什么， Link ID 是什么，ADV router 是什么， cost 是多少？</span></h4> 
<blockquote> 
 <p>4类LSA 是ASBR 所在的ABR产生的, 描述ASBR 所在的区域中ABR 到ASBR 的路由信息</p> 
 <hr> 
 <p>Link ID 是ASBR 的Router ID </p> 
 <hr> 
 <p>ADV router 是ABR  </p> 
 <hr> 
 <p>cost 就是ASBR 所在的区域中ABR 到ASBR 的开销</p> 
</blockquote> 
<h4 id="25.5%E7%B1%BBLSA%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F5%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9%2CLink%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%2C%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E5%A4%9A%E5%B0%91%3F"><span style="color:#3399ea;">25.5类LSA是谁产生的？5类LSA 包含什么内容,Link ID 是什么, ADV router 是什么?cost 是多少?</span></h4> 
<blockquote> 
 <p>5类LSA是ASBR 产生的</p> 
 <hr> 
 <p>５类LSA 包含的是OSPF区域外部的路由信息</p> 
 <hr> 
 <p>Link ID 是外部路由的网络号</p> 
 <hr> 
 <p>ADV router 是ASBR的router ID</p> 
 <hr> 
 <p>cost就是ASBR 去往外部网络的开销.</p> 
</blockquote> 
<h4 id="26.7%E7%B1%BBLSA%20%E6%98%AF%E8%B0%81%E4%BA%A7%E7%94%9F%E7%9A%84%3F%207%E7%B1%BBLSA%20%E5%8C%85%E5%90%AB%E7%9A%84%E5%86%85%E5%AE%B9%E6%98%AF%E4%BB%80%E4%B9%88%3F%20Link%20ID%20%E6%98%AF%E4%BB%80%E4%B9%88%3F%20ADV%20router%20%E6%98%AF%E4%BB%80%E4%B9%88%3Fcost%20%E6%98%AF%E4%BB%80%E4%B9%88%3F"><span style="color:#7c79e5;">26.7类LSA 是谁产生的? 7类LSA 包含的内容是什么? Link ID 是什么? ADV router 是什么?cost 是什么?</span></h4> 
<blockquote> 
 <p>7类LSA 是NSSA区域的ASBR 产生的</p> 
 <hr> 
 <p>包含的是外部的路由信息</p> 
 <hr> 
 <p>Link ID 是外部路由的网络号</p> 
 <hr> 
 <p>cost就是ASBR 去往外部网络的开销</p> 
</blockquote> 
<p></p> 
<h4 id="27.%20Forwarding%20Address%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%E4%BB%A5%E5%8F%8A%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6%3F">27. Forwarding Address的作用？以及产生条件?</h4> 
<blockquote> 
 <p>防止外部路由次优路径。访问外部路由的时候，先转发到 FA 地址。</p> 
 <hr> 
 <p>产生条件：</p> 
 <p>1.&gt; ASBR 与外部网络连接的接口被宣告进 ospf</p> 
 <p>2&gt;. ASBR 与外部网络连接的接口没有被设置为静默接口</p> 
 <p>3&gt;. ASBR 与外部网络连接的接口不是 OSPF P2P 或 P2MP 类型的</p> 
</blockquote> 
<h4 id="28.7%E7%B1%BBLSA%E7%9A%84FA%E5%9C%B0%E5%9D%80%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F%E9%80%89%E4%B8%BE%E8%A7%84%E5%88%99%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%9F%E5%8D%8E%E4%B8%BA%E8%A7%84%E5%88%99%E6%98%AF%E4%BB%80%E4%B9%88%3F"><span style="color:#f33b45;">28.7类LSA的FA地址是什么，有什么作用？选举规则是怎么样的？华为规则是什么?</span></h4> 
<blockquote> 
 <p>NSSA 区域产生的 LSA7 的 FA 地址一定为非 0，在进行 LSA7 转 5 也会将 FA 地 址复制到 LSA5，主要为了避免次优路径（也可以防止环路，华为不认可） LSA7 的 FA 地址选举规则，分为标准规则和华为规则：</p> 
 <hr> 
 <p>标准规则：</p> 
 <p>1&gt;.首先使用 LSA5 的 FA 选举条件，满足 5 类 LSA-FA 选举条件时，使用 5 类的 选举方式（可以在 MA 网络中避免次优）</p> 
 <p>2&gt;.如果不满足 5 类 LSA 的 FA 地址选举条件，则在 ASBR 上宣告进了 OSPF 域内 的 loopback 接口中选择 IP 地址最大的，没有 loopback 接口就选择 IP 地址最大 的物理接口（以此来保证 FA 地址一定不为 0）</p> 
 <hr> 
 <p>华为规则：</p> 
 <p>1&gt;.第一条和标准的一样，使用LSA5的FA选举条件，满足5类LSA-FA选举条件时， 使用5类的选举方式，在MA网络中避免次优路径；</p> 
 <p>2&gt;.Forwarding Address首选第一个up的loopback接口，没有loopback接口就选第 一个up的物理接口 NSSA 区域的 ABR 不会为 NSSA 区域的 ASBR 产生 LSA4，因为 LSA 7 只会在区 域内泛洪，没有产生必要。</p> 
</blockquote> 
<p></p> 
<h4 id="29.VLINK%E5%BB%BA%E7%AB%8B%E6%97%B6%EF%BC%8CPEER%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%EF%BC%8C%E9%82%A3%E4%B9%88%E5%AF%B9%E6%96%B9%E7%9A%84ROUTE%20ID%20%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%AE%A3%E5%91%8A%E8%BF%9BOSPF%E4%B8%AD%EF%BC%9F"><span style="color:#ffbb66;">29.VLINK建立时，PEER的时候是对方的ROUTE ID，那么对方的ROUTE ID 是否需要宣告进OSPF中？</span></h4> 
<blockquote> 
 <p>VLINK 的 PEER 是 ROUTER-ID，这个 ROUTER-ID 必须要在区域内的 SPF 树找 到，在根据这两个 ROUTER-ID 互访的路径 COST 最小的 IP 地址做为 hello 包的 源目 IP 地址，而不是以 ROUTER-ID 作为源目 IP 地址。所以不需要宣告进 OSPF 中。</p> 
</blockquote> 
<p></p> 
<h4 id="30.%E5%81%9AVLINK%E7%9A%84%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span style="color:#86ca5e;">30.做VLINK的时候需要注意的问题？</span></h4> 
<blockquote> 
 <p>1&gt;Vlink 只能配置在非骨干区域中，并且不能配置在特殊区域；</p> 
 <p>2&gt;Vlink 配置时 peer 对方的 router-id；</p> 
 <p>3&gt;Vlink 不能跨区域建立；</p> 
 <p>4&gt; 区域 0 中配置了认证，则 Vlink 也要配置认证；</p> 
</blockquote> 
<h4 id="31.%E5%85%B3%E4%BA%8E%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8iSPF%EF%BC%8C%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8PRC%20%EF%BC%9F"><span style="color:#e579b6;">31.关于路由算法， 什么时候用iSPF， 什么时候用PRC ？</span></h4> 
<blockquote> 
 <p>当区域内路由1/2/3/4类LSA 发生变化， 树形结构发生变化时， 用iSPF</p> 
 <hr> 
 <p>当外部路由发生变化时，5/7类LSA，用PRC</p> 
</blockquote> 
<h2 id="%E6%B7%B1%E6%8C%96%EF%BC%9A%E5%85%B3%E4%BA%8EIPv6%EF%BC%9AOSPFv3">深挖：关于IPv6：OSPFv3</h2> 
<h4 id="32.%E6%9C%89lsa9%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81lsa8%EF%BC%9F"><span style="color:#3399ea;">32.有lsa9为什么还需要lsa8？</span></h4> 
<blockquote> 
 <p>因为在ipv6中使用链路本地地址作为下一跳地址，9类LSA用于描述与 router-lsa相关联的ipv6前缀地址，和与network-lsa相关联的ipv6前缀地址，而 没有携带接口的链路本地地址的信息。所以需要8类LSA来承载链路本地地址信息，同时8类LSA只在一段链路上传递， 因为接口的链路本地地址信息没必要从链路传递出去。</p> 
</blockquote> 
<p></p> 
<h4 id="33.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E7%9B%B8%E5%90%8C%E7%82%B9%E3%80%90%E8%87%B3%E5%B0%91%E7%AD%94%E5%87%BA4%E7%82%B9%E3%80%91"><span style="color:#7c79e5;">33.OSPFv2 和 OSPFv3 的相同点【至少答出4点】</span></h4> 
<blockquote> 
 <p>相同点：</p> 
 <p>1&gt; 网络类型和接口类型</p> 
 <p>2&gt; 接口状态机和邻居状态机</p> 
 <p>3&gt; 链路状态数据库（LSDB）</p> 
 <p>4&gt; 洪泛机制（Flooding mechanism）</p> 
 <p>5&gt; 相同类型的报文：Hello报文、DD报文、LSR报文、LSU报文和LSAck 报文</p> 
 <p>6 &gt;路由计算基本相同</p> 
</blockquote> 
<h4 id="34.OSPFv2%20%E5%92%8C%20OSPFv3%20%E7%9A%84%E4%B8%8D%E5%90%8C%E7%82%B9%EF%BC%9A%E3%80%90%E5%BC%80%E6%94%BE%E6%80%A7%E7%AD%94%E9%A2%98%EF%BC%8C%20%E5%B0%BD%E9%87%8F%E5%A4%9A%E5%86%99%E3%80%91"><span style="color:#f33b45;">34.OSPFv2 和 OSPFv3 的不同点：【开放性答题， 尽量多写】</span></h4> 
<blockquote> 
 <p>不同点：</p> 
 <p>1&gt; OSPFv3基于链路，而不是网段 OSPFv3运行在IPv6协议上，IPv6是基于链路而不是网段的。</p> 
 <p>2&gt; OSPFv3上移除了IP地址的意义 这样做的目的是为了使“拓扑与地址分离”。</p> 
 <p>  a)OSPFv3的报文及LSA格式发生改变</p> 
 <p>  b)OSPFv3报文不包含IP地址。</p> 
 <p>  c)OSPFv3的Router LSA和Network LSA里不包含 IP地址。IP地址部分由新增的两类8/9类LSA 宣告。</p> 
 <p>  d)OSPFv3的Router ID、Area ID和LSA Link State ID不再表示IP地址，但仍保留IPv4地址格式。e)广播、NBMA及P2MP网络中，邻居不再由IP地 址标识，只由Router ID标识。</p> 
 <p>3&gt; OSPFv3的LSA报文里添加LSA的洪泛范围</p> 
 <p>  OSPFv3在LSA报文头的LSA Type里，添加LSA的洪泛范围，这 使得OSPFv3的路由器更加灵活，可以处理不能识别类型的 LSA：</p> 
 <p>  a)OSPFv3可存储或洪泛不识别报文，而OSPF只简单 丢弃掉不识别报文。</p> 
 <p>  b）OSPFv3允许洪泛范围为区域或链路本地 （Link-local），并且设置U位（报文可按洪泛范 围为链路本地来处理）的不识别报文存储或通过 Stub区域。</p> 
 <p>4&gt; OSPFv3支持一个链路上多个进程 一个OSPFv2物理接口，只能和一个多实例绑定。但一个OSPFv3 物理接口，可以和多个多实例绑定，并用不同的Instance ID区 分。这些运行在同一条物理链路上的多个OSPFv3实例，分别 与链路对端设备建立邻居及发送报文，且互不干扰。这样可以 充分共享同一链路资源。</p> 
 <p>5&gt; OSPFv3利用IPv6链路本地地址 IPv6使用链路本地（Link-local）地址在同一链路上发现邻居及 自动配置等。运行IPv6的路由器不转发目的地址为链路本地地址 的IPv6报文，此类报文只在同一链路有效。链路本地单播地址从 FE80/10开始。OSPFv3是运行在IPv6上的路由协议，同样使用链路本地地址来 维持邻居，同步LSA数据库。除Vlink外的所有OSPFv3接口都使 用链路本地地址作为源地址及下一跳来发送OSPFv3报文。</p> 
 <p>6&gt; OSPFv3移除所有认证字段 OSPFv3的认证直接使用IPv6的认证及安全处理，不再 需要其自身来完成认证，使用协议时只需关注协议本身 即可。</p> 
 <p>7&gt; 新增两种LSA a）Link LSA：用于路由器宣告各个链路上对应的链路本地地 址及其所配置的IPv6全局地址，仅在链路内洪泛。b）Intra Area Prefix LSA：用于向其他路由器宣告本路由器或 本网络（广播网及NBMA）的IPv6全局地址信息，在区域 内洪泛。</p> 
 <p>8&gt; OSPFv3只通过Router ID来标识邻居 OSPF在广播网，NBMA及P2MP网络中是通过IPv4接口地址来标 识的。OSPFv3只通过Router ID来标识邻居，这样即使没有配置 IPv6全局地址，或是IPv6全局地址配置都不在同一网段，OSPFv3 的邻居还是可以建立并维护的，以达到“拓扑与地址分离”的目 的。</p> 
</blockquote> 
<h4><br><span style="color:#86ca5e;">需要华为、H3C全方向认证资料和知名培训机构视频（IA、IP、IE）的同学关注公众号咨询哦。CSDN粉丝有福利！！！</span></h4> 
<blockquote> 
 <p>欢迎关注微信公众号：新网工李白<br> “免费获取华为认证学习资料培训机构视频、软考学习资料和求职简历模板。”</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" height="452" src="https://images2.imgbox.com/65/79/WuIjT5Pr_o.png" width="1200"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/26/73/t65RvF4m_o.png"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6afcad83f55830392a4e6789fffa2594/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Python报错解决方案】TypeError: ‘float‘ object is not callable</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dcbe865ff6fff66ba53531434a6200ce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">7. HBase实战之谷粒微博</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>