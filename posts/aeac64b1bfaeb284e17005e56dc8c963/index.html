<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘Mapã€Set æ¨¡æ‹Ÿå®ç° - èœé¸Ÿç¨‹åºå‘˜åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ã€C&#43;&#43;ã€‘Mapã€Set æ¨¡æ‹Ÿå®ç°" />
<meta property="og:description" content="æ–‡ç« ç›®å½• ğŸ“• æ¦‚å¿µğŸ“• å®ç°æ¡†æ¶Find()â˜… è¿­ä»£å™¨ â˜…åå‘è¿­ä»£å™¨map çš„ operator[ ] ğŸ“• æºä»£ç rb_tree.hset.hmap.h ğŸ“• æ¦‚å¿µ mapã€set æ˜¯ C&#43;&#43; ä¸­çš„å…³è”å¼å®¹å™¨ï¼Œç”±äº map å’Œsetæ‰€å¼€æ”¾çš„å„ç§æ“ä½œæ¥å£ï¼ŒRB-tree ä¹Ÿéƒ½æä¾›äº†ï¼Œæ‰€ä»¥å‡ ä¹æ‰€æœ‰çš„ map å’Œsetçš„æ“ä½œè¡Œä¸ºï¼Œéƒ½åªæ˜¯è½¬è°ƒ çº¢é»‘æ ‘ çš„æ“ä½œè¡Œä¸ºã€‚
å…³è”å¼å®¹å™¨ä¹Ÿæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œä¸åºåˆ—å¼å®¹å™¨ä¸åŒçš„æ˜¯ï¼Œå…¶é‡Œé¢å­˜å‚¨çš„æ˜¯&lt;key, value&gt;ç»“æ„çš„é”®å€¼å¯¹ï¼Œåœ¨æ•°æ®æ£€ç´¢æ—¶æ¯”åºåˆ—å¼å®¹å™¨æ•ˆç‡æ›´é«˜ã€‚
ğŸ“• å®ç° æ¡†æ¶ mapã€set ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯ï¼Œset å­˜å‚¨å€¼ï¼Œmapå­˜å‚¨é”®å€¼å¯¹ã€‚
set çš„ç»“æ„å¦‚ä¸‹ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ¨¡æ¿å‚æ•° K ï¼Œä¹Ÿå°±æ˜¯å…¶å®é™…å­˜å‚¨çš„å€¼çš„æ•°æ®ç±»å‹ã€‚å¤ç”¨çº¢é»‘æ ‘çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ K ç±»å‹ã€‚
#pragma once #include&#34;rb_tree.h&#34; namespace SetSimulate { template&lt;class K&gt; class set { struct KeyOfT { const K&amp; operator()(const K&amp; k) { return k; } }; public: typedef typename RBTree&lt;K, K, KeyOfT&gt;::const_iterator iterator; typedef typename RBTree&lt;K, K, KeyOfT&gt;::const_iterator const_iterator; private: RBTree&lt;K, K, KeyOfT&gt; _t; }; } è€Œ Map å°±ä¸ä¸€æ ·äº†ï¼Œè¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ Kï¼ˆé”®å€¼ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯ V ï¼ˆæ˜ å°„å€¼ï¼‰ã€‚å®é™…å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯ pair&lt;K,V&gt; ã€‚å¦‚ä¸‹ï¼Œå¤ç”¨çº¢é»‘æ ‘çš„æ—¶å€™ï¼Œå°†å…¶ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°è®¾ä¸º pair&lt;K,V&gt; å³å¯ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/aeac64b1bfaeb284e17005e56dc8c963/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-28T16:51:12+08:00" />
<meta property="article:modified_time" content="2023-05-28T16:51:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èœé¸Ÿç¨‹åºå‘˜åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èœé¸Ÿç¨‹åºå‘˜åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘Mapã€Set æ¨¡æ‹Ÿå®ç°</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#__2" rel="nofollow">ğŸ“• æ¦‚å¿µ</a></li><li><a href="#__7" rel="nofollow">ğŸ“• å®ç°</a></li><li><ul><li><a href="#_9" rel="nofollow">æ¡†æ¶</a></li><li><a href="#Find_85" rel="nofollow">Find()</a></li><li><a href="#___155" rel="nofollow">â˜… è¿­ä»£å™¨ â˜…</a></li><li><a href="#_305" rel="nofollow">åå‘è¿­ä»£å™¨</a></li><li><a href="#map__operator__535" rel="nofollow">map çš„ operator[ ]</a></li></ul> 
  </li><li><a href="#__559" rel="nofollow">ğŸ“• æºä»£ç </a></li><li><ul><li><a href="#rb_treeh_561" rel="nofollow">rb_tree.h</a></li><li><a href="#seth_1136" rel="nofollow">set.h</a></li><li><a href="#maph_1221" rel="nofollow">map.h</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="__2"></a>ğŸ“• æ¦‚å¿µ</h2> 
<p>mapã€set æ˜¯ C++ ä¸­çš„å…³è”å¼å®¹å™¨ï¼Œç”±äº map å’Œsetæ‰€å¼€æ”¾çš„å„ç§æ“ä½œæ¥å£ï¼ŒRB-tree ä¹Ÿéƒ½æä¾›äº†ï¼Œæ‰€ä»¥å‡ ä¹æ‰€æœ‰çš„ map å’Œsetçš„æ“ä½œè¡Œä¸ºï¼Œéƒ½åªæ˜¯è½¬è°ƒ <strong>çº¢é»‘æ ‘</strong> çš„æ“ä½œè¡Œä¸ºã€‚</p> 
<p>å…³è”å¼å®¹å™¨ä¹Ÿæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œä¸åºåˆ—å¼å®¹å™¨ä¸åŒçš„æ˜¯ï¼Œå…¶é‡Œé¢å­˜å‚¨çš„æ˜¯&lt;key, value&gt;ç»“æ„çš„é”®å€¼å¯¹ï¼Œåœ¨æ•°æ®æ£€ç´¢æ—¶æ¯”åºåˆ—å¼å®¹å™¨æ•ˆç‡æ›´é«˜ã€‚</p> 
<h2><a id="__7"></a>ğŸ“• å®ç°</h2> 
<h3><a id="_9"></a>æ¡†æ¶</h3> 
<p>mapã€set ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯ï¼Œ<strong>set å­˜å‚¨å€¼ï¼Œmapå­˜å‚¨é”®å€¼å¯¹</strong>ã€‚</p> 
<p>set çš„ç»“æ„å¦‚ä¸‹ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ¨¡æ¿å‚æ•° K ï¼Œä¹Ÿå°±æ˜¯å…¶å®é™…å­˜å‚¨çš„å€¼çš„æ•°æ®ç±»å‹ã€‚å¤ç”¨çº¢é»‘æ ‘çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ K ç±»å‹ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"rb_tree.h"</span></span>

<span class="token keyword">namespace</span> SetSimulate
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">set</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">KeyOfT</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> k<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> k<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>

		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>
		

	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è€Œ Map å°±ä¸ä¸€æ ·äº†ï¼Œè¦<strong>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ Kï¼ˆé”®å€¼ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯ V ï¼ˆæ˜ å°„å€¼ï¼‰</strong>ã€‚å®é™…å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯ pair&lt;K,V&gt; ã€‚å¦‚ä¸‹ï¼Œå¤ç”¨çº¢é»‘æ ‘çš„æ—¶å€™ï¼Œå°†å…¶ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°è®¾ä¸º pair&lt;K,V&gt; å³å¯ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"rb_tree.h"</span></span>


<span class="token keyword">namespace</span> MapSimulate
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">map</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">MapOfKey</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>reverse_iterator reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator const_reverse_iterator<span class="token punctuation">;</span>


	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>å…³äº mapã€set åº•å±‚çº¢é»‘æ ‘çš„ç¬¬ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œåˆ†æä¸Šé¢çš„ä¸¤æ®µä»£ç ï¼Œå®é™…ä¸Šæ˜¯<strong>å–å­˜å‚¨æ•°æ®çš„ K å€¼</strong>ã€‚å³ï¼Œ<strong>åœ¨ map é‡Œé¢</strong>ï¼Œç”±äºå­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯ pair&lt;K,V&gt; ï¼Œæ‰€ä»¥ MapOfKey çš„ä½œç”¨æ˜¯å–åˆ°é”®å€¼å¯¹é‡Œé¢ K ç±»å‹çš„æ•°æ®ï¼›<strong>è€Œ set é‡Œé¢</strong>ï¼Œç”±äºå­˜å‚¨çš„æ•°æ®æœ¬èº«å°±æ˜¯ K ç±»å‹ï¼Œæ‰€ä»¥ SetOfKey <strong>ç›´æ¥å–åˆ°è¯¥ç±»å‹çš„æ•°æ®</strong>ã€‚</p> 
<p>è‡³äºä¸ºä»€ä¹ˆè¦è¿™æ ·ï¼Œè¿™æ˜¯å› ä¸ºï¼Œ<strong>mapã€set æ˜¯å¯¹çº¢é»‘æ ‘çš„å°è£…</strong>ï¼Œå¦‚æœä»…ä»…å®ç° set ï¼Œå¯ä»¥ä¸ç”¨ç»™çº¢é»‘æ ‘ä¼ å…¥ç¬¬ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œå› ä¸º set é‡Œé¢å­˜å‚¨ K ç±»å‹çš„æ•°æ®ï¼Œè€Œ<strong>çº¢é»‘æ ‘æ’å…¥ã€æŸ¥æ‰¾ã€åˆ é™¤ç­‰ç­‰æ“ä½œé‡Œé¢ï¼Œæ•°æ®ä¹‹é—´è¿›è¡Œæ¯”è¾ƒï¼Œæœ¬å°±æ˜¯æ¯”è¾ƒçš„ K ç±»å‹çš„æ•°æ®</strong>ï¼Œæ‰€ä»¥æ˜¯ä¸€è‡´çš„ã€‚<br> ä½†æ˜¯ï¼Œmap å­˜å‚¨çš„æ˜¯ pair&lt;K,V&gt; ï¼Œ<strong>ç”±äºmapã€set æ˜¯å¤ç”¨åŒä¸€ä»½çº¢é»‘æ ‘ä»£ç ï¼Œæ‰€ä»¥æ— æ³•å°†ä»£ç ç›´æ¥æ”¹æˆé€‚åº” pair&lt;K,V&gt; çš„æƒ…å†µï¼ˆè¿™æ ·å°±ä¸é€‚åº” set äº†ï¼‰</strong>ã€‚æ‰€ä»¥ï¼Œéœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„è§†è§’ï¼Œæ¥å¾—åˆ°mapã€set çš„æ•°æ®é‡Œé¢çš„ K å€¼ã€‚</p> 
<p>å½“ç„¶ï¼Œä¸Šé¢ä¸¤ç«¯è¯´èµ·æ¥æ¯”è¾ƒæŠ½è±¡ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹ Find å°è£…ï¼Œå°±ä¸éš¾ç†è§£äº†ã€‚</p> 
<h3><a id="Find_85"></a>Find()</h3> 
<p>å¦‚ä¸‹æ˜¯çº¢é»‘æ ‘åº•å±‚å®ç° find çš„ä»£ç ã€‚å¯ä»¥çœ‹åˆ°<strong>å®ƒåœ¨è¿›è¡Œæ•°æ®ä¹‹é—´çš„æ¯”è¾ƒæ—¶ï¼Œæ˜¯ä¾é  KeyOfT å®ä¾‹åŒ–å‡ºçš„å¯¹è±¡ kt ï¼Œå– kt(cur-&gt;_data)</strong> ã€‚<br> å¾ˆæ˜¾ç„¶ï¼Œå½“å®¹å™¨æ— è®ºä¸º set è¿˜æ˜¯ mapï¼Œ çº¢é»‘æ ‘ä¸­ find() å‡½æ•°éƒ½ä¾é  K ç±»å‹çš„ val æ¥æŸ¥æ‰¾ã€‚å¯æ˜¯ï¼Œ çº¢é»‘æ ‘çš„èŠ‚ç‚¹ä¸­ï¼Œ _data å­˜å‚¨çš„æ•°æ®ç±»å‹å´ä¸ä¸€æ ·ï¼Œmap ä¸­å­˜å‚¨çš„æ˜¯ pair&lt;K,V&gt;ï¼Œset ä¸­å­˜å‚¨çš„æ˜¯ Kã€‚</p> 
<p>æ‰€ä»¥ï¼Œè¿™é‡Œå°±ä¾é çº¢é»‘æ ‘çš„ç¬¬ä¸‰ä¸ªæ¨¡æ¿å‚æ•° KeyOfT å®ä¾‹åŒ–çš„å¯¹è±¡ ktï¼Œå…¶é‡è½½çš„ () æ¥å–åˆ° mapã€set çš„ _data é‡Œé¢çš„ K å€¼ã€‚è¿™æ ·å°±ç»Ÿä¸€äº†ã€‚</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span>
	<span class="token punctuation">{<!-- --></span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _left<span class="token punctuation">;</span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _right<span class="token punctuation">;</span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _parent<span class="token punctuation">;</span>
		T _data<span class="token punctuation">;</span>
		Colour _col<span class="token punctuation">;</span>

		<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
			<span class="token operator">:</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>


	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		Node<span class="token operator">*</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			KeyOfT kt<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
					<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
	<span class="token keyword">private</span><span class="token operator">:</span>
		Node<span class="token operator">*</span> _root<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>å¦‚ä¸‹ï¼Œæ— è®ºæ˜¯ map è¿˜æ˜¯ setï¼Œéƒ½æ˜¯ç›´æ¥è°ƒç”¨çº¢é»‘æ ‘çš„ find() ï¼Œç„¶åå°è£…æˆè¿­ä»£å™¨è¿”å›ã€‚</p> 
<pre><code class="prism language-cpp">iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="___155"></a>â˜… è¿­ä»£å™¨ â˜…</h3> 
<p>å¦‚ä¸‹ï¼Œæ˜¯è¿­ä»£å™¨çš„å¤§ä½“æ¡†æ¶ï¼Œä¸»è¦ä¾é çº¢é»‘æ ‘çš„èŠ‚ç‚¹æŒ‡é’ˆæ¥å®ç°ã€‚</p> 
<p>é‡è½½ * ã€-&gt;ã€!= éƒ½æ¯”è¾ƒç®€å•ï¼Œå’Œ list å°è£…çš„è¿­ä»£å™¨ç±»ä¼¼ã€‚ä½†æ˜¯ ï¼Œé‡è½½ ++ å’Œ â€“ å°±éœ€è¦ä¸€äº›ç‹¬ç‰¹çš„æ€è·¯äº†ï¼</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">_RBTreeIterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>


		<span class="token function">_RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

		<span class="token comment">// begin() ã€ end() å¤„å¯è§å…¶æ•ˆæœ</span>
		<span class="token function">_RBTreeIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>it<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>_node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>


		Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>_node <span class="token operator">!=</span> s<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å®ç°</span>
			
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å®ç°</span>
			
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>operator++()</strong></p> 
<p>å¯¹çº¢é»‘æ ‘çš„éå†ï¼Œå’Œæœç´¢äºŒå‰æ ‘æ˜¯ä¸€æ ·çš„ï¼Œ<strong>ä¸­åºéå†</strong>ã€‚<br> ä¾‹å¦‚ï¼Œç°åœ¨æŸæ£µçº¢é»‘æ ‘å­˜å‚¨äº†1åˆ°10 çš„æ•°æ®ï¼Œä½¿ç”¨è¿­ä»£å™¨éå†çš„ç»“æœå¿…ç„¶æ˜¯ 1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€10ã€‚<br> å‡è®¾ç°åœ¨å°†å­˜å‚¨ 5 è¿™ä¸ªæ•°æ®çš„èŠ‚ç‚¹ï¼Œå°è£…æˆè¿­ä»£å™¨ itã€‚è¿›è¡Œ ++it æ“ä½œä¹‹åï¼Œæ— ç–‘ it å†…éƒ¨çš„èŠ‚ç‚¹æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯æ•°æ®ä¸º 6 çš„èŠ‚ç‚¹ã€‚å† ++itï¼Œit å†…éƒ¨çš„ç»“ç‚¹æŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ä¸º 7 çš„èŠ‚ç‚¹ã€‚<br> å¾ˆæ˜æ˜¾ï¼Œ<strong>++ æ“ä½œï¼Œåªéœ€è¦è€ƒè™‘å³è¾¹éƒ¨åˆ†çš„ç»“æœ</strong>ï¼ˆä¸Šé¢ä¾æ¬¡++itï¼Œå®é™…ä¸ŠèŠ‚ç‚¹æŒ‡é’ˆä¾æ¬¡æŒ‡å‘ 6ã€7ã€8ã€9ã€10 ï¼‰ï¼Œä¸éœ€è¦è€ƒè™‘ å·¦è¾¹çš„éƒ¨åˆ†ï¼ˆå³ 1-5 ï¼‰ã€‚</p> 
<p>è¿™æ ·å°±å¾ˆæ¸…æ™°äº†ï¼Œå¯¹äºä¸€ä¸ªä¸­åºéå†çš„ç»“æœï¼Œå¯¹äºæŸä¸€ä¸ªèŠ‚ç‚¹ X çš„å³è¾¹éƒ¨åˆ†ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š<strong>æœ‰æ•°æ®æ˜¯ X çš„å­èŠ‚ç‚¹ï¼ˆå¯èƒ½æ˜¯éƒ¨åˆ†ï¼Œå¯èƒ½æ˜¯å…¨éƒ¨ï¼‰ï¼›æ²¡æœ‰æ•°æ®æ˜¯ X çš„å­èŠ‚ç‚¹</strong>ã€‚ä¾‹å¦‚ä¸Šé¢ 5 è¿™ä¸ªç»“æœï¼Œå…¶å³è¾¹éƒ¨åˆ†6åˆ°10 é‡Œé¢ï¼Œå¯èƒ½æœ‰æ•°æ®æ˜¯5çš„å­èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚</p> 
<p>æ ¹æ®è¿™ä¸¤ç§æƒ…å†µæ¥å†™ä»£ç ã€‚</p> 
<ul><li> <p>å¯¹äºç¬¬ä¸€ç§æƒ…å†µâ€”â€”å³è¾¹éƒ¨åˆ†å­˜åœ¨ X çš„å­èŠ‚ç‚¹ã€‚è¿™å°±å¾ˆå®¹æ˜“äº†ï¼Œç”±äºæ˜¯ä¸­åºéå†ï¼Œå½“å‰èŠ‚ç‚¹éå†å®Œä¹‹åï¼Œå°±éœ€è¦éå†å…¶å³å­æ ‘ã€‚æ‰€ä»¥ ++ æ“ä½œï¼Œåªè¦<strong>æ‰¾åˆ°å…¶å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹å³å¯</strong>ã€‚</p> </li><li> <p>å¯¹äºç¬¬äºŒç§æƒ…å†µï¼ŒX ä¸å­˜åœ¨å³å­æ ‘ï¼Œé‚£ä¹ˆå¿…ç„¶æ˜¯è¦å¾€ä¸Šæ‰¾ã€‚å¦‚ä¸‹å›¾ï¼Œå‡è®¾ä¸€å¼€å§‹æ˜¯å›¾ä¸­å·¦è¾¹çš„çŠ¶æ€ï¼Œ ç°åœ¨æœ‰ cur ã€p ä¸¤ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼Œè€Œ cur æ²¡æœ‰å³å­æ ‘ï¼Œå‘ä¸Šå¯»æ‰¾ï¼Œ cur åœ¨ p çš„å³è¾¹ï¼Œè¿™è¯´æ˜ p å·²ç»éå†è¿‡äº†ã€‚<br> å†ç»§ç»­å¾€ä¸Šæ‰¾ï¼Œåˆ°äº†ä¸‹å›¾å³è¾¹çš„çŠ¶æ€ï¼Œæ­¤æ—¶ <strong>cur åœ¨ p çš„å·¦è¾¹ï¼Œæ ¹æ®ä¸­åºéå†è§„åˆ™ï¼Œä¸‹ä¸€ä¸ªè¦éå†çš„èŠ‚ç‚¹å°±æ˜¯ æ­¤æ—¶çš„ p</strong>ã€‚</p> </li></ul> 
<p><img src="https://images2.imgbox.com/2f/69/TDlSRnBA_o.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" width="700"></p> 
<pre><code class="prism language-cpp">self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å³å­æ ‘å­˜åœ¨ï¼Œå…ˆå»å³å­æ ‘çš„ç¬¬ä¸€ä¸ª</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> subleft<span class="token operator">=</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>subleft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					subleft <span class="token operator">=</span> subleft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				_node <span class="token operator">=</span> subleft<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token comment">// å³å­æ ‘ä¸å­˜åœ¨ï¼Œå‘ä¸Šæ‰¾</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
				Node<span class="token operator">*</span> parent <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre> 
<p><strong>operatorâ€“()</strong></p> 
<p>è€Œ â€“ å°±æ˜¯å’Œ ++ åè¿‡æ¥äº†ï¼Œéå†é¡ºåºæ˜¯ï¼š<strong>å³å­æ ‘ã€æ ¹ã€å·¦å­æ ‘</strong>ã€‚æ‰€ä»¥ï¼Œæ‹¿åˆ°æŸä¸ªèŠ‚ç‚¹ Xï¼Œè¦å…ˆå»çœ‹å·¦å­æ ‘æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™å¾€ä¸Šæ‰¾ã€‚</p> 
<ul><li>å·¦å­æ ‘å­˜åœ¨ï¼Œè‡ªç„¶æ˜¯å»å¯»æ‰¾<strong>å·¦å­æ ‘ä¸­æœ€å¤§çš„èŠ‚ç‚¹</strong>ã€‚</li><li>å·¦å­æ ‘ä¸å­˜åœ¨ï¼Œå¾€ä¸Šæ‰¾ã€‚å¦‚ä¸‹å›¾ï¼Œå‡è®¾å½“å‰è¿­ä»£å™¨å°è£…çš„æ˜¯ cur èŠ‚ç‚¹ï¼Œä¸å­˜åœ¨å·¦å­æ ‘ã€‚ â€“ æ“ä½œå°±åº”è¯¥å‘ä¸Šæ‰¾ï¼Œåœ¨ä¸‹å›¾å·¦è¾¹çš„çŠ¶æ€æ—¶ï¼Œ cur èŠ‚ç‚¹æ˜¯ pèŠ‚ç‚¹çš„å·¦å­©å­ï¼Œæ ¹æ® â€“ çš„éå†é¡ºåºï¼Œp å·²ç»éå†è¿‡äº†ã€‚<br> ç»§ç»­å¾€ä¸Šï¼Œåˆ°äº†ä¸‹å›¾å³è¾¹çš„çŠ¶æ€ï¼Œ <strong>cur æ˜¯ p çš„å³å­©å­ï¼Œæ ¹æ® - - çš„éå†é¡ºåºï¼Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ p</strong>ã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/f6/8a/HVdqBPcU_o.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" width="700"></p> 
<pre><code class="prism language-cpp">self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> subright <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>subright<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					subright <span class="token operator">=</span> subright<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> subright<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token comment">// å½“å‰èŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘ï¼Œç›´æ¥å‘ä¸Šæ‰¾ï¼Œç›´åˆ° parent çš„å·¦å­èŠ‚ç‚¹æ˜¯ cur</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
				Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_305"></a>åå‘è¿­ä»£å™¨</h3> 
<p>åå‘è¿­ä»£å™¨ä¸»è¦æ˜¯å¯¹æ­£å‘è¿­ä»£å™¨çš„å°è£…ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">_RBTreeReverseIterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> it<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> it<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> it<span class="token punctuation">.</span>_it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">--</span>_it<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>_it<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _it<span class="token punctuation">.</span>_node <span class="token operator">!=</span> s<span class="token punctuation">.</span>_it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_it<span class="token punctuation">.</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _it<span class="token punctuation">.</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">struct</span> <span class="token class-name">_RBTreeIterator</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span>Ref<span class="token punctuation">,</span>Ptr<span class="token operator">&gt;</span> _it<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<hr> 
<p>åœ¨çº¢é»‘æ ‘ä¸­å®ç°äº† è¿­ä»£å™¨ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°è£…åˆ° mapã€set é‡Œé¢ã€‚ä¸æ­¤åŒæ—¶ï¼Œè¿˜éœ€è¦çº¢é»‘æ ‘ä¸­æä¾› begin() ã€end() ã€rbegin() ã€rend() æ–¹æ³•ã€‚</p> 
<p>å¦‚ä¸‹ï¼Œæ˜¯åœ¨çº¢é»‘æ ‘ä¸­å®ç°è¿™äº›æ–¹æ³•ï¼Œè¿”å›çš„ç»“æœæ˜¯è¿­ä»£å™¨ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_reverse_iterator<span class="token punctuation">;</span>
	<span class="token keyword">public</span><span class="token operator">:</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		Node<span class="token operator">*</span> _root<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>å¦‚ä¸‹æ˜¯åœ¨ set é‡Œé¢å®ç° begin() ã€end() ï¼Œå®Œå…¨æ˜¯å¯¹ çº¢é»‘æ ‘æ–¹æ³•çš„å¤ç”¨ã€‚</p> 
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ typedef typename RBTree&lt;K, K, KeyOfT&gt;::const_iterator iterator; è¿™æ˜¯ä¸ºäº†ä¿è¯ set çš„ K ä¸å¯ä¿®æ”¹ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"rb_tree.h"</span></span>

<span class="token keyword">namespace</span> SetSimulate
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">set</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">KeyOfT</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> k<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> k<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>

		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>K<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator const_reverse_iterator<span class="token punctuation">;</span>
		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="map__operator__535"></a>map çš„ operator[ ]</h3> 
<p>é¦–å…ˆï¼Œmap çš„ [ ] æ˜¯å…¼å…·<strong>æ’å…¥å’ŒæŸ¥æ‰¾åŠŸèƒ½</strong>çš„ã€‚map é‡Œé¢å­˜å‚¨çš„æ˜¯ pair&lt;K,V&gt; ï¼Œå‡è®¾æœ‰ä¸€ä¸ªmap&lt; int,int &gt;å¯¹è±¡ mï¼Œæ‰§è¡Œ m[10]=1000; â€”â€” å¦‚æœå­˜å‚¨çš„ pair&lt;K,V&gt; é‡Œé¢ï¼Œæœ‰ K ç±»å‹çš„æ•°æ®æ˜¯ 10ï¼Œé‚£ä¹ˆå°±å°†è¿™ä¸ªé”®å€¼å¯¹çš„ V ä¿®æ”¹æˆ 100ï¼›æ²¡æœ‰åˆ™æ’å…¥ make_pair(10,100);</p> 
<p>è¦å®Œæˆä¸Šé¢æè¿°çš„åŠŸèƒ½ï¼Œå°±å¿…é¡»è¦è®© [ ] çš„<strong>è¿”å›å€¼æ˜¯ V&amp; ï¼ˆVçš„å¼•ç”¨ï¼‰</strong>ï¼Œè¿™æ ·æ‰å¯ä»¥ä¿®æ”¹ V ç±»å‹çš„æ•°æ®ã€‚ å¯ä»¥é€šè¿‡è¿­ä»£å™¨æ¥å®ç°ï¼ï¼</p> 
<p>å¦‚ä¸‹æ˜¯ map é‡Œé¢å®ç° operator[ ] çš„ä»£ç ï¼Œ_t æ˜¯çº¢é»‘æ ‘å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡ï¼Œå…¶ Insert() è¿”å›å€¼æ˜¯ pair&lt;iterator,bool&gt; ï¼Œ å¾ˆæ˜æ˜¾ï¼Œè¿”å›å€¼åŒ…å«ä¸¤ä¸ªä¿¡æ¯ï¼š</p> 
<ol><li>æŸä¸ªèŠ‚ç‚¹æ„æˆçš„è¿­ä»£å™¨ã€‚å¦‚æœ<strong>æ’å…¥æˆåŠŸï¼Œé‚£ä¹ˆè¿”å›æ’å…¥èŠ‚ç‚¹å°è£…æˆçš„è¿­ä»£å™¨</strong>ã€‚å¦‚æœ<strong>æ’å…¥å¤±è´¥ï¼ˆå·²ç»æœ‰äº† K ç±»å‹å¯¹åº”çš„æ•°æ®ï¼‰ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæŸ¥æ‰¾åŠŸèƒ½ï¼Œè¿”å›æ‰¾åˆ°çš„è¯¥èŠ‚ç‚¹å°è£…æˆçš„è¿­ä»£å™¨</strong>ã€‚</li><li>æ˜¯å¦æ’å…¥æˆåŠŸï¼Œæ’å…¥æˆåŠŸè¿”å› trueï¼Œå¦åˆ™falseã€‚</li></ol> 
<pre><code class="prism language-cpp">		V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre> 
<p>é‚£ä¹ˆå°±å¯ä»¥å¯¹çº¢é»‘æ ‘åº•å±‚çš„ Insert() è¿›è¡Œä¿®æ”¹ï¼Œåªéœ€è¦ä¿®æ”¹å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œä»¥åŠ return çš„æ—¶å€™ï¼Œæ„é€ ä¸€ä¸ª make_pair&lt;iterator,bool&gt; ç±»å‹çš„æ•°æ®è¿›è¡Œè¿”å›å³å¯ã€‚</p> 
<h2><a id="__559"></a>ğŸ“• æºä»£ç </h2> 
<h3><a id="rb_treeh_561"></a>rb_tree.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cassert&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>


	<span class="token keyword">enum</span> <span class="token class-name">Colour</span>
	<span class="token punctuation">{<!-- --></span>
		RED<span class="token punctuation">,</span>
		BLACK<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span>
	<span class="token punctuation">{<!-- --></span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _left<span class="token punctuation">;</span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _right<span class="token punctuation">;</span>
		RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _parent<span class="token punctuation">;</span>
		T _data<span class="token punctuation">;</span>
		Colour _col<span class="token punctuation">;</span>

		<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
			<span class="token operator">:</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	

	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">_RBTreeIterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>


		<span class="token function">_RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>


		<span class="token function">_RBTreeIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>it<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>_node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>


		Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>_node <span class="token operator">!=</span> s<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å³å­æ ‘å­˜åœ¨ï¼Œå…ˆå»å³å­æ ‘çš„ç¬¬ä¸€ä¸ª</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> subleft<span class="token operator">=</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>subleft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					subleft <span class="token operator">=</span> subleft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				_node <span class="token operator">=</span> subleft<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token comment">// å³å­æ ‘ä¸å­˜åœ¨ï¼Œå‘ä¸Šæ‰¾</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
				Node<span class="token operator">*</span> parent <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> subright <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>subright<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					subright <span class="token operator">=</span> subright<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> subright<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token comment">// å½“å‰èŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘ï¼Œç›´æ¥å‘ä¸Šæ‰¾ï¼Œç›´åˆ° parent çš„å·¦å­èŠ‚ç‚¹æ˜¯ cur</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
				Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>



		Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>


	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">_RBTreeReverseIterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> it<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">_RBTreeReverseIterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> it<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_it<span class="token punctuation">.</span>_node <span class="token operator">=</span> it<span class="token punctuation">.</span>_it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">--</span>_it<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>_it<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _it<span class="token punctuation">.</span>_node <span class="token operator">!=</span> s<span class="token punctuation">.</span>_it<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_it<span class="token punctuation">.</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _it<span class="token punctuation">.</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">struct</span> <span class="token class-name">_RBTreeIterator</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span>Ref<span class="token punctuation">,</span>Ptr<span class="token operator">&gt;</span> _it<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>



	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> _RBTreeReverseIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_reverse_iterator<span class="token punctuation">;</span>
	<span class="token keyword">public</span><span class="token operator">:</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		<span class="token operator">~</span><span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Delete</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">;</span>
			_root <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Node<span class="token operator">*</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			KeyOfT kt<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
					<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				_root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
				_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			KeyOfT kt<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token comment">// æ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kt</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
					<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// æ’å…¥</span>
			cur <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
			Node<span class="token operator">*</span> newnode <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kt</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kt</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kt</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>


			<span class="token comment">// è°ƒæ•´é¢œè‰²</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> grandfather <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span> <span class="token comment">// uncle ä¸ºçº¢è‰²</span>
					<span class="token punctuation">{<!-- --></span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
						uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>

						<span class="token comment">// ç»§ç»­è°ƒæ•´</span>
						cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
						parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token comment">// uncleä¸å­˜åœ¨ or å­˜åœ¨ä¸”ä¸ºé»‘</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
							parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
							grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
							<span class="token comment">//cur-&gt;_col = RED;</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
							cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
							grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
							parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token keyword">break</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token comment">// if (parent == grandfather-&gt;_right)</span>
				<span class="token punctuation">{<!-- --></span>
					Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span> <span class="token comment">// uncle ä¸ºçº¢è‰²</span>
					<span class="token punctuation">{<!-- --></span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
						uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>

						<span class="token comment">// ç»§ç»­è°ƒæ•´</span>
						cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
						parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token comment">// uncleä¸å­˜åœ¨ or å­˜åœ¨ä¸”ä¸ºé»‘</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
							parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
							grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
							<span class="token comment">//cur-&gt;_col = RED;</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">else</span> <span class="token comment">// cur == parent-&gt;_left</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
							cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
							parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
							grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token keyword">break</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">int</span> <span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">_Height</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">isBalance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_root<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ ¹èŠ‚ç‚¹çš„é¢œè‰²æ˜¯çº¢è‰²"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">int</span> benchmark <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			Node<span class="token operator">*</span> tmp <span class="token operator">=</span> _root<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
					benchmark<span class="token operator">++</span><span class="token punctuation">;</span>
				tmp <span class="token operator">=</span> tmp<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">_isBalance</span><span class="token punctuation">(</span>_root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> benchmark<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">Inorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">_Inorder</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>

		<span class="token keyword">void</span> <span class="token function">_Inorder</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>

			<span class="token function">_Inorder</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token function">_Inorder</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">_isBalance</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> blackNum<span class="token punctuation">,</span> <span class="token keyword">int</span> benchmark<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>blackNum <span class="token operator">==</span> benchmark<span class="token punctuation">)</span>
					<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æŸæ¡é“¾è·¯é»‘è‰²èŠ‚ç‚¹æ•°ç›®é”™è¯¯ï¼"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
				<span class="token operator">++</span>blackNum<span class="token punctuation">;</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_parent <span class="token operator">&amp;&amp;</span> root<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å­˜åœ¨ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token function">_isBalance</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">,</span> blackNum<span class="token punctuation">,</span> benchmark<span class="token punctuation">)</span>
				<span class="token operator">&amp;&amp;</span> <span class="token function">_isBalance</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">,</span> blackNum<span class="token punctuation">,</span> benchmark<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">int</span> <span class="token function">_Height</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token keyword">int</span> leftH <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> rightH <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">return</span> leftH <span class="token operator">&gt;</span> rightH <span class="token operator">?</span> leftH <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> rightH <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>



		<span class="token keyword">void</span> <span class="token function">Delete</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>

			<span class="token function">Delete</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Delete</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">RotateL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subR <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> subRL <span class="token operator">=</span> subR<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

			parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subRL<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>subRL<span class="token punctuation">)</span>
				subRL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>

			Node<span class="token operator">*</span> pparent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			subR<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> subR<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>pparent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				_root <span class="token operator">=</span> subR<span class="token punctuation">;</span>
				_root<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> pparent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					pparent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subR<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					pparent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subR<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				subR<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> pparent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>


		<span class="token punctuation">}</span>



		<span class="token keyword">void</span> <span class="token function">RotateR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subL <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> subLR <span class="token operator">=</span> subL<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

			Node<span class="token operator">*</span> pparent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			subL<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> subL<span class="token punctuation">;</span>

			parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subLR<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>subLR<span class="token punctuation">)</span>
				subLR<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>


			<span class="token keyword">if</span> <span class="token punctuation">(</span>pparent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				subL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
				_root <span class="token operator">=</span> subL<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> pparent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					pparent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subL<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					pparent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subL<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				subL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> pparent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		Node<span class="token operator">*</span> _root<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre> 
<h3><a id="seth_1136"></a>set.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"rb_tree.h"</span></span>

<span class="token keyword">namespace</span> SetSimulate
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">set</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">KeyOfT</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> k<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> k<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>

		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>K<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator const_reverse_iterator<span class="token punctuation">;</span>
		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> k<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="maph_1221"></a>map.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"rb_tree.h"</span></span>


<span class="token keyword">namespace</span> MapSimulate
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">map</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">MapOfKey</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTreeNode</span><span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>reverse_iterator reverse_iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_reverse_iterator const_reverse_iterator<span class="token punctuation">;</span>

		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapOfKey<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b5498ddf98464b7164c6f117dbe0c34/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">åŸºäºtabularåŒ…çš„Latexè¡¨æ ¼å°ºå¯¸è®¾ç½®æ–¹æ³•ï¼ˆåˆ—å®½å’Œè¡Œé«˜ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8361cf1f76ae42d4048808ac150f6927/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">latent diffusion model å¤ç°é—®é¢˜è®°å½•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 èœé¸Ÿç¨‹åºå‘˜åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>