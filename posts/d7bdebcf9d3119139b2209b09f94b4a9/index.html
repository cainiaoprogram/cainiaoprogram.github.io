<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot使用RSA对接口的请求和相应进行加密解密 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot使用RSA对接口的请求和相应进行加密解密" />
<meta property="og:description" content=" 文章目录 1、前置：2、实现步骤：3、注意： 1、前置： 使用Spring 框架提供的两个接口RequestBodyAdvice 和 ResponseBodyAdvice ，用于在请求的参数绑定和响应结果处理过程中进行拦截和增强。本代码只实现了RSA对接口的数据进行加密解密；相较于AES的方式较为消耗性能。引用（https://blog.csdn.net/qq_41520636/article/details/130341449?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-130341449-blog-109512384.235%5Ev38%5Epc_relevant_anti_vip_base&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-130341449-blog-109512384.235%5Ev38%5Epc_relevant_anti_vip_base&amp;utm_relevant_index=5） 2、实现步骤： 1、创建RSA加密解密工具类2、准备三个注解，加密，解密，加密解密同时进行。3、使用反射（Utils ）来判断controller，某个接口决定使用哪个注解，如果是Encrypt注解，那么加密和解密同时进行。4、准备一个读取yml配置类（KeyConfig ）它将用于是否开启统一加密和解密，以及是否打印解密数据等配置。5、接着，配置publicKey和privateKey，大家可以通过RSAUtils的generateKeyPair方法生成 api: encrypt: rsa: publicKey: xxx privateKey: xxx showLog: true # 是否打印加密解密log true or false open: true # 是否开启加密 true or false 6、创建：EncryptRequestAdvice 和 EncryptResponseAdvice 类进行请求体和响应体的解密和加密 3、注意： 该统一加密和解密，必须是@RequestBody注解，否则RequestBodyAdvice的底层过滤器不会过滤这些请求，最终两端应用都无法通信哦。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d7bdebcf9d3119139b2209b09f94b4a9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-24T18:56:26+08:00" />
<meta property="article:modified_time" content="2023-06-24T18:56:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot使用RSA对接口的请求和相应进行加密解密</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_1" rel="nofollow">1、前置：</a></li><li><a href="#2_5" rel="nofollow">2、实现步骤：</a></li><li><a href="#3_24" rel="nofollow">3、注意：</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_1"></a>1、前置：</h2> 
<ul><li>使用Spring 框架提供的两个接口RequestBodyAdvice 和 ResponseBodyAdvice ，用于在请求的参数绑定和响应结果处理过程中进行拦截和增强。</li><li>本代码只实现了RSA对接口的数据进行加密解密；相较于AES的方式较为消耗性能。</li><li>引用（https://blog.csdn.net/qq_41520636/article/details/130341449?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-130341449-blog-109512384.235%5Ev38%5Epc_relevant_anti_vip_base&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-130341449-blog-109512384.235%5Ev38%5Epc_relevant_anti_vip_base&amp;utm_relevant_index=5）</li></ul> 
<h2><a id="2_5"></a>2、实现步骤：</h2> 
<ul><li>1、创建RSA加密解密工具类</li><li>2、准备三个注解，加密，解密，加密解密同时进行。</li><li>3、使用反射（Utils ）来判断controller，某个接口决定使用哪个注解，如果是Encrypt注解，那么加密和解密同时进行。</li><li>4、准备一个读取yml配置类（KeyConfig ）它将用于是否开启统一加密和解密，以及是否打印解密数据等配置。</li><li>5、接着，配置publicKey和privateKey，大家可以通过RSAUtils的generateKeyPair方法生成</li></ul> 
<pre><code class="prism language-xml">api:
  encrypt:
    rsa:
      publicKey: xxx
      privateKey: xxx
      showLog: true # 是否打印加密解密log true or false
      open: true # 是否开启加密 true or false

</code></pre> 
<ul><li>6、创建：EncryptRequestAdvice 和 EncryptResponseAdvice 类进行请求体和响应体的解密和加密</li></ul> 
<h2><a id="3_24"></a>3、注意：</h2> 
<ul><li>该统一加密和解密，必须是@RequestBody注解，否则RequestBodyAdvice的底层过滤器不会过滤这些请求，最终两端应用都无法通信哦。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b540b0df0a9f46803b4dd6bcd49636c2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">opencv imread图像读取不成功</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1cfec37cb30955a99f67a8f36d97204a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Jetson安装Anaconda（miniforge3）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>