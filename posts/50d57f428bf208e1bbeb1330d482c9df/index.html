<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>代码随想录：贪心算法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="代码随想录：贪心算法" />
<meta property="og:description" content="455. 分发饼干 解题步骤
排序：给两个数组排序举例判断：看第一个情况不满足，要换孩子还是换物品？
a. 换孩子→遍历孩子
b. 换物品→遍历物品 实战：
选择从小到大排序第一个不满足，我要换物品。因为换了孩子还是不满足。确定了遍历顺序：换物品→遍历物品 go实现
/** * @date: 2024 Jan 06 * @time: 10:50 * @author: Chris * @title: 455. Assign Cookies * @link: https://leetcode.cn/problems/assign-cookies/description/ **/ package day31 import ( &#34;sort&#34; ) // 优先满足胃口小的孩子， // 如果不可以换下一个物品；如果换孩子的的话也不能满足 func findContentChildren(g []int, s []int) int { // sort by ascending sort.Ints(g) sort.Ints(s) child := 0 // 遍历物品，如果不行换下个物品 for sIndex := 0; child &lt; len(g) &amp;&amp; sIndex &lt; len(s); sIndex&#43;&#43; { // 物品sIndex在不断递增 // child只有满足的当前孩子时候才递增，才会尝试分配给下一个孩子 if s[sIndex] &gt;= g[child] { child&#43;&#43; } } return child } // 优先满足胃口大的孩子， // 如果不行，换下个孩子； 如果换下一个物品的话也不能满足。 func findContentChildren2(g []int, s []int) int { // sort sort." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/50d57f428bf208e1bbeb1330d482c9df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-06T18:10:33+08:00" />
<meta property="article:modified_time" content="2024-01-06T18:10:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">代码随想录：贪心算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="455__0"></a>455. 分发饼干</h2> 
<p><strong>解题步骤</strong></p> 
<ol><li>排序：给两个数组排序</li><li>举例判断：看第一个情况不满足，要换孩子还是换物品？<br> a. 换孩子→遍历孩子<br> b. 换物品→遍历物品</li></ol> 
<p><strong>实战：</strong></p> 
<ol><li>选择从小到大排序</li><li>第一个不满足，我要换物品。因为换了孩子还是不满足。</li><li>确定了遍历顺序：换物品→遍历物品</li></ol> 
<p>go实现</p> 
<pre><code class="prism language-go"><span class="token comment">/**
 * @date: 2024 Jan 06
 * @time: 10:50
 * @author: Chris
 * @title: 455. Assign Cookies
 * @link: https://leetcode.cn/problems/assign-cookies/description/
**/</span>
<span class="token keyword">package</span> day31

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"sort"</span>
<span class="token punctuation">)</span>

<span class="token comment">// 优先满足胃口小的孩子，</span>
<span class="token comment">// 如果不可以换下一个物品；如果换孩子的的话也不能满足</span>
<span class="token keyword">func</span> <span class="token function">findContentChildren</span><span class="token punctuation">(</span>g <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// sort by ascending</span>
	sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>
	sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	child <span class="token operator">:=</span> <span class="token number">0</span>
	<span class="token comment">// 遍历物品，如果不行换下个物品</span>
	<span class="token keyword">for</span> sIndex <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> child <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> sIndex <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> sIndex<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 物品sIndex在不断递增</span>
		<span class="token comment">// child只有满足的当前孩子时候才递增，才会尝试分配给下一个孩子</span>
		<span class="token keyword">if</span> s<span class="token punctuation">[</span>sIndex<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> g<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
			child<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> child
<span class="token punctuation">}</span>

<span class="token comment">// 优先满足胃口大的孩子，</span>
<span class="token comment">// 如果不行，换下个孩子； 如果换下一个物品的话也不能满足。</span>
<span class="token keyword">func</span> <span class="token function">findContentChildren2</span><span class="token punctuation">(</span>g <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// sort</span>
	sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>
	sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

	sIndex <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
	<span class="token comment">// 遍历孩子，如果不行换孩子</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> sIndex <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 孩子可能大于饼干数，注意sIndex别越界</span>
		<span class="token keyword">if</span>  s<span class="token punctuation">[</span>sIndex<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
			sIndex<span class="token operator">--</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> sIndex
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="55__69"></a>55. 跳跃游戏</h2> 
<pre><code class="prism language-go"><span class="token comment">/**
 * @date: 2024 Jan 06
 * @time: 13:32
 * @author: Chris
 * @title: 55. Jump Game
 * @link: https://leetcode.cn/problems/jump-game/description/
**/</span>
<span class="token keyword">package</span> day32

<span class="token comment">// 跳跃覆盖范围究竟可不可以覆盖到终点！</span>
<span class="token keyword">func</span> <span class="token function">canJump</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 记录 能到达的最大的位置</span>
	cover <span class="token operator">:=</span> <span class="token number">0</span>

	<span class="token comment">// 注意这里i的范围是cover，是能到达的距离！超过这个距离不能到达</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> cover<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 更新cover = (当前位置+跳跃距离, 旧cover)</span>
		cover <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>i<span class="token operator">+</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cover<span class="token punctuation">)</span>
		<span class="token keyword">if</span> cover <span class="token operator">&gt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="45__II_102"></a>45. 跳跃游戏 II</h2> 
<aside>
  💡 先想出一般规则！再考虑特殊边界情况 
</aside> 
<p><strong>思路：</strong></p> 
<p><strong>记录步骤的规则：</strong> 每超过上一次可达最大范围，需要跳跃一次。<br> 所以 在i==上一次可达范围+1的位置进行记录，次数+1<br> 即<code>if (i == lastDistance + 1) minSetp++;</code></p> 
<p>从题目中可知：一开始到达了nums[0]位置，从nums[1]记录一次！<br> 然后题目确保了可到达尾巴nums[n-1]。</p> 
<pre><code class="prism language-go"><span class="token comment">/**
 * @date: 2024 Jan 06
 * @time: 13:44
 * @author: Chris
 * @title: 45. Jump Game II
 * @link: https://leetcode.cn/problems/jump-game-ii/description/
**/</span>
<span class="token keyword">package</span> day32

<span class="token comment">// 记录步骤规则：每超过上一次可达最大范围，需要跳跃一次，次数+1</span>
<span class="token comment">// 记录位置：i == lastDistance + 1</span>
<span class="token keyword">func</span> <span class="token function">jump</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 根据题目规则，初始位置为nums[0]</span>
	lastDistance <span class="token operator">:=</span> <span class="token number">0</span> <span class="token comment">// 上一次覆盖范围</span>
	curDistance <span class="token operator">:=</span> <span class="token number">0</span>  <span class="token comment">// 当前覆盖范围（可达最大范围）</span>
	minStep <span class="token operator">:=</span> <span class="token number">0</span>      <span class="token comment">// 记录最少跳跃次数</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> i <span class="token operator">==</span> lastDistance<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 在上一次可达范围+1的位置，记录步骤</span>
			minStep<span class="token operator">++</span>                  <span class="token comment">// 跳跃次数+1</span>
			lastDistance <span class="token operator">=</span> curDistance <span class="token comment">// 记录时才可以更新</span>
		<span class="token punctuation">}</span>
		curDistance <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>i<span class="token punctuation">,</span> curDistance<span class="token punctuation">)</span> <span class="token comment">// 更新当前可达的最大范围</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> minStep
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="135__148"></a>135. 分发糖果</h2> 
<p><strong>1. 初始化每人一个糖果</strong></p> 
<p><strong>2. 确保每个比左邻居评分高的孩子，比左邻居多一颗糖果。</strong><br> a. 从左向右遍历–&gt;，和右邻居比较</p> 
<pre><code>💡 因为判断是基于左邻居，应先确定左边，所以从左到右遍历
</code></pre> 
<p><strong>3. 确保每个比右邻居评分高的孩子，比右邻居多一颗糖果。</strong><br> a. 从右向左遍历&lt;–，和右邻居比较</p> 
<pre><code>💡 判断基于右邻居，右边的状态先确定，所以从右向左遍历
</code></pre> 
<pre><code class="prism language-go"><span class="token comment">/**
 * @date: 2024 Jan 06
 * @time: 17:16
 * @author: Chris
 * @title: 135. Candy
 * @link: https://leetcode.cn/problems/candy/
**/</span>
<span class="token keyword">package</span> day34

<span class="token keyword">func</span> <span class="token function">candy</span><span class="token punctuation">(</span>ratings <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>ratings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 初始化，每人一个糖</span>
	candies <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> candies <span class="token punctuation">{<!-- --></span>
		candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 确保每个比左邻居评分高的孩子，比左邻居多一颗糖果。</span>
	<span class="token comment">// 从左到右 ---&gt;</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//评分比左侧高！</span>
		<span class="token keyword">if</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 比左侧多一个</span>
			candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> candies<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 确保每个比右邻居评分高的孩子，比右邻居多一颗糖果。</span>
	<span class="token comment">// 从右到左  &lt;---</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//评分比右侧高！  如果糖果少的话再操作，糖果多不要操作，可能会减少糖果！</span>
		<span class="token comment">// 比如 [1,2,3,1] 糖果数[1,2,3,1],不加这个条件3就变成2了！</span>
		<span class="token keyword">if</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> candies<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
			candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> candies<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	total <span class="token operator">:=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token keyword">range</span> candies <span class="token punctuation">{<!-- --></span>
		total <span class="token operator">+=</span> c
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> total
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>细节：</strong></p> 
<p>左到右→: <code>i =1</code></p> 
<p>右到左←: <code>i = n-2</code></p> 
<p><strong>为什么是评分比较不包含=符号？</strong></p> 
<p>题目要求比邻居高，糖果比邻居糖果多，<br> 如果相等（即不比邻居高），那么可以不比邻居多。<br> 比如： ratings[1, 2, 2] 糖果为：[1, 2, 1]</p> 
<p><strong>为什么第二次循环多加了一个<code>candies[i] &lt;= candies[i+1]</code>判断，如果不判断有什么后果？</strong></p> 
<p>如果当前孩子比右邻居糖果还进行操作，<strong>可能会减少糖果！从而导致违背第一次遍历要求！</strong><br> 比如ratings [1,2,3,1] 第一次遍历糖果数[1,2,3,1]<br> 不加这个条件，遍历[1,2,<code>3</code>,1]，3就会变成2了！<strong>不满足糖果数大于左邻居！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/70bb80a6aa599951a4aa2ac959683152/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【PHP】where和whereOr一起复杂查询示例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b142feacdeab9164f6dd7ab8bec04ee1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">EF Core实体的五种不同的状态</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>