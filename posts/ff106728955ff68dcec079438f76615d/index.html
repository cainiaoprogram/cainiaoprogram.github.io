<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jmeter之时间戳 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jmeter之时间戳" />
<meta property="og:description" content="初级篇·简单时间戳生成
在使用jmeter做接口测试的时候，经常会要用到日期函数，让系统自动生成一些格式化的数据，方便接口测试，jmeter自身就带有时间戳的函数
1、__time()：获取时间戳、格式化时间
(1)${__time(yyyy-MM-dd HH:mm:ss:SSS,time)} ：格式化生成时间格式 2018-10-26 11:08:23:635
(2)${__time(yyyy-MM-dd HH:mm:ss,time)} ：格式化生成时间格式 2018-10-26 11:08:23
(3)${__time(,)} ：默认该公式精确到 毫秒 级别， 13位数 1527822855323
(4)${__time(/1000,)} ：该公式精确到 秒 级别， 10位数 1527822871
(5)${__time(yyyy-MM-dd,)} : 该公式格式化生成的常规时间为：2018-10-26
(6)${__time(yyMMdd,)} : 该公式格式化生成的时间为：181026
2、__timeShift(格式，日期，移位，语言环境，变量)函数，可以将时间进行移位，对当前时间增加或者减少对应的时间
(1)格式 - 将显示创建日期的格式。如果该值未被传递，则以毫秒为单位创建日期。
(2)日期 - 这是日期值。用于如果要通过添加或减去特定天数，小时或分钟来创建特定日期的情况。如果参数值未通过，则使用当前日期。
(3)移位 - 表示要从日期参数的值中添加或减去多少天，几小时或几分钟。如果该值未被传递，则不会将任何值减去或添加到日期参数的值中。
“P1DT2H4M5S” 解析为“添加1天2小时4分钟5秒” “P-6H3M”解析为“-6小时&#43;3分钟” “-P6H3M”解析为“-6小时-3分钟” “-P-6H &#43; 3M”解析为“&#43;6小时和-3分钟” (4)、区域设置 - 设置创建日期的显示语言。不是必填项
(5)、变量 - 创建日期的值将被分配给的变量的名称。不是必填项
${__timeShift(yy-MM-dd,2018-10-26,P2D,,)}这种返回的时间就是2018-10-28。 注意2018-10-26必须对应格式yy-MM-dd，否则会返回当天日期。
3、__randomDate(格式，开始时间，结束时间):时间段内随机获取时间
(1)格式默认为yyyy-MM-dd
${__randomDate(yyyy-MM-dd,2018-10-01,2018-10-30)},这种函数就会自动返回20181001-20181030之间的一个日期。
4 获取当天时间的23:59:59，然后转换为时间戳
${__groovy(new java.text.SimpleDateFormat(&#39;yyyy-MM-dd HH:mm:ss&#39;).parse(&#39;${__time(yyyy-MM-dd)} 23:59:59&#39;).getTime(),)} 解释：${__time(yyyy-MM-dd)} 23:59:59 是你输入的时间，程序会按照你输入的时间转换为13位毫秒时间戳
你还可以结合时间移位使用：${__groovy(new java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ff106728955ff68dcec079438f76615d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-06T17:03:00+08:00" />
<meta property="article:modified_time" content="2021-09-06T17:03:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jmeter之时间戳</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html" style="font-size: 16px;"> 
 <p>初级篇·简单时间戳生成</p> 
 <p>在使用jmeter做接口测试的时候，经常会要用到日期函数，让系统自动生成一些格式化的数据，方便接口测试，jmeter自身就带有时间戳的函数</p> 
 <p>1、__time()：获取时间戳、格式化时间</p> 
 <p>(1)${__time(yyyy-MM-dd HH:mm:ss:SSS,time)} ：格式化生成时间格式 2018-10-26 11:08:23:635</p> 
 <p>(2)${__time(yyyy-MM-dd HH:mm:ss,time)} ：格式化生成时间格式 2018-10-26 11:08:23</p> 
 <p>(3)${__time(,)} ：默认该公式精确到 毫秒 级别， 13位数 1527822855323</p> 
 <p>(4)${__time(/1000,)} ：该公式精确到 秒 级别， 10位数 1527822871</p> 
 <p>(5)${__time(yyyy-MM-dd,)} : 该公式格式化生成的常规时间为：2018-10-26</p> 
 <p>(6)${__time(yyMMdd,)} : 该公式格式化生成的时间为：181026</p> 
 <p>2、__timeShift(格式，日期，移位，语言环境，变量)函数，可以将时间进行移位，对当前时间增加或者减少对应的时间</p> 
 <p>(1)格式 - 将显示创建日期的格式。如果该值未被传递，则以毫秒为单位创建日期。</p> 
 <p>(2)日期 - 这是日期值。用于如果要通过添加或减去特定天数，小时或分钟来创建特定日期的情况。如果参数值未通过，则使用当前日期。</p> 
 <p>(3)移位 - 表示要从日期参数的值中添加或减去多少天，几小时或几分钟。如果该值未被传递，则不会将任何值减去或添加到日期参数的值中。</p> 
 <div class="highlight"> 
  <pre class="has"><code class="language-text">“P1DT2H4M5S” 解析为“添加1天2小时4分钟5秒”
   
     “P-6H3M”解析为“-6小时+3分钟”
    
    “-P6H3M”解析为“-6小时-3分钟”
    
    “-P-6H + 3M”解析为“+6小时和-3分钟”</code></pre> 
 </div> 
 <p>(4)、区域设置 - 设置创建日期的显示语言。不是必填项</p> 
 <p>(5)、变量 - 创建日期的值将被分配给的变量的名称。不是必填项</p> 
 <p><img src="https://images2.imgbox.com/e6/98/1c3oRnLR_o.png" width="785" style="outline: none;"></p> 
 <p>${__timeShift(yy-MM-dd,2018-10-26,P2D,,)}这种返回的时间就是2018-10-28。 注意2018-10-26必须对应格式yy-MM-dd，否则会返回当天日期。</p> 
 <p>3、__randomDate(格式，开始时间，结束时间):时间段内随机获取时间</p> 
 <p>(1)格式默认为yyyy-MM-dd</p> 
 <p><img src="https://images2.imgbox.com/3f/6f/PYwcQdIr_o.png" width="757" style="outline: none;"></p> 
 <p>${__randomDate(yyyy-MM-dd,2018-10-01,2018-10-30)},这种函数就会自动返回20181001-20181030之间的一个日期。</p> 
 <p>4 获取当天时间的23:59:59，然后转换为时间戳</p> 
 <p>${__groovy(new  java.text.SimpleDateFormat('yyyy-MM-dd HH:mm:ss').parse('${__time(yyyy-MM-dd)} 23:59:59').getTime(),)} </p> 
 <p>　　解释：${__time(yyyy-MM-dd)} 23:59:59  是你输入的时间，程序会按照你输入的时间转换为13位毫秒时间戳</p> 
 <p>　　你还可以结合时间移位使用：${__groovy(new  java.text.SimpleDateFormat('yyyy-MM-dd HH:mm:ss').parse('${__timeShift(yyyy-MM-dd,,-P1D,,)} 23:59:59').getTime(),)}</p> 
 <p>　　　　其中${__timeShift(yyyy-MM-dd,,-P1D,,)}就是你的位移时间，然后转换位时间戳</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9f50f5c80f169477ae9a0f6bf899ad3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">01背包问题如何求解背包中的具体物品</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aab86388b4fe4d00f3fd6f5e1d3c947f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Package should contain a content type part [M1.13]</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>