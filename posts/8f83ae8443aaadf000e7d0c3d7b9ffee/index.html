<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go语言的类型别名与类型定义 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="go语言的类型别名与类型定义" />
<meta property="og:description" content="类型别名(Type Alias) 类型别名是Go 1.9版本添加的新功能主要用于解决代码升级,迁移中存在的类型兼容性问题
type MyAlias = SomeType package main import &#34;fmt&#34; // 类型别名:将int取一个别名为MyInt type MyInt = int func main() { var num1 MyInt = 5 var num2 int = 10 // MyInt类型和int类型是相同的类型,可以相互赋值而无需转换 num1 = num2 num2 = num1 fmt.Println(num1, num2) // 10 10 fmt.Printf(&#34;num1: %T \n&#34;, num1) // num1: int fmt.Printf(&#34;num2: %T \n&#34;, num2) // num1: int } 在这个例子中,MyInt是int的别名,两者是同一个类型,因此他们可以互相赋值,不需要进行任何类型转换.MyInt类型只会在代码中存在,编译完成时,不会有MyInt类型
类型定义(Type Definition) type NewType SomeType package main import &#34;fmt&#34; // 类型定义: 创建一个全新类型,名为Feet,底层类型为float64 type Feet float64 func main() { var distanceFeet Feet = 5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8f83ae8443aaadf000e7d0c3d7b9ffee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-09T20:44:01+08:00" />
<meta property="article:modified_time" content="2023-12-09T20:44:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go语言的类型别名与类型定义</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Type_Alias_1"></a>类型别名(Type Alias)</h3> 
<blockquote> 
 <p>类型别名是Go 1.9版本添加的新功能主要用于解决代码升级,迁移中存在的类型兼容性问题</p> 
</blockquote> 
<pre><code class="prism language-go"><span class="token keyword">type</span> MyAlias <span class="token operator">=</span> SomeType
</code></pre> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 类型别名:将int取一个别名为MyInt</span>
<span class="token keyword">type</span> MyInt <span class="token operator">=</span> <span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> num1 MyInt <span class="token operator">=</span> <span class="token number">5</span>
	<span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>

	<span class="token comment">// MyInt类型和int类型是相同的类型,可以相互赋值而无需转换</span>
	num1 <span class="token operator">=</span> num2
	num2 <span class="token operator">=</span> num1

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>         <span class="token comment">// 10 10</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num1: %T \n"</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span> <span class="token comment">// num1: int</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num2: %T \n"</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token comment">// num1: int</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个例子中,<strong>MyInt</strong>是<strong>int</strong>的别名,两者是同一个类型,因此他们可以互相赋值,不需要进行任何类型转换.<strong>MyInt</strong>类型只会在代码中存在,编译完成时,不会有<strong>MyInt</strong>类型</p> 
<h3><a id="Type_Definition_33"></a>类型定义(Type Definition)</h3> 
<pre><code class="prism language-go"><span class="token keyword">type</span> NewType SomeType
</code></pre> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 类型定义: 创建一个全新类型,名为Feet,底层类型为float64</span>
<span class="token keyword">type</span> Feet <span class="token builtin">float64</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> distanceFeet Feet <span class="token operator">=</span> <span class="token number">5.2</span>
	<span class="token keyword">var</span> distanceFloat <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">10.5</span>

	<span class="token comment">// 以下赋值会导致编译错误,因为类型定义创建了全新类型,需要显示转换</span>
	<span class="token comment">//distanceFloat = distanceFeet Cannot use 'distanceFeet' (type Feet) as the type float64</span>
	<span class="token comment">//distanceFeet = distanceFloat Cannot use 'distanceFloat' (type float64) as the type Feet</span>

	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"distanceFeet: %T \n"</span><span class="token punctuation">,</span> distanceFeet<span class="token punctuation">)</span>   <span class="token comment">// distanceFeet: main.Feet</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"distanceFloat: %T \n"</span><span class="token punctuation">,</span> distanceFloat<span class="token punctuation">)</span> <span class="token comment">// distanceFloat: float64</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个例子中,<strong>Feet</strong>是 <strong>float64</strong>的全新类型,尽管底层类型相同,但它们在类型系统中被视为不同类型.因此,不能直接进行赋值,需要进行显示类型转换.<strong>Feet</strong>类型不止是在代码中存在,在编译阶段仍然存在</p> 
<h3><a id="_62"></a>应用场景</h3> 
<ul><li><strong>类型别名</strong>: 可以在需要将相同类型的不同命名用途区分开的情况下使用,例如将 <strong>type Email =string</strong> 和 <strong>type Username = string</strong>区分开来</li><li><strong>类型定义</strong>: 可以用于需要严格类型控制的情况下,确保即使底层类型相同,也需要显示类型转换的场景,比如单位不同但底层类型相同的情况.</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f952fd6321479c4a06e1c24ba9d7592b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">子网划分（超详细）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ff6520aad3afbf1485492dd2126e2d44/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">YOLOX 学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>