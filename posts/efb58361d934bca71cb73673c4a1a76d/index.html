<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录Makefile的第一次学习 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="记录Makefile的第一次学习" />
<meta property="og:description" content="1.Makefile的功能和原理 Makefile是一种用于自动化构建和管理软件项目的工具，由make命令执行。Makefile文件描述了整个工程所有文件的编译顺序、编译规则，Makefile有自己的书写格式、关键字、函数。
Makefile的产生原因是为了解决编译过程中的依赖关系问题，使得在开发过程中能够轻松地进行代码的编译、链接和部署。在链接过程中，如果我们链接的目标文件过多，那么挨个指出目标文件名称，就很不方便，所以，使用makefile可以批量，流程的指出连接
2.Linux平台的Makefile用法 在Linux开发中，Makefile文件给我们带来很多的便利。在Linux系统下并不会像Windows那么多开发工具，工程源文件的编写往往是使用一个简单的编辑器（VIM），然后通过Makefile文件进行自动化编译。
make命令是读取当前目录下的文件名为makefile的文件，然后按照makefile的文件内容将其项目一次性编译。
当我们输入make命令的时候，make命令会在当前目录下找寻名字是Makefile或者makefile的文件。
也可以使用-f参数指定目标文件。
make -f Makefile.typename 3.Windows平台的Makefile用法 在Windows平台可以使用Makefile批量链接编译和gcc，g&#43;&#43;等编译器的帮助下，不需要下载vs等工具进行编程。
1）安装对应语言的编译器 以c语言为例，gcc编译器下载，TDM-GCC，打开根据自己电脑的类型选择合适的程序，
gcc的安装与下载可以找教程。注意安装路径不要有中文
2）检查编译器安装和环境变量是否成功设置 cmd窗口输入gcc -v
输入mingw32-make -v
4.Makefile的基本语法 1）基本格式 目标文件:依赖文件
【tab】命令
命令都需要以tab开始，且不能用四个空格替代。
hello:hello.o g&#43;&#43; hello.o -o hello hello.o:hello.S g&#43;&#43; -c hello.S -o hello.o hello.S:hello.i g&#43;&#43; -S hello.i -o hello.S hello.i:hello.cpp g&#43;&#43; -E hello.cpp -o hello.i 2）赋值 = 替换
&#43;= 追加
:= 恒等于
3）通配符 %.o 任意以.o结尾的文件
*.o 所有以.o结尾的文件
4）特殊 $^ 所有依赖文件
$@ 所有目标文件
$&lt; 所有依赖文件的第一个文件
5）.PHONY次目标（附加处理） 固定以." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/efb58361d934bca71cb73673c4a1a76d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-23T18:58:40+08:00" />
<meta property="article:modified_time" content="2023-11-23T18:58:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录Makefile的第一次学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1.Makefile的功能和原理</h3> 
<p>Makefile是一种用于自动化构建和管理软件项目的工具，由make命令执行。Makefile文件描述了整个工程所有文件的编译顺序、编译规则，Makefile有自己的书写格式、关键字、函数。</p> 
<p>Makefile的产生原因是为了解决编译过程中的依赖关系问题，使得在开发过程中能够轻松地进行代码的编译、链接和部署。在链接过程中，如果我们链接的目标文件过多，那么挨个指出目标文件名称，就很不方便，所以，使用makefile可以批量，流程的指出连接</p> 
<p><img alt="" height="551" src="https://images2.imgbox.com/28/6a/4Xkn4FkJ_o.png" width="886"></p> 
<p><img alt="" height="327" src="https://images2.imgbox.com/47/07/nrOT2p6e_o.png" width="1200"></p> 
<h3>2.Linux平台的Makefile用法</h3> 
<p>在Linux开发中，Makefile文件给我们带来很多的便利。在Linux系统下并不会像Windows那么多开发工具，工程源文件的编写往往是使用一个简单的编辑器（VIM），然后通过Makefile文件进行自动化编译。</p> 
<p>make命令是读取当前目录下的文件名为<a href="https://so.csdn.net/so/search?q=makefile&amp;spm=1001.2101.3001.7020" title="makefile">makefile</a>的文件，然后按照makefile的文件内容将其项目一次性编译。</p> 
<p>当我们输入make命令的时候，make命令会在当前目录下找寻名字是Makefile或者makefile的文件。</p> 
<p>也可以使用-f参数指定目标文件。</p> 
<pre><code>make -f Makefile.typename</code></pre> 
<h3>3.Windows平台的Makefile用法</h3> 
<p>在Windows平台可以使用Makefile批量链接编译和gcc，g++等编译器的帮助下，不需要下载vs等工具进行编程。</p> 
<h4>1）安装对应语言的编译器</h4> 
<p>以c语言为例，gcc编译器下载，<a href="https://so.csdn.net/so/search?q=TDM&amp;spm=1001.2101.3001.7020" title="TDM">TDM</a>-GCC，打开根据自己电脑的类型选择合适的程序，</p> 
<p>gcc的安装与下载可以找教程。注意安装路径不要有中文</p> 
<h4>2）检查编译器安装和环境变量是否成功设置</h4> 
<p>cmd窗口输入gcc -v</p> 
<p>输入mingw32-make -v</p> 
<h3>4.Makefile的基本语法</h3> 
<h4>1）基本格式</h4> 
<p>目标文件:依赖文件</p> 
<p> 【tab】命令</p> 
<p>命令都需要以tab开始，且不能用四个空格替代。</p> 
<pre><code>hello:hello.o
	g++ hello.o -o hello

hello.o:hello.S
	g++ -c hello.S -o hello.o
	
hello.S:hello.i
	g++ -S hello.i -o hello.S
	
hello.i:hello.cpp
	g++ -E hello.cpp -o hello.i</code></pre> 
<h4>2）赋值</h4> 
<p>=     替换</p> 
<p>+=   追加</p> 
<p>:=    恒等于</p> 
<h4>3）通配符</h4> 
<p>%.o       任意以.o结尾的文件</p> 
<p>*.o        所有以.o结尾的文件</p> 
<h4>4）特殊</h4> 
<p>$^        所有依赖文件</p> 
<p>$@        所有目标文件</p> 
<p>$&lt;        所有依赖文件的第一个文件</p> 
<p></p> 
<h4>5）.PHONY次目标（附加处理）</h4> 
<p>固定以.PHONY:开头</p> 
<p>clear为自己取的功能名称。</p> 
<p>大部分基于shell的语法，用于cmd时需要按照cmd内置的功能进行修改。</p> 
<pre><code>.PHONY:
clear:
	del hello.o hello.S hello.i
</code></pre> 
<h4>6）windows：将文件保存为Makefile，无后缀</h4> 
<p>进入文件存放位置，注意将需要的依赖文件放在一起</p> 
<p>文件路径一栏处输入cmd，进入cmd</p> 
<p>输入mingw32_make 即可。</p> 
<p><img alt="" height="91" src="https://images2.imgbox.com/3e/71/H7QnLk72_o.png" width="747"></p> 
<h4>6）参考资料</h4> 
<p><a href="https://blog.csdn.net/Nire_Yeyu/article/details/106373974" title="最实用的Makefile教程 真的很简单（搞不明白网上的教程写那么复杂干嘛）-CSDN博客">最实用的Makefile教程 真的很简单（搞不明白网上的教程写那么复杂干嘛）-CSDN博客</a></p> 
<h3>ps：一些注意事项</h3> 
<p>1.注意编写语言与编译器名称对应。</p> 
<p>仅供本人学习使用，绝无抄袭之意。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23729ac3aafa5c2a30cfb24dc9ad9daf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">1、cuda的学习记录Chapter01</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1219f94d21cf34d84691d00d07df277e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【尚跑】2023泾阳半程马拉松144 PB完赛</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>