<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言全局变量和局部变量的区别详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言全局变量和局部变量的区别详解" />
<meta property="og:description" content="局部变量和全局变量是很多初学者都容易轻视的一个概念，他们只认什么整型变量，字符变量什么的，并没有去关心全局和局部变量是什么，我自己也是，所以我专门去补了一下这方面的知识现在与大家分享一下，如果有哪里讲的不要或者有错的，请您慷慨解答。
C语言由四种地方可以定义变量
在函数外部定义的是全局变量
在头文件中定义的是全局变量
在函数或语句块内部定义的是局部变量
函数的参数是该函数的局部变量
首先给大家说一下什么是全局变量和局部quan
全局变量是定义在函数外部，通常是程序的顶部（其它地方也可以）。全局变量在整个生命周期内都是有效的，在定义位置之后的任意函数都能访问
局部变量是指在函数内部定义的变量
现在我们就从几个方面来介绍一下它们有什么区别
存储的区别
全局变量存储在一个程序的data段中的静态数据区
局部变量存储在一个程序的data段中的栈区(stack),我们每定义一个局部变量，栈就会分配一块空间用来存储我们定义的局部变量
大家可以看一下这张如，看不懂也没关系，可以以后慢慢了解
作用域的区别
作用域是指程序中被定义的变量存在（或生效）的区域，超过该区域变量就不能访问
局部变量的作用域仅限于定义这个变量的函数内部，在一个函数内部定义了，就不能在其它函数内部使用这个变量
例如：
#include&lt;stdio.h&gt; void swap() { int a = 10; //在swap函数内定义一个局部变量a } int main() { swap(); printf(&#34;%d&#34;, a);//在主函数内部是不能使用的 } 全局变量的作用域是整个源程序，也就是整个工程文件，也就是谁说，定义了一个全局变量，这个变量不仅可以在多个函数内部使用，还可以在同一工程中的其它文件中使用
例如：
#include&lt;stdio.h&gt; int a = 10; //定义一个全局变量a void swap() { printf(&#34;%d&#34;, a); } int main() { swap(); printf(&#34;%d&#34;, a);//在主函数内部是不能使用的 } 生命周期的区别
生命周期是指一个变量的什么时候被创建，什么时候被销毁或被释放。也就是说从创建到释放那一段作用时间，一个变量的生命周期跟它的作用域是紧密相连的。局部变量和全局变量作用域的不同也就导致了它们生命周期的不同，出来这个变量的作用域，这个变量的生命周期也就结束了。
#include&lt;stdio.h&gt; int j = 0; //定义一个全局变量j，作用域是整个工程文件 void fun1(int i) //定义一个局部变量i，作用域在fun1内 { i&#43;&#43;; } void fun2(void) { j&#43;&#43;; } int main() { int k = 0; int a = 0; for (k = 0; k &lt; 10; k&#43;&#43;) { fun1(a); fun2(); } return 0; } 这段代码输出的结果大家可以自信编译看一下" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4056f3d93ada49fc8ede9def336cd007/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-17T16:43:48+08:00" />
<meta property="article:modified_time" content="2022-01-17T16:43:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言全局变量和局部变量的区别详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>局部变量和全局变量是很多初学者都容易轻视的一个概念，他们只认什么整型变量，字符变量什么的，并没有去关心全局和局部变量是什么，我自己也是，所以我专门去补了一下这方面的知识现在与大家分享一下，如果有哪里讲的不要或者有错的，请您慷慨解答。</p> 
<blockquote> 
 <p><strong>C语言由四种地方可以定义变量</strong></p> 
 <p>在函数外部定义的是全局变量</p> 
 <p>在头文件中定义的是全局变量</p> 
 <p style="margin-left:0;text-align:justify;">在函数或语句块内部定义的是局部变量</p> 
 <p style="margin-left:0;text-align:justify;">函数的参数是该函数的局部变量</p> 
</blockquote> 
<p>首先给大家说一下什么是全局变量和局部quan</p> 
<blockquote> 
 <p><strong>全局变量</strong>是定义在函数外部，通常是程序的顶部（其它地方也可以）。全局变量在整个生命周期内都是有效的，在定义位置之后的任意函数都能访问</p> 
 <p><strong>局部变量</strong>是指在函数内部定义的变量</p> 
</blockquote> 
<p>现在我们就从几个方面来介绍一下它们有什么区别</p> 
<blockquote> 
 <p><strong>存储的区别</strong><br> 全局变量存储在一个程序的data段中的静态数据区</p> 
 <p>局部变量存储在一个程序的data段中的栈区(stack),我们每定义一个局部变量，栈就会分配一块空间用来存储我们定义的局部变量</p> 
</blockquote> 
<p> 大家可以看一下这张如，看不懂也没关系，可以以后慢慢了解</p> 
<p style="text-align:center;"><img alt="" height="422" src="https://images2.imgbox.com/e4/f2/ZpqC6VSC_o.png" width="451"></p> 
<p></p> 
<blockquote> 
 <p><strong> 作用域的区别</strong></p> 
 <p>作用域是指程序中被定义的变量存在（或生效）的区域，超过该区域变量就不能访问</p> 
 <p>局部变量的作用域仅限于定义这个变量的函数内部，在一个函数内部定义了，就不能在其它函数内部使用这个变量</p> 
 <p>例如：</p> 
 <pre><code>#include&lt;stdio.h&gt;
void swap()
{
	int a = 10;  //在swap函数内定义一个局部变量a
}
int main()
{
	swap();
	printf("%d", a);//在主函数内部是不能使用的

}</code></pre> 
 <p>全局变量的作用域是整个源程序，也就是整个工程文件，也就是谁说，定义了一个全局变量，这个变量不仅可以在多个函数内部使用，还可以在同一工程中的其它文件中使用</p> 
 <p>例如：</p> 
 <pre><code>#include&lt;stdio.h&gt;
int a = 10;  //定义一个全局变量a
void swap()
{
	printf("%d", a);
}
int main()
{
	swap();
	printf("%d", a);//在主函数内部是不能使用的

}</code></pre> 
 <p></p> 
</blockquote> 
<blockquote> 
 <p><strong>生命周期的区别</strong></p> 
 <p>生命周期是指一个变量的什么时候被创建，什么时候被销毁或被释放。也就是说从创建到释放那一段作用时间，一个变量的生命周期跟它的作用域是紧密相连的。局部变量和全局变量作用域的不同也就导致了它们生命周期的不同，出来这个变量的作用域，这个变量的生命周期也就结束了。</p> 
 <pre><code>#include&lt;stdio.h&gt;
int j = 0;         //定义一个全局变量j，作用域是整个工程文件
void fun1(int i)   //定义一个局部变量i，作用域在fun1内
{
	i++;
}
void fun2(void)
{
	j++;
}
int main()
{
	int k = 0;
	int a = 0;
	for (k = 0; k &lt; 10; k++)
	{
		fun1(a);
		fun2();
	}
	return 0;
}</code></pre> 
 <p>这段代码输出的结果大家可以自信编译看一下</p> 
 <p>我们可以通过调试的方法发现，fun1中的局部变量i++完之后，出来fun函数i的值又变回0了，而全局变量j则不会。这就是因为它们的生命周期不同</p> 
</blockquote> 
<blockquote> 
 <p>当全局变量和局部变量的命名相同时，以局部变量为主</p> 
 <pre><code>#include&lt;stdio.h&gt;
int a = 10;
int main()
{
	int a = 30;
	printf("%d",a);  //打印结果为30
}</code></pre> 
 <p></p> 
</blockquote> 
<p>讲到这里，你们对全局变量和局部变量了解了吗？</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/038c696a64fc647be8c17e9c412a8387/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VMWARE报错：该主机cpu类型不支持虚拟化性能计数器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/453f0b2f5208c7d1823f9597c0f6b9c0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python nrrd图像转png</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>