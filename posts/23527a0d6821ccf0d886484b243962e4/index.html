<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ajax状态码复习,ajax详细讲解和封装包括HTTP状态码(示例代码) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ajax状态码复习,ajax详细讲解和封装包括HTTP状态码(示例代码)" />
<meta property="og:description" content="AJAX(异步的JavaScript和XML，用异步的形式去操作xml)
主要的作用：数据交互
好处：
1.节省用户的操作时间
2.提高用户体验
3.减少数据请求(传输获取数据)
function ajax(method，url, data, success){
//第一步：创建ajax对象
var xhr=null;
//这判断主要是为了兼容IE6，IE6没有XMLHttpRequest这个对象，所以前面要写上window，防止报错。
//还有一种写法是用try{尝试执行的代码如果有错误，则会执行catch里面的}catch(e){}
if(window.XMLHttpRequest){
//标准浏览器的对象(包括IE7-IE8)
xhr=new XMLHttpRequest();
}else{
//IE6下是这个对象
xhr=ActiveXObject(‘Microsoft.XMLHTTP‘);
}
//如果当前方法为get并且有数据的情况下
if(mothod==‘get‘&amp;&amp; data){
url&#43;=‘?‘&#43;data;
}
//第二步：提交前的准备工作
open方法里面3个参数
1.用什么方式提交(get或者post)
2.请求地址
3.是否异步
区别：
get方式：把数据名称和数据值用=连接，如果有多个的话。那么他会把多个数据组合用&amp;进行连接，然后把数据放到URL？后面传到指定页面，URL有长度限制，会被缓存。用户安全比较差些。
post方式：通过请求头发送的，理论上无限制大小，不会被缓存，安全性要好些。
true(异步)：前面代码没执行完不会影响后面的代码执行
false(同步)：前面的代码没执行完，后面的代码不会执行
xhr.open(method,url,true)；
第三步：提交发送请求
//如果是空的代表是post
if(method==‘get‘){
xhr.send();
}else{
//设置请求头文档类型
xhr.setRequstHeader(‘content-type‘,‘application/x-www-form-urlencoded‘);
xhr.send(data);
}
第四步：等待服务器返回内容
//responseText: ajax请求返回的内容
//readystate属性：请求状态
//onreadystatechang:当状态发生改变时触发
xhr.onreadystatechange=function(){
//请求状态等于4，代表响应内容解析完成。可以在客户端调用了
if(xhr.readystate==4){
//当服务器状态码等于200的时候，代表服务器返回成功
if(xhr.status==200){
//回调函数
success &amp;&amp; succss(xhr.responseText);
}else{
alert(‘出错了，Err:‘&#43;xhr.status);
}
}
}
}
调用：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/23527a0d6821ccf0d886484b243962e4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-06T05:23:45+08:00" />
<meta property="article:modified_time" content="2021-08-06T05:23:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ajax状态码复习,ajax详细讲解和封装包括HTTP状态码(示例代码)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>AJAX(异步的JavaScript和XML，用异步的形式去操作xml)</p> 
 <p>主要的作用：数据交互</p> 
 <p>好处：</p> 
 <p>1.节省用户的操作时间</p> 
 <p>2.提高用户体验</p> 
 <p>3.减少数据请求(传输获取数据)</p> 
 <p>function ajax(method，url, data, success){<!-- --></p> 
 <p>//第一步：创建ajax对象</p> 
 <p>var xhr=null;</p> 
 <p>//这判断主要是为了兼容IE6，IE6没有XMLHttpRequest这个对象，所以前面要写上window，防止报错。</p> 
 <p>//还有一种写法是用try{尝试执行的代码如果有错误，则会执行catch里面的}catch(e){}</p> 
 <p>if(window.XMLHttpRequest){<!-- --></p> 
 <p>//标准浏览器的对象(包括IE7-IE8)</p> 
 <p>xhr=new XMLHttpRequest();</p> 
 <p>}else{<!-- --></p> 
 <p>//IE6下是这个对象</p> 
 <p>xhr=ActiveXObject(‘Microsoft.XMLHTTP‘);</p> 
 <p>}</p> 
 <p>//如果当前方法为get并且有数据的情况下</p> 
 <p>if(mothod==‘get‘&amp;&amp; data){<!-- --></p> 
 <p>url+=‘?‘+data;</p> 
 <p>}</p> 
 <p>//第二步：提交前的准备工作</p> 
 <p>open方法里面3个参数</p> 
 <p>1.用什么方式提交(get或者post)</p> 
 <p>2.请求地址</p> 
 <p>3.是否异步</p> 
 <p>区别：</p> 
 <p>get方式：把数据名称和数据值用=连接，如果有多个的话。那么他会把多个数据组合用&amp;进行连接，然后把数据放到URL？后面传到指定页面，URL有长度限制，会被缓存。用户安全比较差些。</p> 
 <p>post方式：通过请求头发送的，理论上无限制大小，不会被缓存，安全性要好些。</p> 
 <p>true(异步)：前面代码没执行完不会影响后面的代码执行</p> 
 <p>false(同步)：前面的代码没执行完，后面的代码不会执行</p> 
 <p>xhr.open(method,url,true)；</p> 
 <p>第三步：提交发送请求</p> 
 <p>//如果是空的代表是post</p> 
 <p>if(method==‘get‘){<!-- --></p> 
 <p>xhr.send();</p> 
 <p>}else{<!-- --></p> 
 <p>//设置请求头文档类型</p> 
 <p>xhr.setRequstHeader(‘content-type‘,‘application/x-www-form-urlencoded‘);</p> 
 <p>xhr.send(data);</p> 
 <p>}</p> 
 <p>第四步：等待服务器返回内容</p> 
 <p>//responseText:  ajax请求返回的内容</p> 
 <p>//readystate属性：请求状态</p> 
 <p>//onreadystatechang:当状态发生改变时触发</p> 
 <p>xhr.onreadystatechange=function(){<!-- --></p> 
 <p>//请求状态等于4，代表响应内容解析完成。可以在客户端调用了</p> 
 <p>if(xhr.readystate==4){<!-- --></p> 
 <p>//当服务器状态码等于200的时候，代表服务器返回成功</p> 
 <p>if(xhr.status==200){<!-- --></p> 
 <p>//回调函数</p> 
 <p>success &amp;&amp; succss(xhr.responseText);</p> 
 <p>}else{<!-- --></p> 
 <p>alert(‘出错了，Err:‘+xhr.status);</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>调用：</p> 
 <p>ajax(‘get‘ , ‘1.php‘, ‘‘ ,function(data){<!-- --></p> 
 <p>console.log(data);</p> 
 <p>})</p> 
 <p>HTTP状态码：总共分为5种类型</p> 
 <p>1字开头：代表消息类型</p> 
 <p>2字开头：代表成功类型</p> 
 <p>3字开头：代表重定项类型</p> 
 <p>4字开头：代表错误类型</p> 
 <p>5字开头：代表服务器错误</p> 
 <p>希望能帮助需要的朋友，帮助它人也是帮助自己！</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cdbbb7a2745962bea0cb9d9ed3aa08f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">中小企业服务器虚拟化方案选型指南,关于中小企业如何选择服务器虚拟化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a006aeb2a5c320a886eae27dfbf2c3d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ajax技术进行表单验证,ajax制作表单验证示例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>