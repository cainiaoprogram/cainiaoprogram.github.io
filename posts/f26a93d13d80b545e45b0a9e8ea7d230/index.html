<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何开发微信小程序|基于微信小程序就诊预约系统的设计与实现 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何开发微信小程序|基于微信小程序就诊预约系统的设计与实现" />
<meta property="og:description" content="作者主页：编程千纸鹤
作者简介：Java、前端、Python开发多年，做过高程，项目经理，架构师
主要内容：Java项目开发、Python项目开发、大学数据和AI项目开发、单片机项目设计、面试技术整理、最新技术分享
收藏点赞不迷路 关注作者有好处
文末获得源码
项目编号：BS-XCX-013 一，环境介绍
二，项目简介
2.1 基本介绍
2.2 需求分析
2.3 功能设计
2.4 数据库设计
三，系统展示
四，核心代码展示
五，相关作品展示
一，环境介绍 语言环境：Java: jdk1.8
数据库：Mysql: mysql5.7
应用服务器：Tomcat: tomcat8.5.31
开发工具：IDEA或eclipse
前端开发技术：微信小程序&#43;Vue&#43;ElementUI
后台开发技术： springboot&#43;mybatis-plus
二，项目简介 2.1 基本介绍 信息化技术在目前的中国，己得到普遍应用，涉及到民生的各个方面和角度，教育上的信息化应用、医疗上的信息改革、交通上的信息化普及等等，业己显示中国在向科技强国的方向前进。
中国经济水平的提升也让中国人民的日子富裕起来了，富裕生活的开始也让老百姓的对自身的健康日益重视起来了，中国的全面发展也带动了全民医疗资源的普及，看病就医也越来越方便。如何利用现代化技术手段，基于移动互联网技术，让老百姓更加方便快捷的进行在线预约就诊，这就是本系统要着重解决的问题。
经过调查和走访研发的这套在线就诊预约管理系统，采用微信小程序开发实现，基于MySQL数据库进行数据存储，前端使用微信小程序开发实现，后端基于Springboot框架，以及Nodejs开发实现，前端页面展示采用Vue&#43;ElementUI实现。系统前端用户主要实现查看资讯信息、挂号大厅实现在线预约挂号、查看自己的预约、修改个人资料等；医生用户可以通过微信小程序端查看预约患者、填写诊断情况、管理预约信息等。后台主要实现用户管理、内容管理、活动和预约管理、统计预约用户数等功能。这套系统的上线对于人们就医就诊提供了很大方便，节约很多时间。
2.2 需求分析 基于微信小程序开发实现这套就诊预约管理系统，经过调研分析，得出需要两类用户角色，一类是系统的前端用户，一类是后端管理员用户。前端用户又分为患者用户和医生用户，患者通过微信小程序登陆后，主要的需求是通过此平台获得最新的资讯信息推送和在线预约挂号；医生用户登陆小程序端后主要就是通过此平台查看预约信息并填写就诊说明，同时发布预约时间信息等 。后台管理员用户主要实现相关数据的的管理功能，一是实现新闻动态的管理操作，二是实现预约信息的管理，三是实现注册用户的信息管理功能，四是进行在线信息的查看统计等功能。
2.3 功能设计 根据调查走访后进行的需求分析，得出基于微信小程序的在线就诊预约管理系统的各用户角色的主要功能模块图，如下图所示。
后台管理员登陆后台管理系统可以实现的主要功能模块有：用户管理、公告管理、轮播图管理、资讯分类管理、资讯信息管理、挂号信息管理、信息统计报表等功能。
图2-1 后台功能结构图
前端患者用户注册后可以登陆微信小程序，主要实现查看系统公告、查看相关资讯信息、查看挂号大厅里的就诊医生信息并进行在线挂号，对资讯文章进行点赞收藏，对医生进行评论，并可以在个人中心查看个人收藏的信息，维护个人信息，并可以维护自己的预约挂号信息。
图2-2 小程序端患者用户功能结构图
前端医生用户登陆微信小程序，主要实现查看系统公告、查看相关资讯信息、查看挂号大厅里的就诊医生信息，对资讯文章进行点赞收藏，查看预约了自己就诊时段的预约信息并进行管理，并可以在个人中心查看个人收藏的信息，维护个人信息，并可以发布自己的预约挂号信息。
图2-3 小程序端医生用户功能结构图
2.4 数据库设计 数据库表的详细设计主要基于实体模型的分析，在主要业务字段的基础上添加一些数据存储的必要字段比较主键信息等。下面展示一下就诊预约系统中涉及到的数据库物理表结构。
article_type：资读文章分类信息表，主要存储资讯文章分类信息。
表3-1资讯分类信息表（article_type）
名称
类型
空
默认值
其他
备注
type_id
smallint(5) unsigned
否
&lt;auto_increment&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f26a93d13d80b545e45b0a9e8ea7d230/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-05T09:20:25+08:00" />
<meta property="article:modified_time" content="2023-07-05T09:20:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何开发微信小程序|基于微信小程序就诊预约系统的设计与实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>作者主页：<a class="link-info" href="https://blog.csdn.net/BS009" title="编程千纸鹤">编程千纸鹤</a></p> 
 <p>作者简介：Java、前端、Python开发多年，做过高程，项目经理，架构师</p> 
 <p>主要内容：Java项目开发、Python项目开发、大学数据和AI项目开发、单片机项目设计、面试技术整理、最新技术分享</p> 
 <p><span style="color:#fe2c24;"><strong>收藏点赞不迷路  关注作者有好处</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>文末获得源码</strong></span></p> 
</blockquote> 
<h3 id="%E9%A1%B9%E7%9B%AE%E7%BC%96%E5%8F%B7%EF%BC%9ABS-XCX-013">项目编号：BS-XCX-013</h3> 
<p id="main-toc"></p> 
<p id="%E4%BA%8C%EF%BC%8C%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%EF%BC%8C%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D" rel="nofollow">一，环境介绍</a></p> 
<p id="%E4%B8%80%EF%BC%8C%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%E4%B8%80%EF%BC%8C%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B" rel="nofollow">二，项目简介</a></p> 
<p id="2.1%20%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-toc" style="margin-left:80px;"><a href="#2.1%20%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D" rel="nofollow">2.1 基本介绍</a></p> 
<p id="2.2%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-toc" style="margin-left:80px;"><a href="#2.2%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" rel="nofollow">2.2 需求分析</a></p> 
<p id="2.3%20%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;"><a href="#2.3%20%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1" rel="nofollow">2.3 功能设计</a></p> 
<p id="2.4%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;"><a href="#2.4%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1" rel="nofollow">2.4 数据库设计</a></p> 
<p id="%E4%B8%89%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#%E4%B8%89%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%B1%95%E7%A4%BA" rel="nofollow">三，系统展示</a></p> 
<p id="%E5%9B%9B%EF%BC%8C%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%EF%BC%8C%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA" rel="nofollow">四，核心代码展示</a></p> 
<p id="%E4%BA%94%EF%BC%8C%E7%9B%B8%E5%85%B3%E4%BD%9C%E5%93%81%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#%E4%BA%94%EF%BC%8C%E7%9B%B8%E5%85%B3%E4%BD%9C%E5%93%81%E5%B1%95%E7%A4%BA" rel="nofollow">五，相关作品展示</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%BA%8C%EF%BC%8C%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D">一，环境介绍</h3> 
<p>语言环境：Java:  jdk1.8</p> 
<p>数据库：Mysql: mysql5.7</p> 
<p>应用服务器：Tomcat:  tomcat8.5.31</p> 
<p>开发工具：IDEA或eclipse</p> 
<p>前端开发技术：微信小程序+Vue+ElementUI</p> 
<p>后台开发技术： springboot+mybatis-plus</p> 
<h3 id="%E4%B8%80%EF%BC%8C%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B">二，项目简介</h3> 
<h4 id="2.1%20%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D">2.1 基本介绍</h4> 
<p>信息化技术在目前的中国，己得到普遍应用，涉及到民生的各个方面和角度，教育上的信息化应用、医疗上的信息改革、交通上的信息化普及等等，业己显示中国在向科技强国的方向前进。</p> 
<p>中国经济水平的提升也让中国人民的日子富裕起来了，富裕生活的开始也让老百姓的对自身的健康日益重视起来了，中国的全面发展也带动了全民医疗资源的普及，看病就医也越来越方便。如何利用现代化技术手段，基于移动互联网技术，让老百姓更加方便快捷的进行在线预约就诊，这就是本系统要着重解决的问题。</p> 
<p>经过调查和走访研发的这套在线就诊预约管理系统，采用微信小程序开发实现，基于MySQL数据库进行数据存储，前端使用微信小程序开发实现，后端基于Springboot框架，以及Nodejs开发实现，前端页面展示采用Vue+ElementUI实现。系统前端用户主要实现查看资讯信息、挂号大厅实现在线预约挂号、查看自己的预约、修改个人资料等；医生用户可以通过微信小程序端查看预约患者、填写诊断情况、管理预约信息等。后台主要实现用户管理、内容管理、活动和预约管理、统计预约用户数等功能。这套系统的上线对于人们就医就诊提供了很大方便，节约很多时间。</p> 
<h4 id="2.2%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">2.2 需求分析</h4> 
<p>基于微信小程序开发实现这套就诊预约管理系统，经过调研分析，得出需要两类用户角色，一类是系统的前端用户，一类是后端管理员用户。前端用户又分为患者用户和医生用户，患者通过微信小程序登陆后，主要的需求是通过此平台获得最新的资讯信息推送和在线预约挂号；医生用户登陆小程序端后主要就是通过此平台查看预约信息并填写就诊说明，同时发布预约时间信息等 。后台管理员用户主要实现相关数据的的管理功能，一是实现新闻动态的管理操作，二是实现预约信息的管理，三是实现注册用户的信息管理功能，四是进行在线信息的查看统计等功能。</p> 
<h4 id="2.3%20%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1">2.3 功能设计</h4> 
<p>根据调查走访后进行的需求分析，得出基于微信小程序的在线就诊预约管理系统的各用户角色的主要功能模块图，如下图所示。</p> 
<p>后台管理员登陆后台管理系统可以实现的主要功能模块有：用户管理、公告管理、轮播图管理、资讯分类管理、资讯信息管理、挂号信息管理、信息统计报表等功能。</p> 
<p><img alt="" height="340" src="https://images2.imgbox.com/86/ee/61cik4Wr_o.png" width="628"></p> 
<p>图2-1 后台功能结构图</p> 
<p></p> 
<p></p> 
<p>前端患者用户注册后可以登陆微信小程序，主要实现查看系统公告、查看相关资讯信息、查看挂号大厅里的就诊医生信息并进行在线挂号，对资讯文章进行点赞收藏，对医生进行评论，并可以在个人中心查看个人收藏的信息，维护个人信息，并可以维护自己的预约挂号信息。</p> 
<p><img alt="" height="314" src="https://images2.imgbox.com/f4/06/DIBSlDOa_o.png" width="492"></p> 
<p>图2-2 小程序端患者用户功能结构图</p> 
<p>前端医生用户登陆微信小程序，主要实现查看系统公告、查看相关资讯信息、查看挂号大厅里的就诊医生信息，对资讯文章进行点赞收藏，查看预约了自己就诊时段的预约信息并进行管理，并可以在个人中心查看个人收藏的信息，维护个人信息，并可以发布自己的预约挂号信息。</p> 
<p><img alt="" height="297" src="https://images2.imgbox.com/bf/aa/xAMu0ouJ_o.png" width="438"></p> 
<p>图2-3 小程序端医生用户功能结构图</p> 
<h4 id="2.4%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">2.4 数据库设计</h4> 
<p>数据库表的详细设计主要基于实体模型的分析，在主要业务字段的基础上添加一些数据存储的必要字段比较主键信息等。下面展示一下就诊预约系统中涉及到的数据库物理表结构。</p> 
<p><a name="_Toc327533138"></a><a name="_Toc385689788"></a><a name="_Toc325030876">article_type</a>：资读文章分类信息表，主要存储资讯文章分类信息。</p> 
<p>表3-1资讯分类信息表（article_type）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>type_id</strong></p> </td><td> <p>smallint(5) unsigned</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>分类ID：[0,10000]</p> </td></tr><tr><td> <p>display</p> </td><td> <p>smallint(4) unsigned</p> </td><td> <p>否</p> </td><td> <p>100</p> </td><td> <p></p> </td><td> <p>显示顺序：[0,1000]决定分类显示的先后顺序</p> </td></tr><tr><td> <p>name</p> </td><td> <p>varchar(16)</p> </td><td> <p>否</p> </td><td></td><td> <p></p> </td><td> <p>分类名称：[2,16]</p> </td></tr><tr><td> <p>father_id</p> </td><td> <p>smallint(5) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>上级分类ID：[0,32767]</p> </td></tr><tr><td> <p>description</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>描述：[0,255]描述该分类的作用</p> </td></tr><tr><td> <p>icon</p> </td><td> <p>text</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>分类图标：</p> </td></tr><tr><td> <p>url</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>外链地址：[0,255]如果该分类是跳转到其他网站的情况下，就在该URL上设置</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间：</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间：</p> </td></tr></tbody></table> 
<p></p> 
<p>article：资讯文章信息表，主在存储发布的一些新闻资讯，可以在前端分类展示。</p> 
<p></p> 
<p>表3-2 资讯信息表（article）</p> 
<p></p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>article_id</strong></p> </td><td> <p>mediumint(8) unsigned</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>文章id：[0,8388607]</p> </td></tr><tr><td> <p><strong>title</strong></p> </td><td> <p>varchar(125)</p> </td><td> <p>否</p> </td><td></td><td> <p></p> </td><td> <p>标题：[0,125]用于文章和html的title标签中</p> </td></tr><tr><td> <p>type</p> </td><td> <p>varchar(64)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>文章分类：[0,1000]用来搜索指定类型的文章</p> </td></tr><tr><td> <p>hits</p> </td><td> <p>int(10) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>点击数：[0,1000000000]访问这篇文章的人次</p> </td></tr><tr><td> <p>praise_len</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>点赞数</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间：</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间：</p> </td></tr><tr><td> <p>source</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>来源：[0,255]文章的出处</p> </td></tr><tr><td> <p>url</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>来源地址：[0,255]用于跳转到发布该文章的网站</p> </td></tr><tr><td> <p>tag</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>标签：[0,255]用于标注文章所属相关内容，多个标签用空格隔开</p> </td></tr><tr><td> <p>content</p> </td><td> <p>longtext</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>正文：文章的主体内容</p> </td></tr><tr><td> <p>img</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>封面图</p> </td></tr><tr><td> <p>description</p> </td><td> <p>text</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>文章描述</p> </td></tr></tbody></table> 
<p></p> 
<p>registration_hall：挂号大厅信息表，主要存储发布的医生挂号信息。</p> 
<p>表3-3 挂号大厅信息表（registration_hall）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>registration_hall_id</strong></p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>挂号大厅ID</p> </td></tr><tr><td> <p>department_number</p> </td><td> <p>varchar(64)</p> </td><td> <p>否</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>科室编号</p> </td></tr><tr><td> <p>department_name</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>科室名称</p> </td></tr><tr><td> <p>visiting_physician</p> </td><td> <p>int(11)</p> </td><td> <p>是</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>出诊医生</p> </td></tr><tr><td> <p>visit_time</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>出诊时间</p> </td></tr><tr><td> <p>number_of_source</p> </td><td> <p>int(11)</p> </td><td> <p>是</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>号源数量</p> </td></tr><tr><td> <p>roster_status</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>排班状态</p> </td></tr><tr><td> <p>doctor_photos</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>医生照片</p> </td></tr><tr><td> <p>doctor_profile</p> </td><td> <p>longtext</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>医生简介</p> </td></tr><tr><td> <p>hits</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>点击数</p> </td></tr><tr><td> <p>praise_len</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>点赞数</p> </td></tr><tr><td> <p>recommend</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>智能推荐</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>datetime</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间</p> </td></tr></tbody></table> 
<p></p> 
<p>registration_information：前端用户预约信息表，主要存储前端用户的预约信息。</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p>表3-4 预约信息表（registration_information）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>registration_information_id</strong></p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>挂号信息ID</p> </td></tr><tr><td> <p>reservation_user</p> </td><td> <p>int(11)</p> </td><td> <p>是</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>预约用户</p> </td></tr><tr><td> <p>time_of_appointment</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>预约时间</p> </td></tr><tr><td> <p>contact_number</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>联系电话</p> </td></tr><tr><td> <p>department_number</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>科室编号</p> </td></tr><tr><td> <p>department_name</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>科室名称</p> </td></tr><tr><td> <p>visiting_physician</p> </td><td> <p>int(11)</p> </td><td> <p>是</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>出诊医生</p> </td></tr><tr><td> <p>visit_time</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>出诊时间</p> </td></tr><tr><td> <p>number_of_appointments</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>预约人数</p> </td></tr><tr><td> <p>visit_status</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>就诊状态</p> </td></tr><tr><td> <p>user_comments</p> </td><td> <p>text</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>用户备注</p> </td></tr><tr><td> <p>doctor_advice</p> </td><td> <p>text</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>医生建议</p> </td></tr><tr><td> <p>recommend</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>智能推荐</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>datetime</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间</p> </td></tr></tbody></table> 
<p></p> 
<p></p> 
<p>ordinary_users：前端注册用户信息表，主要存储前端注册的用户信息。</p> 
<p>表3-5 前端注册用户信息表（ordinary_users）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>ordinary_users_id</strong></p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>普通用户ID</p> </td></tr><tr><td> <p>user_name</p> </td><td> <p>varchar(64)</p> </td><td> <p>否</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>用户姓名</p> </td></tr><tr><td> <p>user_gender</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>用户性别</p> </td></tr><tr><td> <p>user_age</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>用户年龄</p> </td></tr><tr><td> <p>id</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>身份证</p> </td></tr><tr><td> <p>date_of_birth</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>出生年月</p> </td></tr><tr><td> <p>examine_state</p> </td><td> <p>varchar(16)</p> </td><td> <p>否</p> </td><td> <p>已通过</p> </td><td> <p></p> </td><td> <p>审核状态</p> </td></tr><tr><td> <p>recommend</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>智能推荐</p> </td></tr><tr><td> <p>user_id</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>用户ID</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>datetime</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间</p> </td></tr></tbody></table> 
<p></p> 
<p>notice：系统公告信息表，主要存储系统发布的公告信息。</p> 
<p>表3-6 系统公告信息表（notice）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>notice_id</strong></p> </td><td> <p>mediumint(8) unsigned</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>公告id：</p> </td></tr><tr><td> <p>title</p> </td><td> <p>varchar(125)</p> </td><td> <p>否</p> </td><td></td><td> <p></p> </td><td> <p>标题：</p> </td></tr><tr><td> <p>content</p> </td><td> <p>longtext</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>正文：</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间：</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间：</p> </td></tr></tbody></table> 
<p></p> 
<p>doctor_user：医生信息表，主要存储系统中涉及到的医生信息。</p> 
<p>表3-7 医生信息表（doctor_user）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>doctor_user_id</strong></p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>医生用户ID</p> </td></tr><tr><td> <p>doctor_job_number</p> </td><td> <p>varchar(64)</p> </td><td> <p>否</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>医生工号</p> </td></tr><tr><td> <p>name_of_doctor</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>医生姓名</p> </td></tr><tr><td> <p>doctor_gender</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>医生性别</p> </td></tr><tr><td> <p>doctor_age</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>医生年龄</p> </td></tr><tr><td> <p>id</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>身份证</p> </td></tr><tr><td> <p>date_of_birth</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>出生年月</p> </td></tr><tr><td> <p>doctor_certificate</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>医生证件</p> </td></tr><tr><td> <p>examine_state</p> </td><td> <p>varchar(16)</p> </td><td> <p>否</p> </td><td> <p>已通过</p> </td><td> <p></p> </td><td> <p>审核状态</p> </td></tr><tr><td> <p>recommend</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>智能推荐</p> </td></tr><tr><td> <p>user_id</p> </td><td> <p>int(11)</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>用户ID</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>datetime</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间</p> </td></tr></tbody></table> 
<p></p> 
<p>comment：评论信息表，主要存储用户对医生的评论信息。</p> 
<p>表3-8 评论信息表（comment）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>comment_id</strong></p> </td><td> <p>int(11) unsigned</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>评论ID：</p> </td></tr><tr><td> <p>user_id</p> </td><td> <p>int(11) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>评论人ID：</p> </td></tr><tr><td> <p>reply_to_id</p> </td><td> <p>int(11) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>回复评论ID：空为0</p> </td></tr><tr><td> <p>content</p> </td><td> <p>longtext</p> </td><td> <p>是</p> </td><td> <p></p> </td><td> <p></p> </td><td> <p>内容：</p> </td></tr><tr><td> <p>nickname</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>昵称：</p> </td></tr><tr><td> <p>avatar</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>头像地址：[0,255]</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间：</p> </td></tr><tr><td> <p>update_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>更新时间：</p> </td></tr><tr><td> <p>source_table</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>来源表：</p> </td></tr><tr><td> <p>source_field</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>来源字段：</p> </td></tr><tr><td> <p>source_id</p> </td><td> <p>int(10) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>来源ID：</p> </td></tr></tbody></table> 
<p>User：后台管理用户信息表，主要存储后台登陆用户信息。</p> 
<p>表3-9 后台用户信息表（user）</p> 
<table border="1" cellspacing="0"><tbody><tr><td> <p>名称</p> </td><td> <p>类型</p> </td><td> <p>空</p> </td><td> <p>默认值</p> </td><td> <p>其他</p> </td><td> <p>备注</p> </td></tr><tr><td> <p><strong>user_id</strong></p> </td><td> <p>mediumint(8) unsigned</p> </td><td> <p>否</p> </td><td> <p>&lt;auto_increment&gt;</p> </td><td> <p></p> </td><td> <p>用户ID：[0,8388607]用户获取其他与用户相关的数据</p> </td></tr><tr><td> <p>state</p> </td><td> <p>smallint(1) unsigned</p> </td><td> <p>否</p> </td><td> <p>1</p> </td><td> <p></p> </td><td> <p>账户状态：[0,10](1可用|2异常|3已冻结|4已注销)</p> </td></tr><tr><td> <p>user_group</p> </td><td> <p>varchar(32)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>所在用户组：[0,32767]决定用户身份和权限</p> </td></tr><tr><td> <p>login_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>上次登录时间：</p> </td></tr><tr><td> <p>phone</p> </td><td> <p>varchar(11)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>手机号码：[0,11]用户的手机号码，用于找回密码时或登录时</p> </td></tr><tr><td> <p>phone_state</p> </td><td> <p>smallint(1) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>手机认证：[0,1](0未认证|1审核中|2已认证)</p> </td></tr><tr><td> <p>username</p> </td><td> <p>varchar(16)</p> </td><td> <p>否</p> </td><td></td><td> <p></p> </td><td> <p>用户名：[0,16]用户登录时所用的账户名称</p> </td></tr><tr><td> <p>nickname</p> </td><td> <p>varchar(16)</p> </td><td> <p>是</p> </td><td></td><td> <p></p> </td><td> <p>昵称：[0,16]</p> </td></tr><tr><td> <p>password</p> </td><td> <p>varchar(64)</p> </td><td> <p>否</p> </td><td></td><td> <p></p> </td><td> <p>密码：[0,32]用户登录所需的密码，由6-16位数字或英文组成</p> </td></tr><tr><td> <p>email</p> </td><td> <p>varchar(64)</p> </td><td> <p>是</p> </td><td></td><td> <p></p> </td><td> <p>邮箱：[0,64]用户的邮箱，用于找回密码时或登录时</p> </td></tr><tr><td> <p>email_state</p> </td><td> <p>smallint(1) unsigned</p> </td><td> <p>否</p> </td><td> <p>0</p> </td><td> <p></p> </td><td> <p>邮箱认证：[0,1](0未认证|1审核中|2已认证)</p> </td></tr><tr><td> <p>avatar</p> </td><td> <p>varchar(255)</p> </td><td> <p>是</p> </td><td> <p>&lt;空&gt;</p> </td><td> <p></p> </td><td> <p>头像地址：[0,255]</p> </td></tr><tr><td> <p>create_time</p> </td><td> <p>timestamp</p> </td><td> <p>否</p> </td><td> <p>&lt;INSERT-TimeStamp&gt;</p> </td><td> <p></p> </td><td> <p>创建时间：</p> </td></tr></tbody></table> 
<p></p> 
<h3 id="%E4%B8%89%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%B1%95%E7%A4%BA">三，系统展示</h3> 
<p>用户登录</p> 
<p><img alt="" height="748" src="https://images2.imgbox.com/07/af/cp1icLnv_o.png" width="608"></p> 
<p> 系统首页</p> 
<p><img alt="" height="924" src="https://images2.imgbox.com/26/a8/xSitqQil_o.png" width="549"></p> 
<p> 在线预约</p> 
<p><img alt="" height="557" src="https://images2.imgbox.com/05/16/Ah7Bg86l_o.png" width="516"></p> 
<p></p> 
<p><img alt="" height="622" src="https://images2.imgbox.com/27/bb/v6tFM7Yv_o.png" width="349"></p> 
<p> <img alt="" height="514" src="https://images2.imgbox.com/1f/12/FkSc7FaE_o.png" width="314"></p> 
<p> 后台登录</p> 
<p><img alt="" height="484" src="https://images2.imgbox.com/83/3d/gQWfvpvh_o.png" width="730"></p> 
<p> 用户管理</p> 
<p><img alt="" height="227" src="https://images2.imgbox.com/71/83/zTkupoo1_o.png" width="890"></p> 
<p>轮播图管理</p> 
<p> <img alt="" height="252" src="https://images2.imgbox.com/36/da/B9oT7Idj_o.png" width="890"></p> 
<p>挂号信息管理</p> 
<p><img alt="" height="344" src="https://images2.imgbox.com/b4/25/Pm0rz38A_o.png" width="890"></p> 
<p> 挂号统计</p> 
<p><img alt="" height="547" src="https://images2.imgbox.com/4f/c2/n1hchsgb_o.png" width="718"></p> 
<p>内容管理</p> 
<p><img alt="" height="241" src="https://images2.imgbox.com/79/24/JQinYaO9_o.png" width="890"></p> 
<p></p> 
<p></p> 
<h3 id="%E5%9B%9B%EF%BC%8C%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA">四，核心代码展示</h3> 
<p></p> 
<pre><code class="language-java">package com.project.demo.controller.base;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.project.demo.service.base.BaseService;
import lombok.Setter;
import lombok.extern.slf4j.Slf4j;
import org.apache.poi.hssf.usermodel.HSSFWorkbook;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.multipart.MultipartFile;
import javax.persistence.Query;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.File;
import java.io.IOException;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 */
@Slf4j
public class BaseController&lt;E, S extends BaseService&lt;E&gt;&gt; {

    @Setter
    protected S service;


    @PostMapping("/add")
    @Transactional
    public Map&lt;String, Object&gt; add(HttpServletRequest request) throws IOException {
        service.insert(service.readBody(request.getReader()));
        return success(1);
    }

    @Transactional
    public Map&lt;String, Object&gt; addMap(Map&lt;String,Object&gt; map){
        service.insert(map);
        return success(1);
    }

    @PostMapping("/set")
	@Transactional
    public Map&lt;String, Object&gt; set(HttpServletRequest request) throws IOException {
        service.update(service.readQuery(request), service.readConfig(request), service.readBody(request.getReader()));
        return success(1);
    }


    @RequestMapping(value = "/del")
    @Transactional
    public Map&lt;String, Object&gt; del(HttpServletRequest request) {
        service.delete(service.readQuery(request), service.readConfig(request));
        return success(1);
    }

    @RequestMapping("/get_obj")
    public Map&lt;String, Object&gt; obj(HttpServletRequest request) {
        Query select = service.select(service.readQuery(request), service.readConfig(request));
        List resultList = select.getResultList();
        if (resultList.size() &gt; 0) {
            JSONObject jsonObject = new JSONObject();
            jsonObject.put("obj",resultList.get(0));
            return success(jsonObject);
        } else {
            return success(null);
        }
    }


    @RequestMapping("/get_list")
    public Map&lt;String, Object&gt; getList(HttpServletRequest request) {
        Map&lt;String, Object&gt; map = service.selectToPage(service.readQuery(request), service.readConfig(request));
        return success(map);
    }

    @RequestMapping("/list_group")
    public Map&lt;String, Object&gt; listGroup(HttpServletRequest request) {
        Map&lt;String, Object&gt; map = service.selectToList(service.readQuery(request), service.readConfig(request));
        return success(map);
    }

    @RequestMapping("/bar_group")
    public Map&lt;String, Object&gt; barGroup(HttpServletRequest request) {
        Map&lt;String, Object&gt; map = service.selectBarGroup(service.readQuery(request), service.readConfig(request));
        return success(map);
    }

    @RequestMapping(value = {"/count_group", "/count"})
    public Map&lt;String, Object&gt; count(HttpServletRequest request) {
        Query count = service.count(service.readQuery(request), service.readConfig(request));
        return success(count.getResultList());
    }

    @RequestMapping(value = {"/sum_group", "/sum"})
    public Map&lt;String, Object&gt; sum(HttpServletRequest request) {
        Query count = service.sum(service.readQuery(request), service.readConfig(request));
        return success(count.getResultList());
    }

    @RequestMapping(value = {"/avg_group", "/avg"})
	public Map&lt;String, Object&gt; avg(HttpServletRequest request) {
        Query count = service.avg(service.readQuery(request), service.readConfig(request));
        return success(count.getResultList());
    }


    @PostMapping("/upload")
    public Map&lt;String, Object&gt; upload(@RequestParam("file") MultipartFile file) {
        log.info("进入方法");
        if (file.isEmpty()) {
            return error(30000, "没有选择文件");
        }
        try {
            //判断有没路径，没有则创建
            String filePath = System.getProperty("user.dir") + "\\target\\classes\\static\\upload\\";
            File targetDir = new File(filePath);
            if (!targetDir.exists() &amp;&amp; !targetDir.isDirectory()) {
                if (targetDir.mkdirs()) {
                    log.info("创建目录成功");
                } else {
                    log.error("创建目录失败");
                }
            }
//            String path = ResourceUtils.getURL("classpath:").getPath() + "static/upload/";
//            String filePath = path.replace('/', '\\').substring(1, path.length());
            String fileName = file.getOriginalFilename();
            File dest = new File(filePath + fileName);
            log.info("文件路径:{}", dest.getPath());
            log.info("文件名:{}", dest.getName());
            file.transferTo(dest);
            JSONObject jsonObject = new JSONObject();
            jsonObject.put("url", "/api/upload/" + fileName);
            return success(jsonObject);
        } catch (IOException e) {
            log.info("上传失败：{}", e.getMessage());
        }
        return error(30000, "上传失败");
    }

    @PostMapping("/import_db")
    public Map&lt;String, Object&gt; importDb(@RequestParam("file") MultipartFile file) throws IOException {
        service.importDb(file);
        return success(1);
    }

    @RequestMapping("/export_db")
    public void exportDb(HttpServletRequest request, HttpServletResponse response) throws IOException {
        HSSFWorkbook sheets = service.exportDb(service.readQuery(request), service.readConfig(request));
        response.setContentType("application/octet-stream");
        response.setHeader("Content-disposition", "attachment;filename=employee.xls");
        response.flushBuffer();
        sheets.write(response.getOutputStream());
        sheets.close();
    }

    public Map&lt;String, Object&gt; success(Object o) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        if (o == null) {
            map.put("result", null);
            return map;
        }
        if (o instanceof List) {
            if (((List) o).size() == 1) {
               o =  ((List) o).get(0);
                map.put("result", o);
            }else {
                String jsonString = JSONObject.toJSONString(o);
                JSONArray objects = service.covertArray(JSONObject.parseArray(jsonString));
                map.put("result", objects);
            }
        } else if (o instanceof Integer || o instanceof String) {
            map.put("result", o);
        } else {
            String jsonString = JSONObject.toJSONString(o);
            JSONObject jsonObject = JSONObject.parseObject(jsonString);
            JSONObject j = service.covertObject(jsonObject);
            map.put("result", j);
        }
        return map;
    }

    public Map&lt;String, Object&gt; error(Integer code, String message) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put("error", new HashMap&lt;String, Object&gt;(4) {<!-- -->{
            put("code", code);
            put("message", message);
        }});
        return map;
    }
}
</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<h3 id="%E4%BA%94%EF%BC%8C%E7%9B%B8%E5%85%B3%E4%BD%9C%E5%93%81%E5%B1%95%E7%A4%BA">五，相关作品展示</h3> 
<p>基于Java开发、Python开发、PHP开发、C#开发等相关语言开发的实战项目</p> 
<p>基于Nodejs、Vue等前端技术开发的前端实战项目</p> 
<p>基于微信小程序和安卓APP应用开发的相关作品</p> 
<p>基于51单片机等嵌入式物联网开发应用</p> 
<p>基于各类算法实现的AI智能应用</p> 
<p>基于大数据实现的各类数据管理和推荐系统</p> 
<p></p> 
<p><img alt="" height="495" src="https://images2.imgbox.com/f2/a6/0KBWr4Oe_o.png" width="893"></p> 
<p></p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/fc/f6/APssbiGl_o.png" width="334"><img alt="" height="248" src="https://images2.imgbox.com/b3/a1/P0XMEPQU_o.png" width="303"></p> 
<p><img alt="" height="589" src="https://images2.imgbox.com/58/90/1AParS4U_o.png" width="632"></p> 
<p> <img alt="" height="469" src="https://images2.imgbox.com/dd/32/iIaBHVly_o.png" width="312"><img alt="" height="517" src="https://images2.imgbox.com/12/d9/zTRD39t6_o.png" width="330"></p> 
<p><img alt="" height="323" src="https://images2.imgbox.com/a8/14/tQiGyDzD_o.png" width="652"></p> 
<p> <img alt="" height="312" src="https://images2.imgbox.com/6e/35/DLp7AcAm_o.png" width="644"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/270798cb88c262de8ddf3344e18a6e63/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript 与 TypeScript 的区别：一篇详细的解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9e30c54dafcbea2be8390dbc9ddd519d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一、VUE3——setup、ref、reactive理解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>