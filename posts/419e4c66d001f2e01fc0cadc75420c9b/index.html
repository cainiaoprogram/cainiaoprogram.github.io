<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux上部署多个 Tomcat 服务器 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux上部署多个 Tomcat 服务器" />
<meta property="og:description" content="1、将下载好的tomcat安装包上传到linux
使用解压命令将文件解压到指定目录下：tar -zxvf apache-tomcat-9.0.13.tar.gz -C /usr/qinTools/
复制多个并修改名字
２、修改 /etc/profile文件，在文件的末尾加上如下内容
*************first tomcat************* CATALINA_BASE=/usr/qinTools/tomcat-9.0.13 CATALINA_HOME=/usr/qinTools/tomcat-9.0.13 TOMCAT_HOME=/usr/qinTools/tomcat-9.0.13 export CATALINA_BASE CATALINA_HOME TOMCAT_HOME *************first tomcat************* *************second tomcat************* CATALINA2_BASE=/usr/qinTools/tomcat-9.0.13One CATALINA2_HOME=/usr/qinTools/tomcat-9.0.13One TOMCAT2_HOME=/usr/qinTools/tomcat-9.0.13One export CATALINA_One_BASE CATALINA_One_HOME TOMCAT_One_HOME *************second tomcat************* *************third tomcat************* CATALINA3_BASE=/usr/qinTools/tomcat-9.0.13Two CATALINA3_HOME=/usr/qinTools/tomcat-9.0.13Two TOMCAT3_HOME=/usr/qinTools/tomcat-9.0.13Two export CATALINA_Two_BASE CATALINA_Two_HOME TOMCAT_Two_HOME *************third tomcat************* 修改完文件要输入命令：source /etc/profile 刷新配置，否则不会生效
3、进入第二、第三个 Tomcat 的 bin 目录修改 catalina.sh 文件。
第一个 Tomcat 无需更改
第二个 Tomcat 将 catalina.sh 中的 CATALINA_BASE 和 CATALINA_HOME 批量替换成在 /etc/profile 中配置的第二个 tomcat 对应的信息
切换目录：cd /usr/qinTools/tomcat-9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/419e4c66d001f2e01fc0cadc75420c9b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-22T16:47:55+08:00" />
<meta property="article:modified_time" content="2022-05-22T16:47:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux上部署多个 Tomcat 服务器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、将下载好的tomcat安装包上传到linux</p> 
<p>使用解压命令将文件解压到指定目录下：tar -zxvf apache-tomcat-9.0.13.tar.gz -C /usr/qinTools/</p> 
<p><img alt="" height="762" src="https://images2.imgbox.com/ee/6d/CN6CODKx_o.png" width="1200"></p> 
<p>复制多个并修改名字</p> 
<p><img alt="" height="272" src="https://images2.imgbox.com/d3/46/1WecuewT_o.png" width="790"></p> 
<p></p> 
<p>２、修改 /etc/profile文件，在文件的末尾加上如下内容</p> 
<pre><code>*************first tomcat*************
CATALINA_BASE=/usr/qinTools/tomcat-9.0.13
CATALINA_HOME=/usr/qinTools/tomcat-9.0.13
TOMCAT_HOME=/usr/qinTools/tomcat-9.0.13
export CATALINA_BASE CATALINA_HOME TOMCAT_HOME
*************first tomcat*************

*************second tomcat*************
CATALINA2_BASE=/usr/qinTools/tomcat-9.0.13One
CATALINA2_HOME=/usr/qinTools/tomcat-9.0.13One
TOMCAT2_HOME=/usr/qinTools/tomcat-9.0.13One
export CATALINA_One_BASE CATALINA_One_HOME TOMCAT_One_HOME
*************second tomcat*************

*************third tomcat*************
CATALINA3_BASE=/usr/qinTools/tomcat-9.0.13Two
CATALINA3_HOME=/usr/qinTools/tomcat-9.0.13Two
TOMCAT3_HOME=/usr/qinTools/tomcat-9.0.13Two
export CATALINA_Two_BASE CATALINA_Two_HOME TOMCAT_Two_HOME
*************third tomcat*************</code></pre> 
<p> 修改完文件要输入命令：source /etc/profile 刷新配置，否则不会生效</p> 
<p>3、进入第二、第三个 Tomcat 的 bin 目录修改 catalina.sh 文件。</p> 
<p>　　第一个 Tomcat 无需更改</p> 
<p>　　第二个 Tomcat 将 catalina.sh 中的 CATALINA_BASE 和 CATALINA_HOME 批量替换成在 /etc/profile 中配置的第二个 tomcat 对应的信息</p> 
<p>切换目录：cd /usr/qinTools/tomcat-9.0.13One/bin</p> 
<p>修改文件：vim catalina.sh</p> 
<p>　　批量替换:</p> 
<pre><code> %s/CATALINA_BASE/CATALINA_One_BASE/g

 %s/CATALINA_HOME/CATALINA_One_HOME/g</code></pre> 
<p><img alt="" height="451" src="https://images2.imgbox.com/47/8b/jWKXEg9X_o.png" width="984"></p> 
<p>       第三个 Tomcat 把 CATALINA_BASE 替换成 CATALINA3_BASE，CATALINA_HOME 替换成 CATALINA_Two_HOME;</p> 
<p>切换目录：cd /usr/qinTools/tomcat-9.0.13Two/bin</p> 
<p>修改文件：vim catalina.sh</p> 
<p>　　批量替换:</p> 
<pre><code> %s/CATALINA_BASE/CATALINA_Two_BASE/g

 %s/CATALINA_HOME/CATALINA_Two_HOME/g</code></pre> 
<p><img alt="" height="595" src="https://images2.imgbox.com/6a/72/K3zHM5FA_o.png" width="998"></p> 
<p>4、修改tomcat的 conf目录下的 server.xml 中修改其的端口号:</p> 
<p>注意：第一个无需修改任何东西，除了自己需要</p> 
<p>修改第二个tomcat的信息:</p> 
<p><img alt="" height="79" src="https://images2.imgbox.com/a7/75/1dl8eyxc_o.png" width="934"></p> 
<pre><code>修改内容如下，需自己找到对应的标签进行修改
修改关闭端口：&lt;Server port="8006" shutdown="SHUTDOWN" &gt; 
修改访问端口：  &lt;Connector port="8091" URIEncoding="UTF-8" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443" /&gt;
修改监听端口：&lt;Connector port="8010" protocol="AJP/1.3" redirectPort="8443"&gt;</code></pre> 
<p>修改第三个tomcat的信息：</p> 
<p><img alt="" height="75" src="https://images2.imgbox.com/4c/4d/W5DoIyoi_o.png" width="884"></p> 
<pre><code>修改内容如下，需自己找到对应的标签进行修改
修改关闭端口：&lt;Server port="8007" shutdown="SHUTDOWN"&gt;
修改访问端口：&lt;Connector port="8092" URIEncoding="UTF-8" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443" /&gt;   
修改监听端口：&lt;Connector port="8011" protocol="AJP/1.3" redirectPort="8443" /&gt;</code></pre> 
<p>5、到这里，就已经配置完成了，我们依次启动这三个tomcat，输入命令：ps -ef |grep tomcat 查看进程</p> 
<p>启动tomcat：</p> 
<p>①直接进入tomcat安装目录下的bin目录</p> 
<p>②在该目录下执行：./startup.sh</p> 
<p>演示启动第一个tomcat步骤======&gt;cd /usr/qinTools/tomcat-9.0.13/bin</p> 
<p>./startup.sh</p> 
<p><img alt="" height="257" src="https://images2.imgbox.com/43/ce/GjYUzRu8_o.png" width="1200"></p> 
<p>另外两个的启动步骤一样，启动完成后，我们输入ps -ef | grep tomcat进行查看tomcat的进程情况</p> 
<p><img alt="" height="528" src="https://images2.imgbox.com/a3/e1/PFry0gX4_o.png" width="1200"></p> 
<p>多个tomcat成功部署了，在浏览器中也能成功访问 </p> 
<p><img alt="" height="1037" src="https://images2.imgbox.com/1b/29/Fi22BmuI_o.png" width="1200">下课~ </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dd7acc792e3838c362b2a6d88d531ac5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">算法题07（搜索插入位置）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aabdba990b4728d2e22c8f08d20575a6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">sort目标跟踪算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>