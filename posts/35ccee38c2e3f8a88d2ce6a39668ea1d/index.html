<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql安装完成后怎么打开_Python与Mysql怎么完成大量的数据交互？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql安装完成后怎么打开_Python与Mysql怎么完成大量的数据交互？" />
<meta property="og:description" content="如果你不了解python，可以先了解python的简单用法。不过人邮君相信，在座的各位都是大佬，我们直接介绍操作。
第一部分，我们先来介绍python与mysql如何完成数据交互： python 与 mysql 实现交互的过程，通常分为：建立连接、把sql语句定义为字符串，提交指令、关闭连接。
核心的技能在于 sql语句；除了定义sql语句，其余3个处理都是固定的写法。接下来，人邮君结合《MySQL是怎样运行的》这本书，以Linux环境为主，为大家进行说明。
MySQL是怎样运行的 从根儿上理解MySQL
首先来看第一步，安装 MySQL 数据库：
如果你想要使用python操作MySQL数据库，就必须先要安装pymysql库，这个库的安装很简单；
第二步，pymysql 模块安装与使用：
MySQL-python驱动，是python 操作mysql必不可少的模块。
下载MySQL-python-1.2.5.zip 文件之后直接解压。进入MySQL-python-1.2.5目录:
&gt;&gt;python setup.py install
下载地址：https://pypi.python.org/pypi/MySQL-python/
第三步，python与mysql的交互实现：
1)连接
pymysql .connect () 函数：连接数据库
使用 pymysql 的 connect() 方法连接数据库，涉及到几个参数，具体代表意义如下：
host：MySQL服务的地址，若数据库在本地上，使用 localhost 或者127.0.0.1。如果在其它服务器上，则写对应的 IP地址
port：服务的端口号，默认为3306，不写则为默认值。
user：登录数据库的用户名
passwd：登录 MySQL 的密码
db：数据库名
charset：设置为 utf8 编码，解决存汉字乱码问题
eg：
# 导入模块import pymysql# 打开数据库连接conn = pymysql.connect( host=&#34;127.0.0.1&#34;, user=&#34;root&#34;, password=&#34;123456&#34;, database=&#34;test_db&#34;, charset=&#34;utf8&#34;)print(conn)print(type(conn)) 输出结果显示如下：表面数据库连接成功
详细可以参考
https://www.cnblogs.com/qjj19931230/p/12550384.html?utm_source=tuicool
这里要强调的是，除了上面的连接方式，还有其他的连接。在《MySQL是怎样运行的》这本书中，介绍到，mysql连接分为内连接和外连接。内外连接的根本区别是在驱动表中记录不符合ON子句中的连接条件时，内连接不会把该记录加入到最后的结果集中，而外连接会。外连接分为左(外)连接和右(外)连接。
三种链接方式如下图所示：
2)获取游标
conn.cursor():获取游标
对数据库进行操作，只连接数据库是不够的，还需要获取操作数据库的游标，才能进行后续的操作。游标的主要作用是用来接收数据库操作后的返回结果，比如数据查询、插入和删除等。通过获取到的数据库连接实例 conn 下的 cursor() 方法来创建游标，如下：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/35ccee38c2e3f8a88d2ce6a39668ea1d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-31T00:33:24+08:00" />
<meta property="article:modified_time" content="2021-01-31T00:33:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql安装完成后怎么打开_Python与Mysql怎么完成大量的数据交互？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>如果你不了解python，可以先了解python的简单用法。不过人邮君相信，在座的各位都是大佬，我们直接介绍操作。</p> 
 <h2 class="pgc-h-arrow-right">第一部分，我们先来介绍python与mysql如何完成数据交互：</h2> 
 <p>python 与 mysql 实现交互的过程，通常分为：<strong>建立连接、把sql语句定义为字符串，提交指令、关闭连接</strong>。</p> 
 <p>核心的技能在于 sql语句；除了定义sql语句，其余3个处理都是固定的写法。接下来，人邮君结合<strong>《MySQL是怎样运行的》</strong>这本书，<strong>以</strong>Linux环境为主，为大家进行说明。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/ad/91/k3UMUoXd_o.png" alt="073ba644ea6e7ec825c02730e118c06a.png"> 
 </div> 
 <p>MySQL是怎样运行的 从根儿上理解MySQL</p> 
 <p><strong>首先来看第一步，安装 MySQL 数据库：</strong></p> 
 <p>如果你想要使用python操作MySQL数据库，就必须先要安装pymysql库，这个库的安装很简单；</p> 
 <p><strong>第二步，pymysql 模块安装与使用：</strong></p> 
 <p>MySQL-python驱动，是python 操作mysql必不可少的模块。</p> 
 <p>下载MySQL-python-1.2.5.zip 文件之后直接解压。进入MySQL-python-1.2.5目录:</p> 
 <p>&gt;&gt;python setup.py install</p> 
 <p>下载地址：https://pypi.python.org/pypi/MySQL-python/</p> 
 <p><strong>第三步，python与mysql的交互实现：</strong></p> 
 <p><strong>1)连接</strong></p> 
 <p><strong>pymysql .connect () </strong>函数：连接数据库</p> 
 <p>使用 pymysql 的 connect() 方法连接数据库，涉及到几个参数，具体代表意义如下：</p> 
 <p>host：MySQL服务的地址，若数据库在本地上，使用 localhost 或者127.0.0.1。如果在其它服务器上，则写对应的 IP地址</p> 
 <p>port：服务的端口号，默认为3306，不写则为默认值。</p> 
 <p>user：登录数据库的用户名</p> 
 <p>passwd：登录 MySQL 的密码</p> 
 <p>db：数据库名</p> 
 <p>charset：设置为 utf8 编码，解决存汉字乱码问题</p> 
 <p>eg：</p> 
 <pre class="has"><code># 导入模块import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")print(conn)print(type(conn))</code></pre> 
 <p>输出结果显示如下：表面数据库连接成功</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/9e/75/2FVSC7tQ_o.png" alt="2bac6452025126656062306c9bc78f39.png"> 
 </div> 
 <p>详细可以参考</p> 
 <p>https://www.cnblogs.com/qjj19931230/p/12550384.html?utm_source=tuicool</p> 
 <p>这里要强调的是，除了上面的连接方式，还有其他的连接。在<strong>《MySQL是怎样运行的》</strong>这本书中，介绍到，mysql连接分为内连接和外连接。内外连接的根本区别是在驱动表中记录不符合ON子句中的连接条件时，内连接不会把该记录加入到最后的结果集中，而外连接会。外连接分为左(外)连接和右(外)连接。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/03/89/buuJK6dh_o.png" alt="b18ec940e99e92d2268ff5b30c3102f5.png"> 
 </div> 
 <p>三种链接方式如下图所示：</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/61/3e/r9JF2xay_o.png" alt="0b9a25b91c7c6d941da7f59604d68a30.png"> 
 </div> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/8c/64/01xxQ84C_o.png" alt="062beda98978fc48fd60932ae15e04dd.png"> 
 </div> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/45/08/CA0RPEwE_o.png" alt="43286abb45116581e2a285acd50f586e.png"> 
 </div> 
 <p><strong>2)获取游标</strong></p> 
 <p><strong>conn.cursor()</strong>:获取游标</p> 
 <p>对数据库进行操作，只连接数据库是不够的，还需要获取操作数据库的游标，才能进行后续的操作。游标的主要作用是用来接收数据库操作后的返回结果，比如数据查询、插入和删除等。通过获取到的数据库连接实例 conn 下的 cursor() 方法来创建游标，如下：</p> 
 <pre class="has"><code># 导入模块import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")# print(conn)# print(type(conn))# 获取连接下的游标cursor_test = conn.cursor()print(cursor_test)</code></pre> 
 <p><strong>3)数据库操作</strong></p> 
 <ul><li><strong>创建表</strong></li></ul> 
 <pre class="has"><code>import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")# 获取连接下的游标cursor_test = conn.cursor()# 使用 execute() 方法执行 SQL，如果表存在则删除cursor_test.execute("DROP TABLE IF EXISTS EMPLOYEE")# 使用预处理语句创建表sql = """CREATE TABLE user1 (         FIRST_NAME  CHAR(20) NOT NULL,         LAST_NAME  CHAR(20),         AGE INT,           SEX CHAR(1),         INCOME FLOAT )"""cursor_test.execute(sql)# 关闭数据库连接conn.close()</code></pre> 
 <p>如下所示数据库表创建成功：</p> 
 <pre class="has"><code>mysql&gt; desc user1;+------------+----------+------+-----+---------+-------+| Field      | Type     | Null | Key | Default | Extra |+------------+----------+------+-----+---------+-------+| FIRST_NAME | char(20) | NO   |     | NULL    |       || LAST_NAME  | char(20) | YES  |     | NULL    |       || AGE        | int(11)  | YES  |     | NULL    |       || SEX        | char(1)  | YES  |     | NULL    |       || INCOME     | float    | YES  |     | NULL    |       |+------------+----------+------+-----+---------+-------+5 rows in set (0.00 sec)</code></pre> 
 <ul><li><strong>插入数据</strong></li></ul> 
 <pre class="has"><code>import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")# 获取连接下的游标cursor_test = conn.cursor()# 使用预处理语句创建表sql = """INSERT INTO user1(FIRST_NAME,         LAST_NAME, AGE, SEX, INCOME)         VALUES ('Fei', 'Fei', 20, 'M', 1000)"""try:   # 执行sql语句   cursor_test.execute(sql)   # 提交到数据库执行   conn.commit()except:   # 如果发生错误则回滚   conn.rollback()# 关闭数据库连接conn.close()</code></pre> 
 <ul><li><strong>查询数据</strong></li></ul> 
 <pre class="has"><code>import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")# 获取连接下的游标cursor_test = conn.cursor()sql = """    select * from user1"""try:    # 执行 sql 语句    cursor_test.execute(sql)    # 显示出所有数据    data_result = cursor_test.fetchall()    for row in data_result:        fname = row[0]        lname = row[1]        age = row[2]        sex = row[3]        income = row[4]        # 打印结果        print("fname=%s,lname=%s,age=%s,sex=%s,income=%s" %               (fname, lname, age, sex, income))except:    print("Error: unable to fetch data")# 关闭数据库连接conn.close()</code></pre> 
 <ul><li><strong>删除操作</strong></li></ul> 
 <pre class="has"><code># 导入模块import pymysql# 打开数据库连接conn = pymysql.connect(    host="127.0.0.1",    user="root",    password="123456",    database="test_db",    charset="utf8")# print(conn)# print(type(conn))# 获取连接下的游标cursor_test = conn.cursor()sql = "DELETE * FROM user1"try:    # 执行SQL语句    cursor_test.execute(sql)    # 提交到数据库执行    conn.commit()except:    # 发生错误时回滚    conn.rollback()# 关闭数据库连接conn.close()</code></pre> 
 <h2 class="pgc-h-arrow-right">第二部分，我们来介绍如何实现「大量」数据的交互？</h2> 
 <p>在<strong>《MySQL是怎样运行的》</strong>，作者小孩子4919强调，嵌套循环连接算法是指驱动表只访问一次，但被驱动表却可能会访问多次，访问次数取决于驱动表执行单表查询后的结果集中有多少条记录，大致过程如下：</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/df/b3/18qwUwl0_o.png" alt="d7657c22c44dab36f776b8eff1f5a22d.png"> 
 </div> 
 <p><strong>步骤1，</strong>选取驱动表，使用与驱动表相关的过滤条件，选取代价最低的单表访问方法来执行对驱动表的单表查询；</p> 
 <p><strong>步骤2，</strong>对步骤1中查询驱动表得到的结果集中的每一条记录，都分别到被驱动表中查找匹配的记录。</p> 
 <p>由于被驱动表可能会访问多次，因此可以为被驱动表建立合适的索引以加快查询速度。</p> 
 <p>所以，如果被驱动表非常大，即需要完成大量的数据交换，多次访问被驱动表可能导致很多次的磁盘I/O读取操作，此时可以使用基于块的嵌套循环连接算法来缓解由此造成的性能损耗。Mysql的设计者，提出了名为Join Buffer(连接缓冲区)的概念：</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/08/4c/Ozy1yff6_o.png" alt="96443705ce53cacf069f1377d9f4ea12.png"> 
 </div> 
 <p>有兴趣的同学，建议根据书中详细描述走一遍。</p> 
 <p>此外，人邮君特别建议大家看看《MySQL是怎样运行的》，它解决了“为什么这个SQL语句执行得这么慢？为什么我明明建立了索引，但是查询计划显示没用？为什么IN查询中的参数一多就不使用索引了？为什么我的数据显示成了乱码？”等等每一位DBA和后端开发人员在与MySQL打交道时，所遇到的很多常见问题。除此之外，索引结构、MVCC、隔离级别的实现、锁的使用等知识，也是求职人员在MySQL面试中躲不过去的高频问题，作者都在书中给出了很详细的介绍。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/05/6f/iDwowPV7_o.png" alt="aceff7565e2b5e8e49db2998fb1eced3.png"> 
 </div> 
 <p>MySQL是怎样运行的 从根儿上理解MySQL</p> 
 <p>这本书的初稿最初是以小册的形式发布在掘金平台上的，一经发布便得到大家的青睐，十分火爆！历经两年，现在终于成书，有兴趣的小伙伴也可以去掘金围观~(小孩子4919 的个人主页)</p> 
 <p>从底层到应用，从基础到进阶，关于MySQL的一切，作者都在书中讲解得非常清楚，帮助你从根儿上理解MySQL。</p> 
 <div class="pgc-img"> 
  <img src="https://images2.imgbox.com/65/5e/X2gBcm8d_o.png" alt="c4701cb7779c79dfea758a7613938039.png"> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/979126a06c4b4ce6e8b8c4258ff38ec5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深度学习的视觉跟踪：一个全面的调查</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/85086351725b092ff21daf8beaa347cd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IEEE文献免费下载方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>