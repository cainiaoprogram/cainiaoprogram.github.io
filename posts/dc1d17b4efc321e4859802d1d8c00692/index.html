<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>麦克纳姆小车底盘跟随云台 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="麦克纳姆小车底盘跟随云台" />
<meta property="og:description" content="麦克纳姆小车底盘跟随云台 一、简介二、程序流程三、逻辑解释 一、简介 底盘跟随在RoboMaster比赛中，是一种常见的底盘控制方式。而底盘的轮子是两种不同类型的麦克纳姆轮，如下图所示：
根据麦轮小滚轮的旋向，可以组成如下图所示的X型底盘小车：
其中，连接麦轮的电机为比赛使用的3508电机。本文规定：以电机底面顺时针旋转方向为正方向 （如下图从左往右看）
（图片来源于官方文档）
二、程序流程 底盘控制流程图如下所示，实际代码中是将YAW轴角度PID的控制量与遥控遥感值叠加，最后再赋值到底盘电机的速度环目标值中。
过零处理戳这里
这个流程图的代码能实现的效果是，当YAW轴的机械角度不在车头机械角度时，底盘就会沿着YAW轴当前的机械角度方向一直旋转。
当云台控制YAW轴电机保持不动时，就能实现底盘跟随。
流程图中PID各个量赋值如下图所示：
三、逻辑解释 解释起来其实不难，如下图所示，
左图中，angle_output&lt;0, 四个电机均反转，表现为底盘原地向左旋转。
右图中，angle_output&gt;0, 四个电机均正转，表现为底盘原地向右旋转。
此时，如果云台对YAW轴电机无控制，则表现为：底盘电机一直跟，永远跟不上。
要想让云台能被跟上，则需要通过云台上陀螺仪提供的角度进行串级PID控制，当云台的目标角度确定时（即云台保持不动），底盘才能“跟得上”。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dc1d17b4efc321e4859802d1d8c00692/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-20T01:57:01+08:00" />
<meta property="article:modified_time" content="2021-05-20T01:57:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">麦克纳姆小车底盘跟随云台</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>麦克纳姆小车底盘跟随云台</h4> 
 <ul><li><ul><li><ul><li><a href="#_2" rel="nofollow">一、简介</a></li><li><a href="#_20" rel="nofollow">二、程序流程</a></li><li><a href="#_39" rel="nofollow">三、逻辑解释</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="_2"></a>一、简介</h4> 
<p>底盘跟随在RoboMaster比赛中，是一种常见的底盘控制方式。而底盘的轮子是两种不同类型的麦克纳姆轮，如下图所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/f5/39/rSmTvZXO_o.png" width="40%"> 
</div> 
<p>根据麦轮小滚轮的旋向，可以组成如下图所示的X型底盘小车：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/7f/6a/MVvtBWt9_o.png" width="30%"> 
</div> 
<p>其中，连接麦轮的电机为比赛使用的3508电机。本文规定：以电机底面顺时针旋转方向为正方向 （如下图从左往右看）</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/a8/0d/Yr9pKVgT_o.png" width="35%"> 
</div> 
<p>（图片来源于官方文档）</p> 
<h4><a id="_20"></a>二、程序流程</h4> 
<p>底盘控制流程图如下所示，实际代码中是将YAW轴角度PID的控制量与遥控遥感值叠加，最后再赋值到底盘电机的速度环目标值中。</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/ac/6b/Jh0RWorv_o.png" width="20%"> 
</div> 
<p><a href="https://blog.csdn.net/qq_38972634/article/details/117036117">过零处理戳这里</a></p> 
<p>这个流程图的代码能实现的效果是，当YAW轴的机械角度不在车头机械角度时，底盘就会沿着YAW轴当前的机械角度方向一直旋转。<br> 当云台控制YAW轴电机保持不动时，就能实现底盘跟随。</p> 
<p>流程图中PID各个量赋值如下图所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/46/53/qtObHsVz_o.png" width="70%"> 
</div> 
<h4><a id="_39"></a>三、逻辑解释</h4> 
<p>解释起来其实不难，如下图所示，<br> 左图中，angle_output&lt;0, 四个电机均反转，表现为底盘原地向左旋转。<br> 右图中，angle_output&gt;0, 四个电机均正转，表现为底盘原地向右旋转。</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/59/88/LTQTj1ZR_o.png" width="120%"> 
</div> 
<p>此时，如果云台对YAW轴电机无控制，则表现为：底盘电机一直跟，永远跟不上。</p> 
<p>要想让云台能被跟上，则需要通过云台上陀螺仪提供的角度进行串级PID控制，当云台的目标角度确定时（即云台保持不动），底盘才能“跟得上”。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6755d4a17d8628ed53ab36a5914b5ca1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">minicom-linux串口工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b5ab0a6332e2deec7ad9fc25f508267c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用scanf函数输入数据C语言,c语言：用scanf函数输入数据，举例并分析错误原因...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>