<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringCloud系列篇：核心组件之注册中心组件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringCloud系列篇：核心组件之注册中心组件" />
<meta property="og:description" content="🥳🥳Welcome Huihui&#39;s Code World ! !🥳🥳 接下来看看由辉辉所写的关于SpringCloud的相关操作吧
目录
🥳🥳Welcome Huihui&#39;s Code World ! !🥳🥳
一.注册中心组件是什么
二.注册中心组件的详解 生活例子
例子分析
三. 代码演示注册中心组件的特点
1.依赖引入
（1）pom
（2）yml
①消费者
②生产者
2.生产者
启动类
controller
3.消费者
启动类
controller
上篇我详细的讲解了SpringCloud到底是什么，也通过生活中的例子去生动说明了，大家如果对于SpringCloud还是又疑问的话，可以看一下上一篇博文
那么这篇我就来详述一下SpringCloud中的核心组件--注册中心组件，也还是会结合生活例子来说明，这样也利于理解。
一.注册中心组件是什么 注册中心是一种分布式系统中的组件，用于管理服务实例的注册和发现。在微服务架构中，服务可以被拆分成多个小的模块，这些模块可能部署在不同的主机和容器中。因此，为了让一个服务可以访问其他服务，它需要知道其他服务的地址和端口信息。而注册中心就是用来管理这些信息的。
注册中心组件通常提供以下功能：
服务注册：服务提供者将自己的服务注册到注册中心中，包括服务名称、IP地址、端口号等信息。服务发现：服务消费者从注册中心中查询可用的服务列表，并选择一个可用的服务进行调用。服务健康检查：注册中心能够检测服务是否健康，及时剔除不健康的服务实例，避免服务调用失败。负载均衡：注册中心可以根据一定的负载均衡策略，为服务消费者选择一个合适的服务实例进行调用。 二.注册中心组件的详解 如果只是说注册中心组件的定义，感觉太官方了，脑海中不能出现一个画面感，所以我这里按照自己的理解，给大家举一个通俗易懂的例子
生活例子 假设你需要看病
你去了一家大型医院
这个医院有很多个科室（类似于微服务）
...
每个科室都提供不同的医疗服务。你需要看的是内科，但是你不知道内科是在哪个楼层、哪个区域。这个时候你通常会找到导诊台，去询问内科位于哪个楼层的哪个区域
然后导诊台中的工作人员便会去告诉你具体的位置
例子分析 例子中的导诊台就相当于注册中心的这个组件，导诊台中管理着这个医院各个科室的信息，注册中心组件中管理着其他服务的地址和端口信息。有了导诊台，我们看病就不需要在整个医院中无脑寻找对应科室了，同样的，有了注册中心的组件，我们也不需要在整个服务中去寻找对应的服务。这样就可以节省很多的时间，提高效率。
三. 代码演示注册中心组件的特点 这里写的代码就是一个生产者拿取消费者中返回回来的信息【水蜜桃】
1.依赖引入 （1）pom 这里写一个module代表生产者，一个module代表消费者。其中也需要引入依赖，两个module中肯定有相同的依赖，那么我们可以把整个两个module都写在同一个maven项目下，
然后再把相同的依赖放在那个大项目中，如果两个module有用到其他的依赖，则可以直接在自身的pom文件中引入相应依赖。
父项目的依赖
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;!-- 项目组织ID --&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4f4deecc5af7a8c243b1fc2c8df6728e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-06T20:54:42+08:00" />
<meta property="article:modified_time" content="2024-01-06T20:54:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringCloud系列篇：核心组件之注册中心组件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <h2 id="%F0%9F%A5%B3%F0%9F%A5%B3Welcome%20Huihui's%20Code%20World%20!%20!%F0%9F%A5%B3%F0%9F%A5%B3" style="text-align:center;"><span style="color:#ffd900;">🥳🥳Welcome Huihui's Code World ! !🥳🥳</span></h2> 
 <p style="text-align:center;"><strong>接下来看看由辉辉所写的关于SpringCloud的相关操作吧</strong></p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%F0%9F%A5%B3%F0%9F%A5%B3Welcome%20Huihui's%20Code%20World%20!%20!%F0%9F%A5%B3%F0%9F%A5%B3-toc" style="margin-left:0px;"><a href="#%F0%9F%A5%B3%F0%9F%A5%B3Welcome%20Huihui'%20rel=">🥳🥳Welcome Huihui's Code World ! !🥳🥳</a></p> 
<p id="%E4%B8%80.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88" rel="nofollow">一.注册中心组件是什么</a></p> 
<p id="%E4%BA%8C.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AF%A6%E8%A7%A3%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AF%A6%E8%A7%A3%C2%A0" rel="nofollow">二.注册中心组件的详解 </a></p> 
<p id="%E7%94%9F%E6%B4%BB%E4%BE%8B%E5%AD%90-toc" style="margin-left:40px;"><a href="#%E7%94%9F%E6%B4%BB%E4%BE%8B%E5%AD%90" rel="nofollow">生活例子</a></p> 
<p id="%E4%BE%8B%E5%AD%90%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#%E4%BE%8B%E5%AD%90%E5%88%86%E6%9E%90" rel="nofollow">例子分析</a></p> 
<p id="%E4%B8%89.%20%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E7%89%B9%E7%82%B9-toc" style="margin-left:0px;"><a href="#%E4%B8%89.%20%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E7%89%B9%E7%82%B9" rel="nofollow">三. 代码演示注册中心组件的特点</a></p> 
<p id="1.%E4%BE%9D%E8%B5%96%E5%BC%95%E5%85%A5-toc" style="margin-left:40px;"><a href="#1.%E4%BE%9D%E8%B5%96%E5%BC%95%E5%85%A5" rel="nofollow">1.依赖引入</a></p> 
<p id="%EF%BC%881%EF%BC%89pom-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89pom" rel="nofollow">（1）pom</a></p> 
<p id="%EF%BC%882%EF%BC%89yml-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89yml" rel="nofollow">（2）yml</a></p> 
<p id="%E2%91%A0%E6%B6%88%E8%B4%B9%E8%80%85-toc" style="margin-left:120px;"><a href="#%E2%91%A0%E6%B6%88%E8%B4%B9%E8%80%85" rel="nofollow">①消费者</a></p> 
<p id="%E2%91%A1%E7%94%9F%E4%BA%A7%E8%80%85-toc" style="margin-left:120px;"><a href="#%E2%91%A1%E7%94%9F%E4%BA%A7%E8%80%85" rel="nofollow">②生产者</a></p> 
<p id="2.%E7%94%9F%E4%BA%A7%E8%80%85-toc" style="margin-left:40px;"><a href="#2.%E7%94%9F%E4%BA%A7%E8%80%85" rel="nofollow">2.生产者</a></p> 
<p id="%E5%90%AF%E5%8A%A8%E7%B1%BB-toc" style="margin-left:80px;"><a href="#%E5%90%AF%E5%8A%A8%E7%B1%BB" rel="nofollow">启动类</a></p> 
<p id="controller-toc" style="margin-left:80px;"><a href="#controller" rel="nofollow">controller</a></p> 
<p id="3.%E6%B6%88%E8%B4%B9%E8%80%85-toc" style="margin-left:40px;"><a href="#3.%E6%B6%88%E8%B4%B9%E8%80%85" rel="nofollow">3.消费者</a></p> 
<p id="%E5%90%AF%E5%8A%A8%E7%B1%BB-toc" style="margin-left:80px;"><a href="#%E5%90%AF%E5%8A%A8%E7%B1%BB" rel="nofollow">启动类</a></p> 
<p id="controller-toc" style="margin-left:80px;"><a href="#controller" rel="nofollow">controller</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p><strong>上篇我详细的讲解了</strong><strong>SpringCloud到底是什么，也通过生活中的例子去生动说明了，大家如果对于SpringCloud还是又疑问的话，可以看一下<a class="link-info" href="http://t.csdnimg.cn/T1PDm" rel="nofollow" title="上一篇博文">上一篇博文</a></strong></p> 
<p><strong>那么这篇我就来详述一下SpringCloud中的核心组件--注册中心组件，也还是会结合生活例子来说明，这样也利于理解。</strong></p> 
<h2 id="%E4%B8%80.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88"><strong>一.注册中心组件是什么</strong></h2> 
<blockquote> 
 <p><span style="color:#0d0016;">        注册中心是一种分布式系统中的组件，用于<strong>管理服务实例的注册和发现</strong>。在微服务架构中，服务可以被拆分成多个小的模块，这些模块可能部署在不同的主机和容器中。因此，为了让一个服务可以访问其他服务，它需要知道其他服务的地址和端口信息。而注册中心就是用来管理这些信息的。</span></p> 
 <p><span style="color:#0d0016;">        注册中心组件通常提供以下功能：</span></p> 
 <ol><li><span style="color:#0d0016;">服务注册：服务提供者将自己的服务注册到注册中心中，包括服务名称、IP地址、端口号等信息。</span></li><li><span style="color:#0d0016;">服务发现：服务消费者从注册中心中查询可用的服务列表，并选择一个可用的服务进行调用。</span></li><li><span style="color:#0d0016;">服务健康检查：注册中心能够检测服务是否健康，及时剔除不健康的服务实例，避免服务调用失败。</span></li><li><span style="color:#0d0016;">负载均衡：注册中心可以根据一定的负载均衡策略，为服务消费者选择一个合适的服务实例进行调用。</span></li></ol> 
</blockquote> 
<h2 id="%E4%BA%8C.%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AF%A6%E8%A7%A3%C2%A0" style="background-color:transparent;">二.<strong>注册中心组件</strong>的详解 </h2> 
<blockquote> 
 <p><span style="color:#0d0016;">      如果只是说<strong>注册中心组件</strong>的定义，感觉太官方了，脑海中不能出现一个画面感，所以我这里按照自己的理解，给大家举一个通俗易懂的例子</span></p> 
 <hr> 
 <h3 id="%E7%94%9F%E6%B4%BB%E4%BE%8B%E5%AD%90"><span style="color:#fe2c24;">生活例子</span></h3> 
 <p><span style="color:#0d0016;">假设你需要看病</span></p> 
 <p><img alt="" height="1017" src="https://images2.imgbox.com/a0/06/JlAKj4u9_o.png" width="1200"></p> 
 <p></p> 
 <p><span style="color:#0d0016;">你去了一家大型医院</span><img alt="" height="794" src="https://images2.imgbox.com/76/6b/ybEDuk71_o.png" width="1200"></p> 
 <p></p> 
 <p><span style="color:#0d0016;">这个医院有很多个科室（类似于微服务）</span></p> 
 <p><img alt="" height="942" src="https://images2.imgbox.com/2b/4d/FVNUrRKC_o.png" width="1200"></p> 
 <p><img alt="" height="653" src="https://images2.imgbox.com/0b/15/FccVgwp7_o.png" width="1200"></p> 
 <p>...</p> 
 <p><span style="color:#0d0016;">每个科室都提供不同的医疗服务。你需要看的是内科，但是你不知道内科是在哪个楼层、哪个区域。这个时候你通常会找到导诊台，去询问内科位于哪个楼层的哪个区域</span></p> 
 <p><img alt="" height="857" src="https://images2.imgbox.com/1e/51/3POidWPY_o.png" width="1171"></p> 
 <p>然后导诊台中的工作人员便会去告诉你具体的位置<img alt="" height="894" src="https://images2.imgbox.com/44/e6/iqsQA6dk_o.png" width="1200"></p> 
 <hr> 
 <h3 id="%E4%BE%8B%E5%AD%90%E5%88%86%E6%9E%90"><span style="color:#fe2c24;">例子分析</span></h3> 
 <p><span style="color:#0d0016;">例子中的导诊台就相当于注册中心的这个组件，导诊台中管理着这个医院各个科室的信息，注册中心组件中管理着其他服务的地址和端口信息。有了导诊台，我们看病就不需要在整个医院中无脑寻找对应科室了，同样的，有了注册中心的组件，我们也不需要在整个服务中去寻找对应的服务。这样就可以节省很多的时间，提高效率。</span></p> 
</blockquote> 
<h2 id="%E4%B8%89.%20%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%BB%84%E4%BB%B6%E7%9A%84%E7%89%B9%E7%82%B9">三. 代码演示<strong>注册中心组件的特点</strong></h2> 
<blockquote> 
 <p>这里写的代码就是一个生产者拿取消费者中返回回来的信息【水蜜桃】</p> 
 <h3 id="1.%E4%BE%9D%E8%B5%96%E5%BC%95%E5%85%A5">1.依赖引入</h3> 
 <h4 id="%EF%BC%881%EF%BC%89pom">（1）pom</h4> 
 <p><span style="color:#0d0016;">这里写一个module代表生产者，一个module代表消费者。其中也需要引入依赖，两个module中肯定有相同的依赖，那么我们可以把整个两个module都写在同一个maven项目下，</span></p> 
 <p><img alt="" height="442" src="https://images2.imgbox.com/39/08/02NNW85l_o.png" width="724"><span style="color:#0d0016;">然后再把相同的依赖放在那个大项目中，如果两个module有用到其他的依赖，则可以直接在自身的pom文件中引入相应依赖。</span></p> 
 <p><span style="color:#fe2c24;"><strong>父项目的依赖</strong></span></p> 
 <pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;

    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;!-- 项目组织ID --&gt;
    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;!-- 项目名称 --&gt;
    &lt;artifactId&gt;cloud&lt;/artifactId&gt;
    &lt;!-- 项目版本号 --&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;!-- 项目打包方式 --&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;

    &lt;!-- 项目模块 --&gt;
    &lt;modules&gt;
        &lt;module&gt;provider&lt;/module&gt;
        &lt;module&gt;consumer&lt;/module&gt;
    &lt;/modules&gt;

    &lt;!-- 项目属性 --&gt;
    &lt;properties&gt;
        &lt;!-- Spring Boot版本号 --&gt;
        &lt;spring-boot.version&gt;2.7.8&lt;/spring-boot.version&gt;
        &lt;!-- Spring Cloud版本号 --&gt;
        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;
        &lt;!-- Spring Cloud Alibaba版本号 --&gt;
        &lt;spring-cloud-alibaba.version&gt;2021.0.1.0&lt;/spring-cloud-alibaba.version&gt;
    &lt;/properties&gt;

    &lt;!-- 项目依赖 --&gt;
    &lt;dependencies&gt;
        &lt;!-- Spring Boot测试依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Spring Boot Web依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Spring Cloud Alibaba Nacos服务发现依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Spring Cloud OpenFeign依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Lombok依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Spring Cloud LoadBalancer依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-loadbalancer&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;!-- 依赖管理 --&gt;
    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;!-- Spring Boot依赖管理 --&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-boot.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
            &lt;!-- Spring Cloud依赖管理 --&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
            &lt;!-- Spring Cloud Alibaba依赖管理 --&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

&lt;/project&gt;
</code></pre> 
 <p>其中也需要在整个父项目中说明自己的子模块</p> 
 <p><img alt="" height="912" src="https://images2.imgbox.com/1d/a5/dyGPIxjg_o.png" width="1200"></p> 
 <p>相应的，子模块中也需要指明自己的父项目【因为需要用到父项目中的依赖】</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/bd/91/KHhdyrCL_o.png" width="1200"><img alt="" height="1200" src="https://images2.imgbox.com/07/4c/xUYUgcml_o.png" width="1200"></p> 
 <h4 id="%EF%BC%882%EF%BC%89yml">（2）yml</h4> 
 <h5 id="%E2%91%A0%E6%B6%88%E8%B4%B9%E8%80%85">①消费者</h5> 
 <pre><code class="language-XML">server:
  port: 8082
spring:
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
  application:
    name: consumer</code></pre> 
 <h5 id="%E2%91%A1%E7%94%9F%E4%BA%A7%E8%80%85">②生产者</h5> 
 <pre><code class="language-XML">server:
  port: 8081
spring:
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
  application:
    name: provider
</code></pre> 
 <h3 id="2.%E7%94%9F%E4%BA%A7%E8%80%85">2.生产者</h3> 
 <h4 id="%E5%90%AF%E5%8A%A8%E7%B1%BB">启动类</h4> 
 <pre><code class="language-java">package com.provider.main;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

@SpringBootApplication // 使用@SpringBootApplication注解，表示这是一个Spring Boot应用
@EnableDiscoveryClient // 使用@EnableDiscoveryClient注解，启用服务发现功能
public class ProviderApplication { // 定义主类为ProviderApplication

    public static void main(String[] args) { // 定义主方法
        SpringApplication.run(ProviderApplication.class, args); // 运行Spring Boot应用，传入当前类和命令行参数
    }

}
</code></pre> 
 <h4 id="controller">controller</h4> 
 <pre><code class="language-java">package com.provider.main;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class TestController {

    // 使用@RequestMapping注解，指定该处理方法对应的URL路径为"/hello"
    @RequestMapping("/hello")
    public String hello() {
        // 返回一个字符串"
        return "我吃🍑🍑";
    }

}
</code></pre> 
 <h3 id="3.%E6%B6%88%E8%B4%B9%E8%80%85">3.消费者</h3> 
 <h4>启动类</h4> 
 <pre><code class="language-java">package com.consumer.main;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;
import org.springframework.cloud.client.loadbalancer.LoadBalanced;
import org.springframework.context.annotation.Bean;
import org.springframework.web.client.RestTemplate;

@SpringBootApplication // 启动类，包含@SpringBootConfiguration和@EnableAutoConfiguration注解
@EnableDiscoveryClient // 启用服务发现功能
public class ConsumerApplication {

    // 使用@LoadBalanced注解，表示该Bean会被负载均衡器管理
    @Bean
    @LoadBalanced
    public RestTemplate restTemplate() {
        return new RestTemplate(); // 创建并返回一个RestTemplate实例
    }

    public static void main(String[] args) {
        SpringApplication.run(ConsumerApplication.class, args); // 运行消费者应用，传入当前类和命令行参数
    }

}
</code></pre> 
 <h4>controller</h4> 
 <pre><code class="language-java">package com.consumer.main;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

// 使用@RestController注解，表示这是一个处理HTTP请求的控制器类
@RestController
public class TestController {

    // 使用@Autowired注解，将RestTemplate实例注入到当前类中
    @Autowired
    private RestTemplate restTemplate;

    // 使用@RequestMapping注解，指定该处理方法对应的URL路径为"/get_hello"
    @RequestMapping("/get_hello")
    public String get_hello() {

        // 使用restTemplate的getForObject方法，向"http://provider/hello"发送GET请求，并将响应结果转换为String类型
        return restTemplate.getForObject("http://provider/hello", String.class);
    }

}
</code></pre> 
 <p>如果我们没有用到注册中心，那么我们在消费者中需要拿到生产者的数据，就必须要将请求它的那个路径写明白</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/ab/98/hKokIIda_o.png" width="1200"></p> 
 <p>这样写其实会非常麻烦，我这里为了演示，所以就只写了一个，那么如果是在实际项目中呢？会有许多的服务，那么我们每一个都需要给他写的很详尽，如果有一天这个请求的路径变了，不在localhost中，或者是请求的这个hello变了，那我们还需要找到对应的调用它的那些地方去修改，总之就是非常的麻烦。这里我用到的注册中心的组件是阿里的nacos。</p> 
 <p>只要我们引入相应的依赖</p> 
 <pre><code class="language-XML">&lt;!-- Spring Cloud Alibaba Nacos服务发现依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
 <pre><code class="language-bash">server:
  port: 8082
spring:
  cloud:
#nacos依赖
    nacos:
      discovery:
        server-addr: localhost:8848
  application:
    name: provider
</code></pre> 
 <p>并且下载nacos这个软件</p> 
 <p><a class="link-info has-card" href="https://nacos.io/zh-cn/docs/what-is-nacos.html" rel="nofollow" title="nacos下载地址"><span class="link-card-box"><span class="link-title">nacos下载地址</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/41/a0/qrTngk0C_o.png" alt="icon-default.png?t=N7T8">https://nacos.io/zh-cn/docs/what-is-nacos.html</span></span></a></p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/d5/e5/uxKLst6d_o.png" width="1200"></p> 
 <p>解压之后运行就可以使用它啦</p> 
 <p><img alt="" height="1005" src="https://images2.imgbox.com/8e/25/V2VKHU0u_o.png" width="1200"></p> 
 <p>它的访问路径是8848/nacos</p> 
 <p><img alt="" height="1130" src="https://images2.imgbox.com/a5/b5/QTnShNTm_o.png" width="1200"></p> 
 <p>首次进入需要登录，默认账户和密码都是nacos</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/73/09/7NsvI3c2_o.png" width="1200"></p> 
 <p>使用了nacos之后，我们的服务都会被他管理，这样我们就只需要填写相应的服务名，它就会帮我们去找对应的服务了</p> 
 <p><img alt="" height="613" src="https://images2.imgbox.com/9b/56/8jOA9Iiy_o.png" width="1200"></p> 
 <p>运行之后也是可以拿到里面的数据的</p> 
 <p><img alt="" height="722" src="https://images2.imgbox.com/8a/65/j5D7QzZJ_o.png" width="1200"></p> 
</blockquote> 
<p style="text-align:center;"><span style="color:#fe2c24;"><strong><span style="background-color:#fefcd8;">好啦，今天的分享就到这了，希望能够帮到你呢！😊😊</span></strong><span style="background-color:#fefcd8;"> </span></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0cdf5a3abb379a53376223425c449d1d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">DrGraph原理示教 - OpenCV 4 功能 - 直方图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d2f775897815985bd374f2705102e9f0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">黑客（网络安全）技术自学30天</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>