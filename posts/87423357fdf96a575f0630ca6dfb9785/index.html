<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>duilib设计器 DuiEditor简易教程 (DuiDesigner)  （一） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="duilib设计器 DuiEditor简易教程 (DuiDesigner)  （一）" />
<meta property="og:description" content="DuiEditor简易教程 一，DuiEditor是什么？
DuiEditor是duilib界面库的界面设计器，编写过程中参考了老版DuiDesignner的大量代码，改名只是为了稍作区分，没有任何剽窃或不尊重原作者之意。其实这个工具已经写了好几年了，提不起太大的兴趣写什么教程，自己好用就行，毫无疑问的，设计器比手写xml大大的提高了效率。DuiEditor已经开源，任何公司或个人可以随意修改拷贝使用。
代码共享地址：
https://gitee.com/Liqs99/DuiLib_DuiEditor
https://github.com/xfcanyue/DuiLib_DuiEditor
https://download.csdn.net/download/mmcanyu/12524759
duilib设计器交流群：819272442
DuiEditor和老版DuiDesigner相比较有几个明显的优点：
1，控件和控件的属性维护太困难。如果duilib一直有专门的维护团队，这么写没什么问题。但是现在的duilib有大量的个人维护版本，一点小改动就要修改设计器，实在头大。为此，DuiEditor提供了文件载入的方式，duilib.xml保存了所有控件和控件属性，使用者只要修改这个文件就行了。
2，默认插入控件都是float方式，float布局其实用的非常的少。DuiEditor可以选择插入方式，默认是普通布局。
3，属性值冗余。DuiEditor会在保存文档时，与duilib.xml设置的默认属性比较，过滤掉默认属性。
4，DuiEditor嵌入了xml编辑界面，看起来有点像NodePad&#43;&#43;，并且相应的加入了部分语法提示。会一点手写是非常必要的，特别是需要改动布局结构时，只用设计器是无法做到的。
大概就罗列这么几点。duilib的开发人员说起duilib设计器，总会说到有个DuiDesigner但是不好用。先别急着拒绝啊，你可以试用用看啊。
我的考虑，和你的需求，其实是一致的。你为什么不试试呢？
二，使用说明
界面展示：
这个与老版的DuiDesginer差别并不大，工具栏增加了放大缩小，float布局选项，以及设计和代码的切换。
接下来我们就以360界面为范例，从无到有做出来。这个范例可以从官方的demo中找到。
1，新建UI文件。
控件视图中选中window，设置属性值，size=800,572。
控件视图选择VerticalLayout，设置属性值，bkcolor=d1e8f5, bkcolor2=c6e0f1, bordercolor=768d9b, bordersize=1.
大致分析一下360的界面，这是一个典型纵向布局框架，标题栏、工具栏、客户区、状态栏。工具栏和客户区中间还有一条分割线。
控件视图选择VerticalLayout，在控件箱选中HorizontalLayout，然后在设计页面中单击鼠标左键，遍成功在VerticalLayout纵向布局容器中插入了一个子控件。依此操作5次即可。等一下，这样太繁琐了。我们点击工具栏的代码按钮，切换到手撸xml。
复制&lt;HorizontalLayout /&gt; ，在贴上四个&lt;HorizontalLayout /&gt;。
点击工具栏设计按钮，回到设计界面。
保存文件，就保存到skin.xml的同目录，命名为skin2.xml
2，设计标题栏
选择控件树中第一个HorizontalLayout，设置height=24。
在它的下面添加2个子控件HorizontalLayout，为了好区分，我们假设添加的第一个是HA，第二个是HB。
HA设置属性，childvaligin=true。
在HA中添加一个Control, width=16, height=16, 设置bkimage=icon.png。
在HA再添加一个Text控件，valign=true，text=360安全卫士7.3。
与范例对比一下，标题的字体颜色不对，logo图标太靠近边框了。
选中HA，设置inset=&#34;5,0,0,0&#34;。
DuiEditor菜单---&gt;编辑---&gt;Inset Font Node，设置字体参数。
选中刚刚添加的Text控件，设置属性，font=0，textcolor=447aa1。
再看一下范例的界面，右上角求助和论坛是2个文本按钮，还有菜单、最小化、最大化、恢复大小、关闭。一共7个按钮。
选中HB，在它下面插入7个按钮。顺手把第1第2个按钮的text属性填上。
求助和论坛这2个文本按钮，范例中使用html标签实现的字体下划线。我们也照着做，第一个按钮text属性设置为“{u}求助{/u}”，showhtml=true。第2个按钮text属性设置为“{u}论坛{/u}”，showhtml=true。
选中menubtn，在属性窗口中找到normalimage，点击进入图片选择页面。
左边文件列表选中sys_dlg_menu.png，右侧IMAGE设置source=&#34;52, 0, 78, 17&#34;，source指的是我们需要引用的区域。点击保存。
依次我们要设置normalimage，hotimage, pushimage三个属性图片，分别对应鼠标三种状态：普通状态，悬停状态，按下状态。
后面的几个按钮，依葫芦画瓢，分别设置按钮的三种状态图。效果如下图
看起来很丑啊，还要再微调一下。
选中HB，设置width=188, inset=&#34;0,1,3,0&#34;。
menubtn，设置width=26, height=17。
minbtn，设置width=26, height=17。
maxbtn，设置width=26, height=17。
restorebtn，设置width=26, height=17。visible=false。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/87423357fdf96a575f0630ca6dfb9785/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-15T16:02:13+08:00" />
<meta property="article:modified_time" content="2020-06-15T16:02:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">duilib设计器 DuiEditor简易教程 (DuiDesigner)  （一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>                                           DuiEditor简易教程</h4> 
<p>一，DuiEditor是什么？</p> 
<p style="text-indent:33px;">DuiEditor是duilib界面库的界面设计器，编写过程中参考了老版DuiDesignner的大量代码，改名只是为了稍作区分，没有任何剽窃或不尊重原作者之意。其实这个工具已经写了好几年了，提不起太大的兴趣写什么教程，自己好用就行，毫无疑问的，设计器比手写xml大大的提高了效率。DuiEditor已经开源，任何公司或个人可以随意修改拷贝使用。</p> 
<p style="text-indent:33px;">代码共享地址：</p> 
<p style="text-indent:33px;"><a href="https://gitee.com/Liqs99/DuiLib_DuiEditor" rel="nofollow">https://gitee.com/Liqs99/DuiLib_DuiEditor</a></p> 
<p style="text-indent:33px;"><a href="https://github.com/xfcanyue/DuiLib_DuiEditor">https://github.com/xfcanyue/DuiLib_DuiEditor</a></p> 
<p style="text-indent:33px;"><a href="https://download.csdn.net/download/mmcanyu/12524759">https://download.csdn.net/download/mmcanyu/12524759</a></p> 
<p style="text-indent:33px;">duilib设计器交流群：819272442</p> 
<p style="text-indent:33px;">DuiEditor和老版DuiDesigner相比较有几个明显的优点：</p> 
<p style="text-indent:33px;">1，控件和控件的属性维护太困难。如果duilib一直有专门的维护团队，这么写没什么问题。但是现在的duilib有大量的个人维护版本，一点小改动就要修改设计器，实在头大。为此，DuiEditor提供了文件载入的方式，duilib.xml保存了所有控件和控件属性，使用者只要修改这个文件就行了。</p> 
<p style="text-indent:33px;">2，默认插入控件都是float方式，float布局其实用的非常的少。DuiEditor可以选择插入方式，默认是普通布局。</p> 
<p style="text-indent:33px;">3，属性值冗余。DuiEditor会在保存文档时，与duilib.xml设置的默认属性比较，过滤掉默认属性。</p> 
<p style="text-indent:33px;">4，DuiEditor嵌入了xml编辑界面，看起来有点像NodePad++，并且相应的加入了部分语法提示。会一点手写是非常必要的，特别是需要改动布局结构时，只用设计器是无法做到的。</p> 
<p style="text-indent:33px;">大概就罗列这么几点。duilib的开发人员说起duilib设计器，总会说到有个DuiDesigner但是不好用。先别急着拒绝啊，你可以试用用看啊。</p> 
<p style="text-indent:33px;">我的考虑，和你的需求，其实是一致的。你为什么不试试呢？</p> 
<p style="text-indent:0;">二，使用说明</p> 
<p style="text-indent:33px;">界面展示：</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/54/73/ojdOCIoQ_o.png"></p> 
<p style="text-indent:33px;">这个与老版的DuiDesginer差别并不大，工具栏增加了放大缩小，float布局选项，以及设计和代码的切换。</p> 
<p style="text-indent:33px;">接下来我们就以360界面为范例，从无到有做出来。这个范例可以从官方的demo中找到。</p> 
<p style="text-indent:33px;">1，新建UI文件。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/fe/51/h1RES3eN_o.png"></p> 
<p style="text-indent:33px;">控件视图中选中window，设置属性值，size=800,572。</p> 
<p style="text-indent:33px;">控件视图选择VerticalLayout，设置属性值，bkcolor=d1e8f5, bkcolor2=c6e0f1,  bordercolor=768d9b, bordersize=1.</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/79/22/U23Kbc6e_o.png"></p> 
<p style="text-indent:33px;">大致分析一下360的界面，这是一个典型纵向布局框架，标题栏、工具栏、客户区、状态栏。工具栏和客户区中间还有一条分割线。</p> 
<p style="text-indent:33px;">控件视图选择VerticalLayout，在控件箱选中HorizontalLayout，然后在设计页面中单击鼠标左键，遍成功在VerticalLayout纵向布局容器中插入了一个子控件。依此操作5次即可。等一下，这样太繁琐了。我们点击工具栏的代码按钮，切换到手撸xml。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/e4/df/OeYHGQ96_o.png"></p> 
<p style="text-indent:33px;">复制&lt;HorizontalLayout /&gt; ，在贴上四个&lt;HorizontalLayout /&gt;。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/ce/ed/gFqzzDpG_o.png"></p> 
<p style="text-indent:33px;">点击工具栏设计按钮，回到设计界面。</p> 
<p style="text-indent:33px;">保存文件，就保存到skin.xml的同目录，命名为skin2.xml</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/ea/25/2Hn94vWa_o.png"></p> 
<p style="text-indent:33px;">2，设计标题栏</p> 
<p style="text-indent:33px;">选择控件树中第一个HorizontalLayout，设置height=24。</p> 
<p style="text-indent:33px;">在它的下面添加2个子控件HorizontalLayout，为了好区分，我们假设添加的第一个是HA，第二个是HB。</p> 
<p style="text-indent:33px;">HA设置属性，childvaligin=true。</p> 
<p style="text-indent:33px;">在HA中添加一个Control, width=16, height=16, 设置bkimage=icon.png。</p> 
<p style="text-indent:33px;">在HA再添加一个Text控件，valign=true，text=360安全卫士7.3。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/a8/4f/RvzGPAq5_o.png"></p> 
<p style="text-indent:33px;">与范例对比一下，标题的字体颜色不对，logo图标太靠近边框了。</p> 
<p style="text-indent:33px;">选中HA，设置inset="5,0,0,0"。</p> 
<p style="text-indent:33px;">DuiEditor菜单---&gt;编辑---&gt;Inset Font Node，设置字体参数。</p> 
<p style="text-indent:33px;">选中刚刚添加的Text控件，设置属性，font=0，textcolor=447aa1。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/7e/a5/5Ux20YsZ_o.png"></p> 
<p style="text-indent:33px;">再看一下范例的界面，右上角求助和论坛是2个文本按钮，还有菜单、最小化、最大化、恢复大小、关闭。一共7个按钮。</p> 
<p style="text-indent:33px;">选中HB，在它下面插入7个按钮。顺手把第1第2个按钮的text属性填上。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/83/18/yWoHwU6m_o.png"></p> 
<p style="text-indent:33px;">求助和论坛这2个文本按钮，范例中使用html标签实现的字体下划线。我们也照着做，第一个按钮text属性设置为“{u}求助{/u}”，showhtml=true。第2个按钮text属性设置为“{u}论坛{/u}”，showhtml=true。</p> 
<p style="text-indent:33px;">选中menubtn，在属性窗口中找到normalimage，点击进入图片选择页面。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/f7/c7/PLDT4fYF_o.png"></p> 
<p style="text-indent:33px;">左边文件列表选中sys_dlg_menu.png，右侧IMAGE设置source="52, 0, 78, 17"，source指的是我们需要引用的区域。点击保存。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/18/62/OoEIhHam_o.png"></p> 
<p style="text-indent:33px;">依次我们要设置normalimage，hotimage, pushimage三个属性图片，分别对应鼠标三种状态：普通状态，悬停状态，按下状态。</p> 
<p style="text-indent:33px;">后面的几个按钮，依葫芦画瓢，分别设置按钮的三种状态图。效果如下图</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/51/29/SDRuM3um_o.png"></p> 
<p style="text-indent:33px;">看起来很丑啊，还要再微调一下。</p> 
<p style="text-indent:33px;">选中HB，设置width=188, inset="0,1,3,0"。</p> 
<p style="text-indent:33px;">menubtn，设置width=26, height=17。</p> 
<p style="text-indent:33px;">minbtn，设置width=26, height=17。</p> 
<p style="text-indent:33px;">maxbtn，设置width=26, height=17。</p> 
<p style="text-indent:33px;">restorebtn，设置width=26, height=17。visible=false。</p> 
<p style="text-indent:33px;">closebtn，设置width=45, height=17。</p> 
<p style="text-indent:33px;">标题栏终于做好了。效果如下图。</p> 
<p style="text-indent:33px;"><img alt="" src="https://images2.imgbox.com/e1/06/KzzU2rIf_o.png"></p> 
<p style="text-indent:33px;">在这里，HA并没有设置width，也就是width=0，这时候它的大小是父控件根据窗口大小动态计算的。这也是duilib的一大特点。</p> 
<p style="text-indent:33px;"> </p> 
<p style="text-indent:33px;">今天先介绍到这里了。88~~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d75a44284d15aca04cd24d6da72f7dab/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机视觉（1）关于cvThreshold二值化函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/772046eb7d7de5627f981978feb2cab0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用 EndNote 9 引用参考文献</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>