<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>实验一 8255并行接口实验 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="实验一 8255并行接口实验" />
<meta property="og:description" content="上机实验实验目的实验内容实验原理8255 内部结构8255 三种工作方式8255 控制字 实验步骤实验代码关于代码的解释 扩展实验一实验题目实验代码关键代码段解读 扩展实验二实验题目实验代码关键代码解读 扩展实验三实验题目实验代码关键代码解读 并行接口单元由一片 8255 8255 8255 组成，其复位信号已连接到系统复位上，如下图所示。
上机实验 实验目的 学习利用并行接口芯片 8255 8255 8255 构成并行接口电路的基本方法；熟悉掌握并行接口芯片 8255 8255 8255 的基本性能、硬件连接和初始化编程方法。 实验内容 编写一个基本输入输出程序，使 8255 8255 8255 的 A A A 口为输入， B B B 口为输出，完成拨动开关到数据灯的数据传输。
要求：数据灯的显示随开关动态改变。
实验原理 8255 内部结构 8255 8255 8255 可作为单片机与多种外围设备连接时的中间接口电路。
8255 8255 8255 作为 主机与外设的连接芯片，
必须提供 与主机连接 的 3 个 总线接口，即数据线、地址线、控制线接口；同时必须具有 与外设连接 的接口，即 A A A、 B B B、 C C C 口；由于 8255 8255 8255 可编程，所以必须具有 逻辑控制 部分； 因而 8255 8255 8255 内部结构分为 3 个部分：与CPU连接部分、与外设连接部分、控制部分。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f1889491aa38560ac2061bcf0c68c8a1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-19T22:49:28+08:00" />
<meta property="article:modified_time" content="2023-10-19T22:49:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">实验一 8255并行接口实验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4> </h4> 
 <ul><li><a href="#_5" rel="nofollow">上机实验</a></li><li><ul><li><a href="#_6" rel="nofollow">实验目的</a></li><li><a href="#_9" rel="nofollow">实验内容</a></li><li><a href="#_13" rel="nofollow">实验原理</a></li><li><ul><li><a href="#8255__14" rel="nofollow">8255 内部结构</a></li><li><a href="#8255__51" rel="nofollow">8255 三种工作方式</a></li><li><a href="#8255__64" rel="nofollow">8255 控制字</a></li></ul> 
   </li><li><a href="#_78" rel="nofollow">实验步骤</a></li><li><a href="#_128" rel="nofollow">实验代码</a></li><li><a href="#_172" rel="nofollow">关于代码的解释</a></li></ul> 
  </li><li><a href="#_227" rel="nofollow">扩展实验一</a></li><li><ul><li><a href="#_228" rel="nofollow">实验题目</a></li><li><a href="#_231" rel="nofollow">实验代码</a></li><li><a href="#_265" rel="nofollow">关键代码段解读</a></li></ul> 
  </li><li><a href="#_276" rel="nofollow">扩展实验二</a></li><li><ul><li><a href="#_277" rel="nofollow">实验题目</a></li><li><a href="#_281" rel="nofollow">实验代码</a></li><li><a href="#_320" rel="nofollow">关键代码解读</a></li></ul> 
  </li><li><a href="#_333" rel="nofollow">扩展实验三</a></li><li><ul><li><a href="#_334" rel="nofollow">实验题目</a></li><li><a href="#_338" rel="nofollow">实验代码</a></li><li><a href="#_399" rel="nofollow">关键代码解读</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>并行接口单元由一片 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 组成，其复位信号已连接到系统复位上，如下图所示。</p> 
<p><img src="https://images2.imgbox.com/19/e7/1azTX1Ar_o.jpg" alt="在这里插入图片描述"></p> 
<h2><a id="_5"></a>上机实验</h2> 
<h3><a id="_6"></a>实验目的</h3> 
<ol><li>学习利用并行接口芯片 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 构成并行接口电路的基本方法；</li><li>熟悉掌握并行接口芯片 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的基本性能、硬件连接和初始化编程方法。</li></ol> 
<h3><a id="_9"></a>实验内容</h3> 
<p>编写一个基本输入输出程序，使 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口为输入，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口为输出，完成拨动开关到数据灯的数据传输。</p> 
<p>要求：数据灯的显示随开关动态改变。</p> 
<h3><a id="_13"></a>实验原理</h3> 
<h4><a id="8255__14"></a>8255 内部结构</h4> 
<p><strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 可作为单片机与多种外围设备连接时的中间接口电路。</strong></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 作为 <strong>主机与外设的连接芯片</strong>，</p> 
<ul><li>必须提供 <strong>与主机连接</strong> 的 3 个 <strong>总线接口</strong>，即数据线、地址线、控制线接口；</li><li>同时必须具有 <strong>与外设连接</strong> 的接口，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
       
         C 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口；</li><li>由于 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 可编程，所以必须具有 <strong>逻辑控制</strong> 部分；</li></ul> 
<p>因而 <strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 内部结构分为 3 个部分：与CPU连接部分、与外设连接部分、控制部分</strong>。</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的内部结构及引脚如图 3-1-1 所示，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 工作方式控制字和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
      
        C 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口按位置位/复位控制字格式如图 3-1-2 和图 3-1-3 所示。</p> 
<p><img src="https://images2.imgbox.com/7a/d3/uGA32nh9_o.jpg" alt="在这里插入图片描述"><br> <strong>与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 连接部分：</strong></p> 
<ul><li>数据总线 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          B 
         
        
       
         DB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>：编号为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          0 
         
        
       
         D0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          7 
         
        
       
         D7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">7</span></span></span></span></span>，用于 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 传送 8 位数据。</li><li>地址总线 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          B 
         
        
       
         AB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>：编号为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
       
         A0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
       
         A1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span>，用于选择 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
       
         C 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口与控制寄存器。</li><li>控制总线 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          B 
         
        
       
         CB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">CB</span></span></span></span></span>：片选信号 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span>、复位信号 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          R 
         
        
          E 
         
        
          S 
         
        
          E 
         
        
          T 
         
        
       
         RESET 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">RESET</span></span></span></span></span>、写信号 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          W 
         
        
          R 
         
        
       
         WR 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">W</span><span class="mord mathnormal" style="margin-right: 0.0077em;">R</span></span></span></span></span>、读信号 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          R 
         
        
          D 
         
        
       
         RD 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0077em;">R</span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span></span></span></span></span>。当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 要对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 进行读、写操作时，必须 <strong>先向 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 发片选信号</strong> 选中 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 芯片，<strong>然后发读信号或写信号</strong> 对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 进行读或写数据的操作。</li></ul> 
<p><img src="https://images2.imgbox.com/84/84/MiwQr4Og_o.jpg" alt="在这里插入图片描述"></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         0 
        
       
      
        A0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         1 
        
       
      
        A1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 接口是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的地址选择线，用来选择 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         A 
        
       
      
        PA 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         B 
        
       
      
        PB 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
      
        PC 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span></span></span></span></span> 口和控制寄存器。</p> 
<ul><li>当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
          = 
         
        
          0 
         
        
       
         A1=0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
          = 
         
        
          0 
         
        
       
         A0=0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
       
         PA 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口被选择；</li><li>当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
          = 
         
        
          0 
         
        
       
         A1=0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
          = 
         
        
          1 
         
        
       
         A0=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          B 
         
        
       
         PB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口被选择；</li><li>当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
          = 
         
        
          1 
         
        
       
         A1=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
          = 
         
        
          0 
         
        
       
         A0=0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          C 
         
        
       
         PC 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span></span></span></span></span> 口被选择；</li><li>当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
          = 
         
        
          1 
         
        
       
         A1=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
          = 
         
        
          1 
         
        
       
         A0=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 时，控制寄存器被选择。</li></ul> 
<p>这样，<strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 可以通过两根地址线来访问 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的四个端口</strong>。</p> 
<p><strong>与外设连接部分：</strong><br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
      
        C 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口：编号分别为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         A 
        
       
         0 
        
       
      
        PA0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         A 
        
       
         7 
        
       
      
        PA7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">7</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         B 
        
       
         0 
        
       
      
        PB0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">0</span></span></span></span></span> ~ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         B 
        
       
         7 
        
       
      
        PB7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">7</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         0 
        
       
      
        PC0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">0</span></span></span></span></span> ~ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         7 
        
       
      
        PC7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">7</span></span></span></span></span>，用于 <strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 向外设输入输出 8 位并行数据</strong>。</p> 
<p><strong>控制器部分</strong>：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 将 3 个通道分为两组，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         A 
        
       
         0 
        
       
      
        PA0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         A 
        
       
         7 
        
       
      
        PA7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">7</span></span></span></span></span> 与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         4 
        
       
      
        PC4 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">4</span></span></span></span></span> ～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         7 
        
       
      
        PC7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">7</span></span></span></span></span> 组成 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 组，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         B 
        
       
         0 
        
       
      
        PB0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         B 
        
       
         7 
        
       
      
        PB7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">7</span></span></span></span></span> 与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         0 
        
       
      
        PC0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">0</span></span></span></span></span>～<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         C 
        
       
         3 
        
       
      
        PC3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span><span class="mord">3</span></span></span></span></span> 组成 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 组。</p> 
<ul><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 组控制器：控制 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口与上 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
       
         C 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口的输入与输出。</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 组控制器：控制 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口与下 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
       
         C 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 口的输入与输出。</li></ul> 
<h4><a id="8255__51"></a>8255 三种工作方式</h4> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 可编程外围接口芯片是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         n 
        
       
         t 
        
       
         e 
        
       
         l 
        
       
      
        Intel 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span></span></span></span></span> 公司生产的通用并行 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         / 
        
       
         O 
        
       
      
        I/O 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span></span></span></span></span> 接口芯片，它具有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
      
        C 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 三个 8 位的并行输入/输出接口，用 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         + 
        
       
         5 
        
       
         V 
        
       
      
        +5V 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mord">5</span><span class="mord mathnormal" style="margin-right: 0.2222em;">V</span></span></span></span></span> 单电源供电，能在以下三种方式下工作：</p> 
<ul><li>方式 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
       
         0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>：<strong>基本输入/输出方式</strong>；</li></ul> 
<blockquote> 
 <ul><li>这种方式下，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
        
          A 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           B 
          
         
        
          B 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           C 
          
         
        
          C 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 端口都可以设定为输入或输出，各端口的输入/输出可以构成 16 种组合。</li><li>这种方式适用于 <strong>无条件或查询方式的数据传送</strong>。</li></ul> 
</blockquote> 
<ul><li>方式 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          1 
         
        
       
         1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>：<strong>选通输入/输出方式</strong>。</li></ul> 
<blockquote> 
 <ul><li>这种方式下，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
        
          A 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           B 
          
         
        
          B 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 端口可以作为数据端口，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           C 
          
         
        
          C 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 端口的一部分可以作为控制和状态信号端口。</li><li>这种方式适用于 <strong>中断控制方式的数据传送</strong>。</li></ul> 
</blockquote> 
<ul><li>方式 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          2 
         
        
       
         2 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span>：<strong>双向传送方式</strong>。</li></ul> 
<blockquote> 
 <ul><li>这种方式下，只有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
        
          A 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 端口可以工作在这种方式，它可以实现双向的数据传送，即既能发送数据也能接收数据。<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           C 
          
         
        
          C 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 端口的一部分也用作控制和状态信号端口。</li><li>这种方式 <strong>适用于中断控制方式，并通过时序控制数据的输入/输出</strong>。</li></ul> 
</blockquote> 
<h4><a id="8255__64"></a>8255 控制字</h4> 
<p><img src="https://images2.imgbox.com/2a/37/67o9DP1b_o.jpg" alt="在这里插入图片描述"></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的 <strong>工作方式</strong> 由 <strong>控制字</strong> 来确定，<strong>控制字是由 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 写入 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的控制寄存器中的一个字节</strong>。</p> 
<p>控制字有两种格式，</p> 
<ul><li>一种是用来 <strong>选择工作方式和 I/O 方向的方式选择控制字</strong>，写入的地址是 <strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 控制口的地址</strong>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
          A 
         
        
          0 
         
        
          = 
         
        
          11 
         
        
       
         A1A0=11 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">11</span></span></span></span></span>）。</li><li>另一种是用来 <strong>单独对端口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           C 
          
         
        
          C 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span> 的每一位进行置位或复位操作的置位/复位控制字</strong>。</li></ul> 
<p><img src="https://images2.imgbox.com/d8/90/8CaqpUjy_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="_78"></a>实验步骤</h3> 
<p>（1）关闭实验箱电源。</p> 
<p>（2）实验接线如图3-1-4 所示，按图连接实验线路。</p> 
<p>（3）编写实验程序，经编译、链接无误后装入系统。</p> 
<p>（4）运行程序，拨动开关，同时观察 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         L 
        
       
         E 
        
       
         D 
        
       
      
        LED 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right: 0.0576em;">E</span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span></span></span></span></span> 显示，验证程序功能。</p> 
<p><img src="https://images2.imgbox.com/48/17/HLNJiWGt_o.jpg" alt="在这里插入图片描述"></p> 
<p>关于系统总线的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         1 
        
       
      
        XA1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         2 
        
       
      
        XA2 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         0 
        
       
      
        A0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         1 
        
       
      
        A1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span>：</p> 
<ul><li>系统总线的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          X 
         
        
          A 
         
        
          1 
         
        
       
         XA1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          X 
         
        
          A 
         
        
          2 
         
        
       
         XA2 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span></span></span></span></span> 接口是 <strong>系统总线的地址选择线</strong>，用来 <strong>选择系统总线上的不同设备或芯片</strong>。</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          0 
         
        
       
         A0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          1 
         
        
       
         A1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 接口是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <strong>地址选择线</strong>，用来 <strong>选择 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           P 
          
         
           A 
          
         
        
          PA 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           P 
          
         
           B 
          
         
        
          PB 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           P 
          
         
           C 
          
         
        
          PC 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span></span></span></span></span> 口和控制寄存器</strong>。</li></ul> 
<p>当使用 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片时，需要将系统总线的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         1 
        
       
      
        XA1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         2 
        
       
      
        XA2 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span></span></span></span></span> 接口与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         0 
        
       
      
        A0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         1 
        
       
      
        A1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 接口相连，从而 <strong>实现系统总线和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片之间的地址匹配和数据传输</strong>。</p> 
<p>具体来说，当系统总线上的某个设备（如 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
         P 
        
       
         U 
        
       
      
        CPU 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span>）要访问 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片时，它 <strong>需要在系统总线上发出一个地址信号</strong>，这个地址信号的：</p> 
<ul><li><strong>最低两位</strong>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          X 
         
        
          A 
         
        
          1 
         
        
       
         XA1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          X 
         
        
          A 
         
        
          2 
         
        
       
         XA2 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span></span></span></span></span>）用来确定要访问的是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的哪个端口（<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
       
         PA 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          B 
         
        
       
         PB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          C 
         
        
       
         PC 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span></span></span></span></span> 口或控制寄存器），</li><li>而其他位用来确定要访问的是哪个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片（因为可能有多个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片连接在系统总线上）。</li></ul> 
<p>这时，系统总线上的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         1 
        
       
      
        XA1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         X 
        
       
         A 
        
       
         2 
        
       
      
        XA2 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span></span></span></span></span> 信号会传递给 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         0 
        
       
      
        A0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         1 
        
       
      
        A1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span></span></span></span></span> 接口，从而使得 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片能够识别出自己是否被选中，以及被选中后要访问的是哪个端口。</p> 
<p>【举个例子】</p> 
<pre><code>	EQU CONTROL 0646H
	
	MOV AL,090H    ;方式字    
	MOV DX,CONTROL ;找到8255控制口的地址
    OUT DX,AL      ;方式字送控制口
</code></pre> 
<ul><li>首先，<code>MOV AL,090H</code> 这条指令是将 <code>090H</code> 这个方式字存入 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 寄存器中，这个方式字是用来设置 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的工作方式的。</li><li>然后，<code>MOV DX,CONTROL</code> 这条指令是将 <code>CONTROL</code> 这个常量存入 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          X 
         
        
       
         DX 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span> 寄存器中，这个常量是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的控制寄存器的地址，本实验中它是 <code>0646H</code>。</li><li>最后，<code>OUT DX,AL</code> 这条指令是将 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 寄存器中的数据（即 <code>090H</code>）送到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          X 
         
        
       
         DX 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span> 寄存器中的地址（即 <code>0646H</code>）对应的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          / 
         
        
          O 
         
        
       
         I/O 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span></span></span></span></span> 设备（即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span>）上。</li></ul> 
<p>那么，<code>OUT DX,AL</code> 这条指令是怎么实现的呢？</p> 
<ul><li>首先，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          P 
         
        
          U 
         
        
       
         CPU 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">CP</span><span class="mord mathnormal" style="margin-right: 0.109em;">U</span></span></span></span></span> 会将 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          X 
         
        
       
         DX 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span> 寄存器中的内容（即 <code>0646H</code>）送到地址总线上，同时将 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 寄存器中的内容（即 <code>090H</code>）送到数据总线上。</li><li>然后，系统总线的译码器来识别这个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          / 
         
        
          O 
         
        
       
         I/O 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span></span></span></span></span> 地址（<code>0646H</code>），并产生相应的信号来选择相应的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          / 
         
        
          O 
         
        
       
         I/O 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span></span></span></span></span> 设备。</li><li>按照 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 标准配置，这里当系统总线上发出地址信号时，译码器会根据地址信号的高位来产生一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 信号，用来选择哪一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span>；同时，地址信号的低两位会直接作为 <code>XA1=1</code> 和 <code>XA2=1</code> 的信号，用来选择控制寄存器。</li></ul> 
<blockquote> 
 <p>【WARNING】</p> 
 <ul><li>这里 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           0646 
          
         
           H 
          
         
        
          0646H 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0646</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 的低两位是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           X 
          
         
           A 
          
         
           1 
          
         
           = 
          
         
           0 
          
         
        
          XA1=0 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           X 
          
         
           A 
          
         
           2 
          
         
           = 
          
         
           1 
          
         
        
          XA2=1 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord mathnormal">A</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，这样会使 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
           0 
          
         
           = 
          
         
           0 
          
         
        
          A0=0 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
           1 
          
         
           = 
          
         
           1 
          
         
        
          A1=1 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，导致选通的是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           P 
          
         
           B 
          
         
        
          PB 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 而不是控制端口，使得控制字传输到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           B 
          
         
        
          B 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口而非控制端口，这就会出错；</li><li>可是实验指导书和实验结果都证明是没错的，可能的原因，我猜是因为唐都实验箱的配置和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片的标准配置不同。唐都实验箱可能对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 并行接口芯片进行了一些修改，使得它的控制寄存器的地址不是 <code>0646H</code>，而是其他的地址（最低两位是 1，满足 <code>A1=1</code>、<code>A0=1</code> 的条件从而选通控制口）。</li></ul> 
</blockquote> 
<p>连线参考图（注，本实验中 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
         S 
        
       
      
        CS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         O 
        
       
         Y 
        
       
         1 
        
       
      
        IOY1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span><span class="mord">1</span></span></span></span></span>）：</p> 
<p><img src="https://images2.imgbox.com/9f/04/3X7QTMxx_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_128"></a>实验代码</h3> 
<pre><code>;8255并行接口实验----总结四句话
;1. 送控制口方式字
;2. A口输入
;3. B口输出   
;4. 注意输入输出中间加延迟

PORTA EQU 0640H ;input ，为什么是0640H，见代码解释2
PORTB EQU 0642H ;output
CONTROL EQU 0646H

CODE SEGMENT
ASSUME CS:CODE

START:  
	MOV AL,090H  ;方式字，见代码解释1
    MOV DX,CONTROL ;找到8255控制口的地址
    OUT DX,AL  ;方式字送控制口
P:          
	MOV DX,PORTA ;找到8255的输入口A口
	IN AL,DX ;读入A口信号

    ;调用子程序 起延时作用
    ;因为一个脉冲很短，但是灯的亮与不亮有时间间隔，需要延迟时间  ！！！
	CALL DELAY

	MOV DX,PORTB ;找到8255的输出口B口
	OUT DX,AL ;送给B口信号让D0-D7控制数据灯的亮灭
	JMP P
              
DELAY:	
	PUSH CX
	MOV CX, 0F00H
AA2:	
	PUSH AX
	POP  AX
	LOOP AA2
	POP  CX
	RET

CODE ENDS
END START
</code></pre> 
<h3><a id="_172"></a>关于代码的解释</h3> 
<ol><li>由题目，<strong>基本输入输出程序，就是选择 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的方式 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           0 
          
         
        
          0 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           A 
          
         
        
          A 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口为输入，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           B 
          
         
        
          B 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口为输出，因此方式字是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           10000000 
          
         
           B 
          
         
        
          10000000B 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">10000000</span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           90 
          
         
           H 
          
         
        
          90H 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">90</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span></strong>。<br> 拨动开关控制数据灯的显示，这里说明我们 <strong>读进来的是开关信号，输出到数据灯进行显示</strong>。所以 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
          0 
         
        
          − 
         
        
          P 
         
        
          A 
         
        
          7 
         
        
       
         PA0-PA7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span><span class="mord">7</span></span></span></span></span> 连接开关及 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          L 
         
        
          E 
         
        
          D 
         
        
       
         LED 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right: 0.0576em;">E</span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span></span></span></span></span> 显示单元的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
          − 
         
        
          K 
         
        
          7 
         
        
       
         K0-K7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">7</span></span></span></span></span> ，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          B 
         
        
          0 
         
        
          − 
         
        
          P 
         
        
          B 
         
        
          7 
         
        
       
         PB0-PB7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span><span class="mord">7</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          0 
         
        
          − 
         
        
          D 
         
        
          7 
         
        
       
         D0-D7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">7</span></span></span></span></span> ，如下图所示：</li></ol> 
<p><img src="https://images2.imgbox.com/15/35/qe1CmFf3_o.jpg" alt="在这里插入图片描述"><br> 2. 由表3-1-1已经知道，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 实验控制端口地址，但是为什么端口地址是这个呢？ <strong>这与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 片选地址连接的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          O 
         
        
          Y 
         
        
       
         IOY 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span></span></span></span></span> 有关</strong>。</p> 
<ul><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          O 
         
        
          Y 
         
        
          0 
         
        
       
         IOY0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span><span class="mord">0</span></span></span></span></span> ，那么地址从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0600 
         
        
          H 
         
        
       
         0600H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0600</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 开始，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
       
         PA 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0600 
         
        
          H 
         
        
       
         0600H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0600</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          B 
         
        
       
         PB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0602 
         
        
          H 
         
        
       
         0602H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0602</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          C 
         
        
       
         PC 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">PC</span></span></span></span></span> 口端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0604 
         
        
          H 
         
        
       
         0604H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0604</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          O 
         
        
          N 
         
        
          T 
         
        
          R 
         
        
          O 
         
        
          L 
         
        
       
         CONTROL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">CONTRO</span><span class="mord mathnormal">L</span></span></span></span></span> 控制口的端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0606 
         
        
          H 
         
        
       
         0606H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0606</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>。</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          O 
         
        
          Y 
         
        
          1 
         
        
       
         IOY1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span><span class="mord">1</span></span></span></span></span>，那么地址从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0640 
         
        
          H 
         
        
       
         0640H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0640</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 开始到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0646 
         
        
          H 
         
        
       
         0646H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0646</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，就是本实验中所采用的。</li><li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 连接 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          O 
         
        
          Y 
         
        
          2 
         
        
       
         IOY2 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span><span class="mord">2</span></span></span></span></span> ，那么地址从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0680 
         
        
          H 
         
        
       
         0680H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0680</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 开始到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0686 
         
        
          H 
         
        
       
         0686H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0686</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>。</li></ul> 
<p>根据下图中 <strong>系统总线的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          I 
         
        
          O 
         
        
          Y 
         
        
          1 
         
        
       
         IOY1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mord mathnormal" style="margin-right: 0.2222em;">Y</span><span class="mord">1</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8255 
         
        
       
         8255 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 单元的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          S 
         
        
       
         CS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">CS</span></span></span></span></span> 接线可知，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          A 
         
        
       
         PA 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mord mathnormal">A</span></span></span></span></span> 口端口地址为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0640 
         
        
          H 
         
        
       
         0640H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0640</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          B 
         
        
       
         PB 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PB</span></span></span></span></span> 口端口地址为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0642 
         
        
          H 
         
        
       
         0642H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0642</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          O 
         
        
          N 
         
        
          T 
         
        
          R 
         
        
          O 
         
        
          L 
         
        
       
         CONTROL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">CONTRO</span><span class="mord mathnormal">L</span></span></span></span></span> 控制口端口地址为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0606 
         
        
          H 
         
        
       
         0606H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0606</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span></strong>。</p> 
<p><img src="https://images2.imgbox.com/0c/0f/Qn19aVlw_o.jpg" alt="在这里插入图片描述"><br> 3. <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8255 
        
       
      
        8255 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的 <strong>初始化</strong>，如下：</p> 
<ul><li><strong>方式字送控制口</strong>，程序段：</li></ul> 
<pre><code>	MOV AL,090H  ;方式字
    MOV DX,CONTROL ;找到8255控制口的地址
    OUT DX,AL  ;方式字送控制口
</code></pre> 
<ul><li><strong>输入输出口</strong>，程序段：</li></ul> 
<pre><code>	MOV DX,PORTA ;找到8255的输入口A口
	IN AL,DX ;读入A口信号
	
	CALL DELAY

	MOV DX,PORTB ;找到8255的输出口B口
	OUT DX,AL ;送给B口信号让D0-D7控制数据灯的亮灭
</code></pre> 
<ol start="4"><li><strong>出入是对于接口而言</strong>，比如 <code>IN</code> 即 <strong>从接口进来</strong>，方向是从接口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          P 
         
        
          O 
         
        
          R 
         
        
          T 
         
        
          A 
         
        
       
         PORTA 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">PORT</span><span class="mord mathnormal">A</span></span></span></span></span> 到内部的寄存器 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 。汇编中 <strong><code>IN</code> 语句的数据传送方向是从右到左</strong>，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          X 
         
        
       
         DX 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span> 传送到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span>。</li></ol> 
<pre><code>	MOV DX,PORTA ;找到8255的输入口A口
	IN AL,DX ;读入A口信号
</code></pre> 
<p><code>OUT</code> 即 <strong>从接口出去</strong>，方向是从内部的寄存器 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         L 
        
       
      
        AL 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 到外部接口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         P 
        
       
         O 
        
       
         R 
        
       
         T 
        
       
         B 
        
       
      
        PORTB 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">PORTB</span></span></span></span></span>。汇编中 <strong><code>OUT</code> 语句的数据传送方向也是从右到左</strong>，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         L 
        
       
      
        AL 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 传送到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         D 
        
       
         X 
        
       
      
        DX 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span>。</p> 
<pre><code>	MOV DX,PORTB ;找到8255的输出口B口
	OUT DX,AL ;送给B口信号让D0-D7控制数据灯的亮灭
</code></pre> 
<ol start="5"><li>注意这里，如果端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          8 
         
        
          b 
         
        
          i 
         
        
          t 
         
        
       
         8bit 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">8</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span></span></span></span></span>，可以直接输出到这个端口地址而不用先把端口地址送到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          X 
         
        
       
         DX 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span>，但是 <strong>如果端口地址是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           16 
          
         
           b 
          
         
           i 
          
         
           t 
          
         
        
          16bit 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">16</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span></span></span></span></span>，如本实验中 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           8255 
          
         
        
          8255 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">8255</span></span></span></span></span> 的端口地址均为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           16 
          
         
           b 
          
         
           i 
          
         
           t 
          
         
        
          16bit 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">16</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span></span></span></span></span>，那么必须先把端口地址送到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           D 
          
         
           X 
          
         
        
          DX 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span></span></span></span></span>，再进行 <code>IN</code> 和 <code>OUT</code> 操作</strong>。</li></ol> 
<p>下面举例一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         8 
        
       
         b 
        
       
         i 
        
       
         t 
        
       
      
        8bit 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">8</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span></span></span></span></span> 端口地址 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         60 
        
       
         H 
        
       
      
        60H 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">60</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，</p> 
<pre><code>	MOV AL,80H 	;1000 0000B，是LED7亮，其他灯灭
	OUT 60H,AL 	;A口地址为60H，且为输出口，把控制灯亮灭的信号送A口输出
</code></pre> 
<p>本实验中，<strong>读开关信号，控制数据灯亮灭，所以 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口连接的开关信号 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
          − 
         
        
          K 
         
        
          7 
         
        
       
         K0-K7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">7</span></span></span></span></span> 就是输入口，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口连接的数据灯亮灭的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          D 
         
        
          0 
         
        
          − 
         
        
          D 
         
        
          7 
         
        
       
         D0-D7 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord">7</span></span></span></span></span> 就是输出口，假如 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
       
         A 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 口读进来的开关信号全是高电平 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          11111111 
         
        
          B 
         
        
       
         1111 1111B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">11111111</span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span>，即开关全打开，那么数据灯就全亮</strong>。</p> 
<h2><a id="_227"></a>扩展实验一</h2> 
<h3><a id="_228"></a>实验题目</h3> 
<p>在基础实验上增加如下功能：<br> 若开关 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         7 
        
       
      
        K7 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">7</span></span></span></span></span>~<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         0 
        
       
      
        K0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 均为高电平，则程序退出。</p> 
<h3><a id="_231"></a>实验代码</h3> 
<pre><code>PORTA EQU 0640H ;input
PORTB EQU 0642H ;output
CONTROL EQU 0646H

CODE SEGMENT 'CODE'
	ASSUME CS:CODE
START:	
	MOV AL,90H ;方式字，A口输入B口输出
	MOV DX,CONTROL
	OUT DX,AL	;初始化8255控制字

BEGIN:	
	MOV DX,0640H ;A口输入开关信号
	IN AL,DX
	MOV DX,0642H ;B口输出数据灯亮灭信号
	OUT DX,AL

	CMP AL,0FFH	;1111 1111B ,K7-K0均为高电平,比较AL和0FFH相等时跳转到EXIT
	JZ  EXIT
	JMP BEGIN

EXIT:	
	MOV AL,00H	;关所有灯
	MOV DX,0642H
	OUT DX,AL
	
	MOV AH,4CH
	INT 21H
	
CODE ENDS
END START
</code></pre> 
<h3><a id="_265"></a>关键代码段解读</h3> 
<pre><code>	CMP AL,0FFH	;1111 1111B ,K7-K0均为高电平,比较AL和0FFH相等时跳转到EXIT
	JZ  EXIT
	JMP BEGIN
</code></pre> 
<ul><li>这里展示了如何用汇编语言表示 <code>if-else</code>，通过 <code>CMP</code> 语句对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
          F 
         
        
          F 
         
        
          H 
         
        
       
         0FFH 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.1389em;">FF</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 进行比较，这条语句不会改变 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 的值，但是把 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
          F 
         
        
          F 
         
        
          H 
         
        
       
         0FFH 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.1389em;">FF</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 相减（比较是用相减结果是否为零来看是否相同的），如果结果为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
       
         0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> 会影响标志位 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          Z 
         
        
          F 
         
        
          = 
         
        
          1 
         
        
       
         ZF=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>（<strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           Z 
          
         
           F 
          
         
        
          ZF 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span></span></span></span></span> 是零标志位，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           Z 
          
         
           F 
          
         
        
          ZF 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span></span></span></span></span> 的值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           1 
          
         
        
          1 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 时代表结果全零，反之不全为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           0 
          
         
        
          0 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span></strong>）。</li><li><code>JZ</code> 则是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          Z 
         
        
          F 
         
        
          = 
         
        
          1 
         
        
       
         ZF=1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> 时跳转，这里即 <code>CMP</code> 比较的两者相等时跳转到其后的 <code>EXIT</code>，否则继续 <code>BEGIN</code> 循环。因为 <code>CMP</code> 比较结果会影响标志位 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          Z 
         
        
          F 
         
        
       
         ZF 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span></span></span></span></span>，比较的两者相等时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          Z 
         
        
          F 
         
        
          = 
         
        
          1 
         
        
       
         ZF = 1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">ZF</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，<code>JZ</code> 跳转。</li></ul> 
<h2><a id="_276"></a>扩展实验二</h2> 
<h3><a id="_277"></a>实验题目</h3> 
<p>编写程序实现如下功能：<br> 当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         0 
        
       
      
        K0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 为高电平时，数据灯高 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         4 
        
       
      
        4 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位亮；<br> 当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         0 
        
       
      
        K0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 为低电平时，数据灯低 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         4 
        
       
      
        4 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位亮。</p> 
<h3><a id="_281"></a>实验代码</h3> 
<pre><code>PORTA EQU 0640H ;input
PORTB EQU 0642H ;output
CONTROL EQU 0646H

CODE SEGMENT 'CODE'
	ASSUME CS:CODE
	
START:	
	MOV AL,90H ;方式字，A口输入B口输出
	MOV DX,CONTROL
	OUT DX,AL	;初始化8255控制字

HIGH:	
	MOV DX,0640H
	IN AL,DX

	AND AL,00000001B	;只保留K0其他位归零
	CMP AL,00H	;K0为0时跳转到LOW 让低4位数据灯亮
	JZ LOW
	
	MOV AL,0F0H   ;K0为1时让高4位数据灯亮
	MOV DX,0642H
	OUT DX,AL
	JMP HIGH

LOW:	
	MOV AL,0FH	;K0为低电平，数据灯低4位亮
	MOV DX,0642H
	OUT DX,AL
	JMP HIGH

	MOV AH,4CH
	INT 21H

CODE ENDS
END START
</code></pre> 
<h3><a id="_320"></a>关键代码解读</h3> 
<pre><code>	AND AL,00000001B	;只保留K0其他位归零
	CMP AL,00H			;K0为0时跳转到LOW 让低4位数据灯亮
	JZ LOW
</code></pre> 
<ul><li>这里只需要保留 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 位即可，由 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 位的值来控制数据灯的亮灭，因此让读进来的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          01 
         
        
          H 
         
        
       
         01H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">01</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 相与即可得到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 的值。</li><li>再 <code>CMP</code> 比较 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          00 
         
        
          H 
         
        
       
         00H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">00</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，如果相等，说明 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
       
         0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>，否则 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          1 
         
        
       
         1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>。</li><li>再根据 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 高电平时点亮数据灯高 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          4 
         
        
       
         4 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位，就送 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
          F 
         
        
          0 
         
        
          H 
         
        
       
         0F0H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 信号；<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          0 
         
        
       
         K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 低电平时点亮数据灯低 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          4 
         
        
       
         4 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位，就送 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          0 
         
        
          F 
         
        
          H 
         
        
       
         0FH 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 信号。</li></ul> 
<h2><a id="_333"></a>扩展实验三</h2> 
<h3><a id="_334"></a>实验题目</h3> 
<p>编写程序实现如下功能：<br> 当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         1 
        
       
         K 
        
       
         0 
        
       
         = 
        
       
         00 
        
       
      
        K1K0=00 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">00</span></span></span></span></span> 时，数据灯全部熄灭；当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         1 
        
       
         K 
        
       
         0 
        
       
         = 
        
       
         01 
        
       
      
        K1K0=01 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">01</span></span></span></span></span> 时，数据灯低 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         4 
        
       
      
        4 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位亮；<br> 当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         1 
        
       
         K 
        
       
         0 
        
       
         = 
        
       
         10 
        
       
      
        K1K0=10 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10</span></span></span></span></span> 时，数据灯高 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         4 
        
       
      
        4 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span> 位亮；当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
         1 
        
       
         K 
        
       
         0 
        
       
         = 
        
       
         11 
        
       
      
        K1K0=11 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">11</span></span></span></span></span> 时，数据灯全亮。</p> 
<h3><a id="_338"></a>实验代码</h3> 
<pre><code>PORTA EQU 0640H ;input
PORTB EQU 0642H ;output
CONTROL EQU 0646H

CODE SEGMENT 'CODE'
	ASSUME CS:CODE
	
START:	
	MOV AL,90H   ;方式字，A口输入B口输出
	MOV DX,CONTROL
	OUT DX,AL	 ;初始化8255控制字

A:	
	MOV DX,PORTA
	IN AL,DX

	AND AL,03H	;只保留K1K0其他位归零
	
	CMP AL,00H	;K1K0为00时跳转 
	JZ A00
	CMP AL,01H	;K1K0为01时跳转  
	JZ A01
	CMP AL,02H	;K1K0为10时跳转  
	JZ A10
	CMP AL,03H	;K1K0为11时跳转  
	JZ A11
	
A00:
	MOV AL,00H	;全熄灭
	MOV DX,PORTB
	OUT DX,AL
	JMP A
A01:	
	MOV AL,0FH	;低四位亮
	MOV DX,PORTB
	OUT DX,AL
	JMP A
A10:	
	MOV AL,0F0H	;高四位亮
	MOV DX,PORTB
	OUT DX,AL
	JMP A
A11:	
	MOV AL,0FFH	;全亮
	MOV DX,PORTB
	OUT DX,AL
	JMP A

B:	MOV AL,0FH
	MOV DX,PORTB
	OUT DX,AL
	JMP A

	MOV AH,4CH
	INT 21H
	
CODE ENDS
END START
</code></pre> 
<h3><a id="_399"></a>关键代码解读</h3> 
<pre><code>	AND AL,03H	;只保留K1K0其他位归零
	
	CMP AL,00H	;K1K0为00时跳转 
	JZ A00
	CMP AL,01H	;K1K0为01时跳转  
	JZ A01
	CMP AL,02H	;K1K0为10时跳转  
	JZ A10
	CMP AL,03H	;K1K0为11时跳转  
	JZ A11
</code></pre> 
<ul><li>这里只需要保留 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          1 
         
        
          K 
         
        
          0 
         
        
       
         K1K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 位即可，由 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          1 
         
        
          K 
         
        
          0 
         
        
       
         K1K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 位的值来控制数据灯的亮灭，因此让读进来的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          03 
         
        
          H 
         
        
       
         03H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">03</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span> 相与即可得到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
          1 
         
        
          K 
         
        
          0 
         
        
       
         K1K0 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">1</span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span><span class="mord">0</span></span></span></span></span> 的值。</li><li>再 <code>CMP</code> 分别比较 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          A 
         
        
          L 
         
        
       
         AL 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          00 
         
        
          H 
         
        
       
         00H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">00</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          01 
         
        
          H 
         
        
       
         01H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">01</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          02 
         
        
          H 
         
        
       
         02H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">02</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          03 
         
        
          H 
         
        
       
         03H 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">03</span><span class="mord mathnormal" style="margin-right: 0.0813em;">H</span></span></span></span></span>，如果相等，就跳转到各自的部分去执行，送 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
       
         B 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 口相应信号点亮相应的数据灯。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c862f009b66630399b5aeaa543f33df9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GEE：快速下载数字高程DEM数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dcfc3064a88977890ed0008fbe846094/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux screen会话管理 断开连接恢复会话</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>