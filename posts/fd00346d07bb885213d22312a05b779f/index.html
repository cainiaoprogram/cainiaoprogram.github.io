<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何将JSON字符串数组转对象集合 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何将JSON字符串数组转对象集合" />
<meta property="og:description" content="1、JSON字符串数组转对象集合 String json =&#34;json数组数据&#34;; JSONArray res = JSON.getJSONArray(json); //用json的方法toJavaList，参数放入想转的集合对象就可以了 List&lt;MonthTaskRes&gt; monthTaskRes = res.toJavaList(MonthTaskRes.class); 2、将java对象转换为json字符串 利用json与java对象之间可以相互转换的方式进行存值和取值 String s = JacksonUtils.getInstance().writeValueAsString(user); System.out.println(“对象转化字符串：”&#43;s)； User user1 = JacksonUtils.getInstance().readValue(s, User.class); System.out.println(user1 ); 3、json字符串与Java对象的转换 a&gt; 把Java对象列表转换成json对象数组，并转为字符串 JSONArray array=JSONArray.fromObject(list); String jsonString = array.toString(); b&gt; 把Java对象转换成json对象，并转化成字符串 JSONObject obj = JSONObject.fromObject(user); Log4jInit.ysulogger.debug(obj.toString()); c&gt; 把json字符串转换成Java对象数组 JSONArray json=JSONArray.fromObject(jsonString);//jsonString字符串数组 List&lt;User&gt; list =(List&lt;User&gt;) JSONArray .toCollection(json,User.class)； d&gt; 把字符串转换成java对象 JSONObject obj = JSONObject.fromObject(jsonString);/jsonString字符串 User user= (User)JSONObject.toBean(obj,User.class); 4、步骤 1、、、引入jar 包
&lt;!-- fastjson依赖 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fd00346d07bb885213d22312a05b779f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-10T18:36:36+08:00" />
<meta property="article:modified_time" content="2023-01-10T18:36:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何将JSON字符串数组转对象集合</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1JSON_0"></a>1、JSON字符串数组转对象集合</h3> 
<pre><code>String json ="json数组数据";
JSONArray res = JSON.getJSONArray(json);
//用json的方法toJavaList，参数放入想转的集合对象就可以了
List&lt;MonthTaskRes&gt; monthTaskRes = res.toJavaList(MonthTaskRes.class);

</code></pre> 
<h3><a id="2javajson_8"></a>2、将java对象转换为json字符串</h3> 
<pre><code>利用json与java对象之间可以相互转换的方式进行存值和取值

String s = JacksonUtils.getInstance().writeValueAsString(user);
System.out.println(“对象转化字符串：”+s)；
User user1 = JacksonUtils.getInstance().readValue(s, User.class);
System.out.println(user1 );

</code></pre> 
<h3><a id="3jsonJava_18"></a>3、json字符串与Java对象的转换</h3> 
<pre><code>a&gt; 把Java对象列表转换成json对象数组，并转为字符串

JSONArray array=JSONArray.fromObject(list);
String jsonString = array.toString();

b&gt; 把Java对象转换成json对象，并转化成字符串

JSONObject obj = JSONObject.fromObject(user);
Log4jInit.ysulogger.debug(obj.toString());

c&gt; 把json字符串转换成Java对象数组

JSONArray json=JSONArray.fromObject(jsonString);//jsonString字符串数组
List&lt;User&gt; list =(List&lt;User&gt;) JSONArray .toCollection(json,User.class)；

d&gt; 把字符串转换成java对象

JSONObject obj = JSONObject.fromObject(jsonString);/jsonString字符串
User user= (User)JSONObject.toBean(obj,User.class);

</code></pre> 
<h3><a id="4_41"></a>4、步骤</h3> 
<blockquote> 
 <p>1、、、引入jar 包</p> 
</blockquote> 
<pre><code>&lt;!-- fastjson依赖 --&gt;
&lt;dependency&gt;
&lt;groupId&gt;com.alibaba&lt;/groupId&gt;
&lt;artifactId&gt;fastjson&lt;/artifactId&gt;
&lt;version&gt;1.2.76&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<blockquote> 
 <p>2、Java对象转成JSON格式</p> 
</blockquote> 
<pre><code>import com.alibaba.fastjson.JSON;
import com.example.study.entity.Student;

public class JsonStudy {
public static void main(String[] args) {
Student student = new Student("123","张三",18);
//直接输出，结果为：Student(id=123, name=张三, age=18)
System.out.println(student);
//转换为JSON格式输出，以下两种方法只有返回值不同
Object objectJson = JSON.toJSON(student);
String stringJSON = JSON.toJSONString(student);
//结果为：{"name":"张三","id":"123","age":18}
System.out.println(objectJson);
//结果为：{"name":"张三","id":"123","age":18}
System.out.println(stringJSON);
}
}
</code></pre> 
<blockquote> 
 <p>3、JSON格式字符串转换成Java对象<br> 3.1、直接将JSON字符串转换成Java对象</p> 
</blockquote> 
<pre><code>import com.alibaba.fastjson.JSONObject;
import com.example.study.entity.Student;

public class JsonStudy {
public static void main(String[] args) {
//定义一个student类型的JSON字符串
String json = "{\"name\":\"张三\",\"id\":\"123\",\"age\":18}";
//将这个JSON字符串转换成Student对象
Student student = JSONObject.parseObject(json, Student.class);
//输出结果为：Student(id=123, name=张三, age=18)
System.out.println(student);
//输出结果为：张三
System.out.println(student.getName());
}
}

</code></pre> 
<blockquote> 
 <p>3.2、先将JSON字符串转换成JSON对象，再转换成Java对象</p> 
</blockquote> 
<pre><code>import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.example.study.entity.Student;

public class JsonStudy {
public static void main(String[] args) {
//定义一个student类型的JSON字符串
String json = "{\"name\":\"张三\",\"id\":\"123\",\"age\":18}";
//将这个JSON字符串转换成JSON对象
JSONObject jsonObject = JSONObject.parseObject(json);
//将JSON对象转换成Java对象
Student student1 = JSONObject.toJavaObject(jsonObject, Student.class);
Student student2 = JSON.toJavaObject(jsonObject, Student.class);

//输出结果为：Student(id=123, name=张三, age=18)
System.out.println(student1);
//输出结果为：张三
System.out.println(student1.getName());

//输出结果为：Student(id=123, name=张三, age=18)
System.out.println(student2);
//输出结果为：张三
System.out.println(student2.getName());
}
</code></pre> 
<blockquote> 
 <p>3.3、如果JSON字符串是一个JSON数组，并且数组里面存放的同一种类型的对象，可以将这个JSON数组转换成Java的List对象；</p> 
</blockquote> 
<pre><code>import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.example.study.entity.Student;

import java.util.ArrayList;
import java.util.List;

public class JsonStudy {
public static void main(String[] args) {
//new一个list对象
List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();
studentList.add(new Student("111","张三",18));
studentList.add(new Student("222","李四",20));
studentList.add(new Student("333","王五",23));

//获取list的JSON数组形式字符串
String listJsonString = JSON.toJSONString(studentList);
//结果为：[{"age":18,"id":"111","name":"张三"},{"age":20,"id":"222","name":"李四"},{"age":23,"id":"333","name":"王五"}]
System.out.println(listJsonString);

//将JSON字符串转换成List对象，List里面放的Student对象
List&lt;Student&gt; students = JSONObject.parseArray(listJsonString, Student.class);
//结果为：[Student(id=111, name=张三, age=18), Student(id=222, name=李四, age=20), Student(id=333, name=王五, age=23)]
System.out.println(students);
//结果为：3
System.out.println(students.size());
//结果为：Student(id=333, name=王五, age=23)
System.out.println(students.get(2));
}
}

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0e34e45c92c01dfe71ab7e284bc95017/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于MATLAB对系统的串联滞后校正</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab4f44a42aa1ef7a78bac3e3c3a6290d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ts 对象可能为“未定义 问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>