<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Jmeter - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jmeter" />
<meta property="og:description" content="目录
一、jmeter 安装
二、jmeter 介绍
1、jmeter是什么？
2、jmeter 用来做什么？
3、优点
4、缺点
5、jmeter 目录介绍
①_bin 目录介绍
② docs 目录 — — 接口文档目录
③ extras目录 — — 扩展插件目录
④ lib 目录 — — 所用到的插件目录
⑤ licenses 目录 — — jmeter 证书目录
⑥ printable_docs目录
三、jmeter 基本使用&amp;元件
1、jmeter 入门脚本
jmeter测试计划要素：
2、测试计划元件
3、元件的作用域
（1）原则：
（2）执行顺序
4、jmeter 第一个案例
5、jmeter 运行原理
6、jmeter配置文件修改
（1）修改中文乱码问题
（2）修改默认语言
四、jmeter核心知识
1、发送http请求
1）相关配置元件
2）http请求配置
2、jmeter 参数化***
1）参数化的概念
3）用户参数
5）总结参数化
3、jmeter 断言
1）常用断言
2）响应断言" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4f8aac1ad564c18683437625b0646d91/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-11T10:21:40+08:00" />
<meta property="article:modified_time" content="2023-06-11T10:21:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Jmeter</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div id="article_content" class="article_content clearfix"> 
 <div id="content_views" class="htmledit_views"> 
  <p id="main-toc"><strong>目录</strong></p> 
  <p id=""><a href="#t0" rel="nofollow noopener noreferrer" target="_blank">一、jmeter 安装</a></p> 
  <p id=""><a href="#t1" rel="nofollow noopener noreferrer" target="_blank">二、jmeter 介绍</a></p> 
  <p id=""><a href="#t2" rel="nofollow noopener noreferrer" target="_blank">1、jmeter是什么？</a></p> 
  <p id=""><a href="#t3" rel="nofollow noopener noreferrer" target="_blank">2、jmeter 用来做什么？</a></p> 
  <p id=""><a href="#t4" rel="nofollow noopener noreferrer" target="_blank">3、优点</a></p> 
  <p id=""><a href="#t5" rel="nofollow noopener noreferrer" target="_blank">4、缺点</a></p> 
  <p id=""><a href="#t6" rel="nofollow noopener noreferrer" target="_blank">5、jmeter 目录介绍</a></p> 
  <p id=""><a href="#t7" rel="nofollow noopener noreferrer" target="_blank">①_bin 目录介绍</a></p> 
  <p id=""><a href="#t8" rel="nofollow noopener noreferrer" target="_blank">② docs 目录 — — 接口文档目录</a></p> 
  <p id=""><a href="#t9" rel="nofollow noopener noreferrer" target="_blank">③ extras目录 — — 扩展插件目录</a></p> 
  <p id=""><a href="#t10" rel="nofollow noopener noreferrer" target="_blank">④ lib 目录 — —  所用到的插件目录</a></p> 
  <p id=""><a href="#t11" rel="nofollow noopener noreferrer" target="_blank">⑤ licenses 目录 — — jmeter 证书目录</a></p> 
  <p id=""><a href="#t12" rel="nofollow noopener noreferrer" target="_blank">⑥ printable_docs目录</a></p> 
  <p id=""><a href="#t13" rel="nofollow noopener noreferrer" target="_blank">三、jmeter 基本使用&amp;元件</a></p> 
  <p id=""><a href="#t14" rel="nofollow noopener noreferrer" target="_blank">1、jmeter 入门脚本</a></p> 
  <p id=""><a href="#t15" rel="nofollow noopener noreferrer" target="_blank">jmeter测试计划要素：</a></p> 
  <p id=""><a href="#t16" rel="nofollow noopener noreferrer" target="_blank"> 2、测试计划元件</a></p> 
  <p id=""><a href="#t17" rel="nofollow noopener noreferrer" target="_blank">3、元件的作用域</a></p> 
  <p id=""><a href="#t18" rel="nofollow noopener noreferrer" target="_blank">（1）原则：</a></p> 
  <p id=""><a href="#t19" rel="nofollow noopener noreferrer" target="_blank">（2）执行顺序</a></p> 
  <p id=""><a href="#t20" rel="nofollow noopener noreferrer" target="_blank">4、jmeter 第一个案例</a></p> 
  <p id=""><a href="#t21" rel="nofollow noopener noreferrer" target="_blank">5、jmeter 运行原理</a></p> 
  <p id=""><a href="#t22" rel="nofollow noopener noreferrer" target="_blank">6、jmeter配置文件修改</a></p> 
  <p id=""><a href="#t23" rel="nofollow noopener noreferrer" target="_blank">（1）修改中文乱码问题</a></p> 
  <p id=""><a href="#t24" rel="nofollow noopener noreferrer" target="_blank">（2）修改默认语言</a></p> 
  <p id=""><a href="#t25" rel="nofollow noopener noreferrer" target="_blank">四、jmeter核心知识</a></p> 
  <p id=""><a href="#t26" rel="nofollow noopener noreferrer" target="_blank">1、发送http请求</a></p> 
  <p id=""><a href="#t27" rel="nofollow noopener noreferrer" target="_blank">1）相关配置元件</a></p> 
  <p id=""><a href="#t28" rel="nofollow noopener noreferrer" target="_blank">2）http请求配置</a></p> 
  <p id=""><a href="#t29" rel="nofollow noopener noreferrer" target="_blank">2、jmeter 参数化***</a></p> 
  <p id=""><a href="#t30" rel="nofollow noopener noreferrer" target="_blank">1）参数化的概念</a></p> 
  <p id=""><a href="#t31" rel="nofollow noopener noreferrer" target="_blank">3）用户参数</a></p> 
  <p id=""><a href="#t32" rel="nofollow noopener noreferrer" target="_blank">5）总结参数化</a></p> 
  <p id=""><a href="#t33" rel="nofollow noopener noreferrer" target="_blank">3、jmeter 断言</a></p> 
  <p id=""><a href="#t34" rel="nofollow noopener noreferrer" target="_blank">1）常用断言</a></p> 
  <p id=""><a href="#t35" rel="nofollow noopener noreferrer" target="_blank">2）响应断言</a></p> 
  <p id=""><a href="#t36" rel="nofollow noopener noreferrer" target="_blank"> 3）Json 断言</a></p> 
  <p id=""><a href="#t37" rel="nofollow noopener noreferrer" target="_blank">​ 4）断言持续时间</a></p> 
  <p id=""><a href="#t38" rel="nofollow noopener noreferrer" target="_blank"> 4、jmeter 关联</a></p> 
  <p id=""><a href="#t39" rel="nofollow noopener noreferrer" target="_blank">1）jmeter 常用的关联方法</a></p> 
  <p id=""><a href="#t40" rel="nofollow noopener noreferrer" target="_blank"> 2)正则表达式提取器</a></p> 
  <p id=""><a href="#t41" rel="nofollow noopener noreferrer" target="_blank"> 3）xpath 提取器</a></p> 
  <p id=""><a href="#t42" rel="nofollow noopener noreferrer" target="_blank"> 4）JSON提取器</a></p> 
  <p id=""><a href="#t43" rel="nofollow noopener noreferrer" target="_blank">5）jmeter 的属性 -- 全局变量</a></p> 
  <p id=""><a href="#t44" rel="nofollow noopener noreferrer" target="_blank">5、 jmeter录制脚本</a></p> 
  <p id=""><a href="#t45" rel="nofollow noopener noreferrer" target="_blank">1）使用badboy录制</a></p> 
  <p id=""><a href="#t46" rel="nofollow noopener noreferrer" target="_blank">2）使用jmeter自身代理录制移动端</a></p> 
  <p id=""><a href="#t47" rel="nofollow noopener noreferrer" target="_blank">6、jmeter连接数据库 -- 以MySQL为例</a></p> 
  <p id=""><a href="#t48" rel="nofollow noopener noreferrer" target="_blank">1）使用数据库步骤</a></p> 
  <p id=""><a href="#t49" rel="nofollow noopener noreferrer" target="_blank">① 创建测试计划</a></p> 
  <p id=""><a href="#t50" rel="nofollow noopener noreferrer" target="_blank">② 创建线程组</a></p> 
  <p id=""><a href="#t51" rel="nofollow noopener noreferrer" target="_blank">③ 引入数据库驱动jar 包</a></p> 
  <p id=""><a href="#t52" rel="nofollow noopener noreferrer" target="_blank">④ 配置 JDBC Connectionn Configuration </a></p> 
  <p id=""><a href="#t53" rel="nofollow noopener noreferrer" target="_blank">⑤ 连接测试（JDBC Request）</a></p> 
  <p id=""><a href="#t54" rel="nofollow noopener noreferrer" target="_blank">7、逻辑控制器</a></p> 
  <p id=""><a href="#t55" rel="nofollow noopener noreferrer" target="_blank">1）如果（if）控制器</a></p> 
  <p id=""><a href="#t56" rel="nofollow noopener noreferrer" target="_blank">2）循环控制器</a></p> 
  <p id=""><a href="#t57" rel="nofollow noopener noreferrer" target="_blank">3）ForEach 控制器</a></p> 
  <p id=""><a href="#t58" rel="nofollow noopener noreferrer" target="_blank">8、定时器</a></p> 
  <p id=""><a href="#t59" rel="nofollow noopener noreferrer" target="_blank">1）同步定时器</a></p> 
  <p id=""><a href="#t60" rel="nofollow noopener noreferrer" target="_blank">2）常数吞吐量定时器 constant throughput timer</a></p> 
  <p id=""><a href="#t61" rel="nofollow noopener noreferrer" target="_blank">3）固定定时器***最常用**</a></p> 
  <hr id="hr-toc"> 
  <h2>一、jmeter 安装</h2> 
  <p>看文章：</p> 
 </div> 
</div> 
<p><img alt="" height="62" src="https://images2.imgbox.com/73/3d/eKLajEoC_o.png" width="993"></p> 
<p>解释：不要使用GUI模式进行压力测试，GUI模式仅仅用于创建和调试压力测试脚本的。</p> 
<h2 id="%E4%BA%8C%E3%80%81jmeter%20%E4%BB%8B%E7%BB%8D">二、jmeter 介绍</h2> 
<h3 id="1%E3%80%81jmeter%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">1、jmeter是什么？</h3> 
<p>jmeter：是Apche公司使用Java平台开发的一款测试工具。</p> 
<h3 id="2%E3%80%81jmeter%20%E7%94%A8%E6%9D%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F">2、jmeter 用来做什么？</h3> 
<ul><li><strong>接口测试</strong></li><li>性能测试</li><li><strong>压力测试</strong>（优势）</li><li>数据库测试</li><li>Java程序测试 （因为本身就是Java语言编写的）</li></ul> 
<h3 id="3%E3%80%81%E4%BC%98%E7%82%B9">3、优点</h3> 
<ul><li>开源免费</li><li>支持多协议 （http，tcp...）</li><li>轻量级</li><li>功能强大</li></ul> 
<h3 id="4%E3%80%81%E7%BC%BA%E7%82%B9">4、缺点</h3> 
<p>无法验证JS程序，也无法验证页面UI，所以必须要和 selenium 配合来完成web2.0应用的测试</p> 
<h3 id="5%E3%80%81jmeter%20%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D">5、jmeter 目录介绍</h3> 
<h4 id="%E2%91%A0_bin%20%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D">①_bin 目录介绍</h4> 
<div class="table-box"> 
 <table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th>examples</th><td>目录中有CSV样例</td></tr><tr><th>jmeter.bat</th><td>windows 的启动文件</td></tr><tr><th>jmeter.sh</th><td>Linux 的启动文件</td></tr><tr><th>jmeter.log</th><td>jmeter 运行日志文件</td></tr><tr><th>jmeter.properties</th><td>系统配置文件</td></tr><tr><th>jmeter-server.bat</th><td>windows 分布式测试要用到的服务器配置</td></tr><tr><th>jmeter-serrver</th><td>Linux 分布式测试要用到的服务器配置</td></tr></tbody></table> 
</div> 
<p><strong>jmeter.properties</strong> ：</p> 
<ul><li>打开：右击 --&gt; <img alt="" height="39" src="https://images2.imgbox.com/a4/ee/JYiqIlmI_o.png" width="125"></li><li>修改后需要重启 jmeter 使用</li></ul> 
<p>https=http+ssl</p> 
<h4 id="%E2%91%A1%20docs%20%E7%9B%AE%E5%BD%95%20%E2%80%94%20%E2%80%94%20%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%9B%AE%E5%BD%95">② docs 目录 — — 接口文档目录</h4> 
<p>例如：docs\api\index.html 可打开网页查看</p> 
<h4 id="%E2%91%A2%20extras%E7%9B%AE%E5%BD%95%20%E2%80%94%20%E2%80%94%20%E6%89%A9%E5%B1%95%E6%8F%92%E4%BB%B6%E7%9B%AE%E5%BD%95">③ extras目录 — — 扩展插件目录</h4> 
<p>提供了对 ant 的支持，可以使用 ant 实现自动化测试。例如批量脚本执行，产生html格式的报表</p> 
<p>测试运行时，可以把测试数据记录下来，jmeter会自动生成一个 .jtl 文件，将该文件放在extras目录下，运行“ant-Dtest=文件名 report”,就可以生成测试统计报表。</p> 
<h4 id="%E2%91%A3%20lib%20%E7%9B%AE%E5%BD%95%20%E2%80%94%20%E2%80%94%C2%A0%20%E6%89%80%E7%94%A8%E5%88%B0%E7%9A%84%E6%8F%92%E4%BB%B6%E7%9B%AE%E5%BD%95">④ lib 目录 — —  所用到的插件目录</h4> 
<p><img alt="" height="202" src="https://images2.imgbox.com/73/94/xSpoTzi6_o.png" width="870"></p> 
<h4 id="%E2%91%A4%20licenses%20%E7%9B%AE%E5%BD%95%20%E2%80%94%20%E2%80%94%20jmeter%20%E8%AF%81%E4%B9%A6%E7%9B%AE%E5%BD%95">⑤ licenses 目录 — — jmeter 证书目录</h4> 
<h4 id="%E2%91%A5%20printable_docs%E7%9B%AE%E5%BD%95">⑥ printable_docs目录</h4> 
<p><img alt="" height="67" src="https://images2.imgbox.com/f5/34/SZFQ1Wh1_o.png" width="880"></p> 
<p><img alt="" height="294" src="https://images2.imgbox.com/96/cf/9I0slfDP_o.png" width="1078"></p> 
<p><img alt="" height="950" src="https://images2.imgbox.com/5c/6f/55Zqu3rA_o.png" width="1200"></p> 
<p><img alt="" height="229" src="https://images2.imgbox.com/5e/72/dRZmhEHq_o.png" width="1191"></p> 
<p><img alt="" height="1003" src="https://images2.imgbox.com/8c/97/hIdUYuC4_o.png" width="1200"></p> 
<p>（网页可以翻译看）</p> 
<h2 id="%E4%B8%89%E3%80%81jmeter%20%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%26%E5%85%83%E4%BB%B6">三、jmeter 基本使用&amp;元件</h2> 
<h3 id="1%E3%80%81jmeter%20%E5%85%A5%E9%97%A8%E8%84%9A%E6%9C%AC">1、jmeter 入门脚本</h3> 
<ul><li>①添加测试计划 （当打开jmeter默认有一个测试计划）</li><li>②添加线程组 （右击测试计划--&gt;添加--&gt;线程--&gt;线程组）</li><li>③添加http请求 （右击线程组--&gt;取样器--&gt;http请求）</li><li>④配置http请求</li></ul> 
<h4 id="%E4%BA%94%E3%80%81jmeter%E6%B5%8B%E8%AF%95%E8%AE%A1%E5%88%92%E8%A6%81%E7%B4%A0">jmeter测试计划要素：</h4> 
<ul><li>测试计划（项目名称）</li><li>测试计划中至少有一个<u>线程组</u></li><li>线程组中至少有一个<u>取样器</u></li><li>测试计划中必须有<u>监听器</u></li></ul> 
<p><img alt="" height="754" src="https://images2.imgbox.com/0d/e0/SntxGRjx_o.png" width="1200"></p> 
<ul><li>⑤ 添加查看结果树（右击线程组--&gt;监听器--&gt;查看结果树）#查看结果树不做任何配置</li></ul> 
<p>编辑好脚本后，可以发送请求</p> 
<p><img alt="" height="634" src="https://images2.imgbox.com/f8/25/y5IY8Tgm_o.png" width="1200"></p> 
<p> <img alt="" height="235" src="https://images2.imgbox.com/51/80/CqECHfI3_o.png" width="333">save后默认发送请求</p> 
<p><img alt="" height="1016" src="https://images2.imgbox.com/76/a2/uDilwzOQ_o.png" width="1200"></p> 
<h3 id="%C2%A02%E3%80%81%E6%B5%8B%E8%AF%95%E8%AE%A1%E5%88%92%E5%85%83%E4%BB%B6"> 2、测试计划元件</h3> 
<p><img alt="" height="157" src="https://images2.imgbox.com/ed/0a/NSM7NO75_o.png" width="253"></p> 
<p><strong> 元件与组件的区别</strong></p> 
<ul><li>元件：多个类似功能组件的容器</li><li>组件：容器中实现单独的某个功能</li></ul> 
<p id="%E2%91%A0%E7%BA%BF%E7%A8%8B%E7%BB%84%E4%BB%8B%E7%BB%8D"><strong>①线程组介绍（不属于元件哦！放在一起学习而已）</strong></p> 
<p><img alt="" height="709" src="https://images2.imgbox.com/ee/01/HlqwMq3F_o.png" width="1200"></p> 
<p id="%E2%91%A1%20%E5%8F%96%E6%A0%B7%E5%99%A8%EF%BC%88sample%EF%BC%89"><strong>② 取样器（sample）</strong></p> 
<p>取样器是性能测试中<strong>向服务器发送请求，记录响应信息，记录响应时间</strong>的最小单位。</p> 
<p>jmeter支持不同取样器（即支持不同协议的请求）</p> 
<p id="%E2%91%A2%20%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88logic%20controller%EF%BC%89"><strong>③ 逻辑控制器（logic controller）</strong></p> 
<p>包括两类元件：</p> 
<ul><li>一类用于控制testplan中sampler节点发送请求的逻辑顺序的控制器，常用的有 if控制器，Switchcontroller、runtimecontroller、循环控制器等</li><li>另一类是用来组织可控制sampler节点的，如事务控制器、吞吐量控制器</li></ul> 
<p id="%E2%91%A3%20%E9%85%8D%E7%BD%AE%E5%85%83%E4%BB%B6%EF%BC%88config%20element%EF%BC%89"><strong>④ 配置元件（config element）</strong></p> 
<p>用来提供对静态数据的支持</p> 
<p id="%E2%91%A4%20%E5%AE%9A%E6%97%B6%E5%99%A8%EF%BC%88timer%EF%BC%89"><strong>⑤ 定时器（timer）</strong></p> 
<p>在操作之前设置等待时间（例如取样器与取样器之间，设置一个等待时间）</p> 
<p id="%E2%91%A5%20%E5%89%8D%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%88per%20processors%EF%BC%89"><strong>⑥ 前置处理器（per processors）</strong></p> 
<p>用于实际请求之前对即将<strong>发出的请求</strong>进行特殊处理</p> 
<p id="%E2%91%A6%20%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%88post%20processors%EF%BC%89"><strong>⑦ 后置处理器（post processors）</strong></p> 
<p>用于对sampler发出请求后得到的<strong>服务器响应</strong>进行处理</p> 
<p id="%E2%91%A7%20%E6%96%AD%E8%A8%80%EF%BC%88assertions%EF%BC%89"><strong>⑧ 断言（assertions）</strong></p> 
<p>用于<strong>检查测试中得到的响应数据等是否符合预期</strong>，assertions一般用来设置检查点，用以保证性能测试过程中的数据交互与预期是否一致</p> 
<p id="%E2%91%A8%20%E7%9B%91%E5%90%AC%E5%99%A8"><strong>⑨ 监听器</strong></p> 
<p>对测试结果进行处理和可视化展示的一系列组件</p> 
<h3 id="3%E3%80%81%E5%85%83%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F">3、元件的作用域</h3> 
<p>靠测试计划中元件树形结构的<strong>父子关系</strong>来确认</p> 
<p><img alt="" height="171" src="https://images2.imgbox.com/8c/ab/3giXX1fp_o.png" width="210"></p> 
<h4 id="%EF%BC%881%EF%BC%89%E5%8E%9F%E5%88%99%EF%BC%9A"><strong>（1）原则：</strong></h4> 
<p><strong>取样器</strong>：以取样器为核心，取样器没有作用域</p> 
<p><strong>逻辑控制器</strong>：只对子节点的取样器和逻辑控制器起作用</p> 
<p><strong>其他元件</strong>：</p> 
<ul><li>如果父节点是取样器，则只对其父节点起作用</li><li>如果父节点不是取样器，则该作用域是其父节点下的其他所有后代节点（子节点，子节点的子节点）</li></ul> 
<h4 id="%EF%BC%882%EF%BC%89%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><strong>（2）执行顺序</strong></h4> 
<p><strong>同一作用域下不同元件执行顺序</strong></p> 
<ul><li>配置元件 -- 前置处理器 -- 定时器 -- <strong>取样器</strong> -- 后置处理器 -- 断言 -- 监听器</li></ul> 
<p><strong>同一作用域下相同元件的执行顺序</strong></p> 
<ul><li>从上到下依次执行</li></ul> 
<p><strong>案例：执行顺序案例</strong></p> 
<p><img alt="" height="212" src="https://images2.imgbox.com/48/72/N9iH9hun_o.png" width="229"></p> 
<p>定时器1 -- 请求1 -- 定时器1 -- 定时器2 -- 请求2 -- 定时器1 -- 定时器3 -- 请求3</p> 
<p>解析：定时器1 的父节点不是取样器，所以对父节点下的所有后代节点都起作用</p> 
<h3 id="4%E3%80%81jmeter%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%A1%88%E4%BE%8B">4、jmeter 第一个案例</h3> 
<p><strong>需求</strong>：使用 jmeter 访问百度接口，并查看请求和响应信息</p> 
<p><strong>步骤：</strong></p> 
<ul><li>添加线程组</li><li>添加 HTTP 请求 并 配置</li><li>添加查看结果树</li></ul> 
<p><img alt="" height="616" src="https://images2.imgbox.com/6f/57/ozmYdVbf_o.png" width="1200"></p> 
<h3 id="%E5%9B%9B%E3%80%81jmeter%20%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86">5、jmeter 运行原理</h3> 
<p><strong>1、在 jmeter 中是以线程的方式运行的</strong></p> 
<blockquote> 
 <p>问：为什么以线程方式运行而不是进程？<br>         因为 jmeter 是运行在jvm虚拟机上的，每个进程的开销比较大，如果以进程的方式来运行的话，每台负载机上的进程数量就不会允许太多，当我们需要大量并发时就需要大量的负载机，这显然是不经济的，再者Java也是支持多线程的，所以 jmeter 选择了以线程的方式来运行。</p> 
</blockquote> 
<p><strong>2、jmeter通过线程组来驱动多个线程运行测试脚本，对被测服务器发起负载，每个负载机上都可以运行多个线程组。</strong></p> 
<p><strong>jmeter运行场景：</strong></p> 
<ul><li>GUI模式（界面模式）（主要用来编写和调试jmeter测试脚本）</li><li>命令行模式（对负载机的资源消耗会更小）（用来实现高并发和压力测试）</li></ul> 
<p>在资源有限的情况下，都是用命令行模式来执行jmeter脚本的，而页面模式是用来前期创建脚本或者调试脚本的</p> 
<p>负载机：执行jmeter脚本的电脑</p> 
<h3 id="%E5%85%AD%E3%80%81jmeter%E5%BD%95%E5%88%B6%E8%84%9A%E6%9C%AC%EF%BC%88%E4%BD%BF%E7%94%A8badboy%E5%BD%95%E5%88%B6%EF%BC%89">6、jmeter配置文件修改</h3> 
<p>bin --&gt; jmeter.properties --&gt;右击打开</p> 
<h4 id="1%E3%80%81%E4%BF%AE%E6%94%B9%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">（1）修改中文乱码问题</h4> 
<p>找下面这句话（查找快捷键：ctrl+f）</p> 
<pre><code class="hljs language-cobol"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     sampleresult.
     
     <span class="hljs-keyword">default</span>.encoding
     
     <span class="hljs-operator">=</span>ISO-
     
     <span class="hljs-number">8859</span>-
     
     <span class="hljs-number">1</span> 
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     #ISO-
     
     <span class="hljs-number">8859</span>-
     
     <span class="hljs-number">1</span>是默认值
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button {2}"></div></pre> 
<p>将参数修改为</p> 
<pre><code class="hljs language-cobol">sampleresult.<span class="hljs-keyword">default</span>.encoding <span class="hljs-operator">=</span>utf-<span class="hljs-number">8</span></code>
 
 <div class="hljs-button {2}"></div></pre> 
<p>去掉这行代码前面的#号</p> 
<p><img alt="" height="303" src="https://images2.imgbox.com/94/f7/JVNBF9IM_o.png" width="1200"></p> 
<h4 id="%C2%A02%E3%80%81%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E8%AF%AD%E8%A8%80">（2）修改默认语言</h4> 
<p><img alt="" height="167" src="https://images2.imgbox.com/e4/d6/SJl11udw_o.png" width="1200"></p> 
<p> 修改保存完后，重启 jmeter 就生效了</p> 
<h2 id="%C2%A0%E4%B9%9D%E3%80%81jmeter%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86">四、jmeter核心知识</h2> 
<h3 id="1%E3%80%81%E5%8F%91%E9%80%81http%E8%AF%B7%E6%B1%82">1、发送http请求</h3> 
<p>（学习 jmeter取样器 以 http请求 为例）</p> 
<p>作用：向服务器发送http/https请求</p> 
<h4 id="1%EF%BC%89%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E5%85%83%E4%BB%B6">1）相关配置元件</h4> 
<p id="%E2%91%A0%20HTTP%E7%AE%A1%E7%90%86%E5%99%A8"><strong>① HTTP管理器</strong></p> 
<p> http请求 与 配置元件配套使用</p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/36/dc/euzg3Hmj_o.png" width="262"></p> 
<p id="%E2%91%A1%20http%E6%B6%88%E6%81%AF%E5%A4%B4%E7%AE%A1%E7%90%86%E5%99%A8%EF%BC%88http%E8%AF%B7%E6%B1%82%E5%A4%B4%EF%BC%89"><strong>② http消息头管理器（http请求头）</strong></p> 
<p>主要使用Content-Type参数（指请求参数的类型）</p> 
<p>在jmeter中，发送HTTP的post请求时，需要添加http消息头管理器</p> 
<p> ！汉字是？？时，在内容编码中加 utf-8</p> 
<p><strong>③ http请求默认值</strong></p> 
<p>作用：将同一线程组下所有http请求的协议和服务器域名统一管理</p> 
<p>（如果http请求中自己填写了http协议和服务器域名，当发送请求时使用本身的协议和域名）</p> 
<h4 id="2%E3%80%81http%E8%AF%B7%E6%B1%82%E9%85%8D%E7%BD%AE">2）http请求配置</h4> 
<blockquote> 
 <ul><li>http协议默认端口号：80</li><li>httpd默认端口号：443</li></ul> 
</blockquote> 
<p>请求地址：http://127.0.0.1:8000/api/departments/</p> 
<p><img alt="" height="689" src="https://images2.imgbox.com/1c/5e/uC6OQ9yo_o.png" width="1200"></p> 
<p>练习：编写 jmeter 脚本，访问百度 （<em>URL=http://www.baidu.com/S  参数：wd=test(form表单) </em>）</p> 
<ul><li>案例1：GET请求，路径传递参数</li><li>案例2：GET请求，参数列表传递参数</li><li>案例3：POST请求，请求体数据传输参数</li><li>案例4：POST请求，参数列表传输参数</li></ul> 
<p><img alt="" height="390" src="https://images2.imgbox.com/32/e9/L9Q5uply_o.png" width="1200"></p> 
<p><img alt="" height="544" src="https://images2.imgbox.com/85/e4/4gTsE33M_o.png" width="1200"></p> 
<p><img alt="" height="500" src="https://images2.imgbox.com/ce/99/QhSZNFfb_o.png" width="1200"></p> 
<p><img alt="" height="556" src="https://images2.imgbox.com/a1/2c/5tCr75sZ_o.png" width="1200"></p> 
<h3 id="3%E3%80%81jmeter%20%E5%8F%82%E6%95%B0%E5%8C%96%EF%BC%88%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%EF%BC%89">2、jmeter 参数化***</h3> 
<h4 id="1%EF%BC%89%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%82%E6%95%B0%E5%8C%96%EF%BC%9F">1）参数化的概念</h4> 
<p>什么是参数化？</p> 
<ul><li>根据需求动态获取数据并进行赋值的过程</li></ul> 
<p id="2%EF%BC%89jmeter%E4%B8%AD%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%9F">jmeter中参数的定义？</p> 
<ul><li>jmeter中参数化的变量用 ${变量名} 表示</li></ul> 
<p id="3%EF%BC%89jmeter%E5%8F%82%E6%95%B0%E5%8C%96%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F%EF%BC%9F">jmeter参数化常用方式？</p> 
<ul><li>CSV数据控件 （CSV Data Set Config）</li><li>用户定义的变量（User Defined Variables）</li><li>用户参数（User Variables）</li></ul> 
<p id="4%EF%BC%89CSV%20Data%20Set%20Config"><strong>2）CSV Data Set Config </strong></p> 
<p>一种从外部读取数据功能的组件</p> 
<p><strong>适用范围</strong>：需要大量测试数据</p> 
<p><strong>实现步骤</strong>：</p> 
<ul><li>创建测试计划</li><li>创建线程组</li><li>添加 CSV Data Set Config 组件并配置</li><li>添加http请求并配置</li><li>添加查看结果树</li></ul> 
<p>将表格xlsx格式转换为CSV --&gt; CSV编码转为UTF-8（notepad）--&gt; CSV数据文件设置 --&gt; http请求设置 --&gt;设置线程组线程数或循环次数</p> 
<p><img alt="" height="718" src="https://images2.imgbox.com/16/ac/bvAghjNy_o.png" width="1200"></p> 
<p>配置http请求（引用定义的变量名，格式：${变量名}）</p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/5c/f7/c8lBf568_o.png" width="1200"></p> 
<h4 id="%C2%A05%EF%BC%89%E7%94%A8%E6%88%B7%E5%8F%82%E6%95%B0"><strong>3）用户参数</strong></h4> 
<p><strong>适用于</strong>：参数取值范围很小</p> 
<p><strong>位置</strong>：前置处理器 --&gt; 用户参数</p> 
<p><strong>使用方式</strong>：</p> 
<ul><li>针对那个http请求使用就在哪个http请求下添加（http --&gt; 添加 --&gt; 前置处理器 --&gt; 用户参数）</li></ul> 
<p>配置用户参数</p> 
<ul><li>添加变量 --&gt; 添加变量名称</li><li>添加用户 --&gt; 添加用户名称（一个用户就是一个测试数据）</li></ul> 
<p>使用用户参数</p> 
<ul><li>在http请求中引用变量（${变量名}）</li><li>在线程组中设置线程数；线程数的值和用户数一致</li></ul> 
<p><img alt="" height="840" src="https://images2.imgbox.com/55/d2/LjYWRIew_o.png" width="1200"></p> 
<p id="6%EF%BC%89%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E5%8F%98%E9%87%8F"><strong>4）用户定义的变量</strong></p> 
<p>适用于：定义全局变量</p> 
<p>位置：</p> 
<ul><li>测试计划页面（一般情况下）</li><li>配置元件 --&gt; 用户定义的变量</li></ul> 
<p>步骤：</p> 
<ul><li>添加线程组</li><li>添加用户定义的变量</li><li>添加http请求，引用变量${变量名}</li><li>添加查看结果树</li></ul> 
<h4 id="7%EF%BC%89%E6%80%BB%E7%BB%93%E5%8F%82%E6%95%B0%E5%8C%96">5）总结参数化</h4> 
<p>①csv数据文化配置（配置元件中）</p> 
<ul><li>适用于大量的测试数据时的使用</li></ul> 
<p>②用户参数（前置处理器中）</p> 
<ul><li>适用于少量测试数据</li></ul> 
<p>③用户定义的变量（测试计划 / 配置元件中）</p> 
<ul><li>定义全局变量</li></ul> 
<p><img alt="" height="388" src="https://images2.imgbox.com/54/54/r0GWdba7_o.png" width="1200"></p> 
<p><img alt="" height="475" src="https://images2.imgbox.com/f0/6f/ntWQOE9a_o.png" width="1200"></p> 
<h3 id="3%E3%80%81jmeter%20%E6%96%AD%E8%A8%80">3、jmeter 断言</h3> 
<p>（让 程序自动判断预期结果和实际结果是否一致）</p> 
<h4 id="1%EF%BC%89%E5%B8%B8%E7%94%A8%E6%96%AD%E8%A8%80">1）常用断言</h4> 
<ul><li>响应断言</li><li>json断言</li><li>持续时间断言</li></ul> 
<h4 id="2%EF%BC%89%E5%93%8D%E5%BA%94%E6%96%AD%E8%A8%80">2）响应断言</h4> 
<p>作用：对HTTP请求的任意格式响应结果进行断言</p> 
<p>位置：右击http请求 --&gt; 添加 --&gt; 断言 --&gt; 响应断言</p> 
<p>参数：</p> 
<p><img alt="" height="901" src="https://images2.imgbox.com/8b/d6/CuZFqJV1_o.png" width="1200"></p> 
<p>案例1：<br>         请求：https://www.baidu.com<br>         检查：响应数据中是否包含“百度一下，你就知道”</p> 
<p><img alt="" height="745" src="https://images2.imgbox.com/bc/9e/8DLpI48d_o.png" width="1200"></p> 
<p><img alt="" height="123" src="https://images2.imgbox.com/ce/25/5wOuOqCy_o.png" width="417"></p> 
<p> 案例2：校验多个测试数据</p> 
<p><img alt="" height="821" src="https://images2.imgbox.com/df/ce/gwvzfIN6_o.png" width="1200"></p> 
<p><img alt="" height="92" src="https://images2.imgbox.com/2a/fc/8tgkN5oo_o.png" width="590"></p> 
<h4 id="%C2%A03%EF%BC%89Json%20%E6%96%AD%E8%A8%80"> 3）Json 断言</h4> 
<p>适用于：HTTP响应结果是 json 格式时，可以使用 json断言</p> 
<p>参数：</p> 
<p><img alt="" height="601" src="https://images2.imgbox.com/97/3b/lWCIDYNK_o.png" width="1200"></p> 
<p> 案例：</p> 
<p><img alt="" height="50" src="https://images2.imgbox.com/d2/00/1d8SCgDj_o.png" width="381"></p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/20/37/gmSaYWbG_o.png" width="1200"></p> 
<h4 id="%E2%80%8B%204%EF%BC%89%E6%96%AD%E8%A8%80%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4"><img alt="" height="509" src="https://images2.imgbox.com/37/bc/7L11z5jK_o.png" width="1200"> 4）断言持续时间</h4> 
<p>作用：检查http请求的响应数据是否超出要求范围</p> 
<p>参数：</p> 
<ul><li>响应时间（毫秒）：http请求允许的最大响应时间（1s = 1000ms）。</li></ul> 
<p>案例：</p> 
<p><img alt="" height="57" src="https://images2.imgbox.com/52/9a/LLnW1rnV_o.png" width="301"></p> 
<p><img alt="" height="275" src="https://images2.imgbox.com/32/70/jZUjJJ89_o.png" width="1200"><img alt="" height="318" src="https://images2.imgbox.com/1e/77/NEfdw2zK_o.png" width="1200"></p> 
<p><img alt="" height="108" src="https://images2.imgbox.com/30/3c/tfTrMWES_o.png" width="1071"></p> 
<h3 id="%C2%A04%E3%80%81jmeter%20%E5%85%B3%E8%81%94"> 4、jmeter 关联</h3> 
<p>当请求之间有依赖关系，比如一个请求的入参是另一个请求的返回数据，这时候就需要用到关联。</p> 
<h4 id="1%EF%BC%89jmeter%20%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%B3%E8%81%94%E6%96%B9%E6%B3%95">1）jmeter 常用的关联方法</h4> 
<ul><li>正则表达式 提取法（针对任意格式）</li><li>Xpath 提取法（html格式）</li><li>JSON 提取法</li></ul> 
<p><img alt="" height="632" src="https://images2.imgbox.com/0d/cf/9YSGkUk4_o.png" width="1200"></p> 
<p> <img alt="" height="353" src="https://images2.imgbox.com/93/ce/6Qzinjob_o.png" width="483"></p> 
<p><a class="link-info" href="https://www.w3cschool.cn/tools/index?name=reg" rel="nofollow noopener noreferrer" title="正则表达式在线测试" target="_blank">正则表达式在线测试</a></p> 
<h4 id="%C2%A02)%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8F%96%E5%99%A8"> 2)正则表达式提取器</h4> 
<p>位置：右击HTTP请求 --&gt; 添加 --&gt; 后置处理器 --&gt; 正则表达式提取器</p> 
<p><img alt="" height="614" src="https://images2.imgbox.com/04/c1/A0j2uFvJ_o.png" width="1200"></p> 
<p>http请求配置中，用 ${变量名} 引用 正则表达式提取器的引用名称</p> 
<p><strong>案例1：获取传智播客首页的title，并作为参数传递</strong></p> 
<ul><li>请求：http://www.itcast.cn/，获取网页的title值</li><li>请求：http://www.baidu.com/，把获取到的title作为请求参数</li></ul> 
<p><img alt="" height="366" src="https://images2.imgbox.com/54/a9/kCPWSkzC_o.png" width="1200"></p> 
<p><img alt="" height="518" src="https://images2.imgbox.com/c8/f5/vOcrNP0Y_o.png" width="1200"><img alt="" height="527" src="https://images2.imgbox.com/1e/02/vGtOzTeV_o.png" width="1200"></p> 
<p><strong> 案例2：获取传智播客首页的地址，把第5个校区地址作为参数传递（span为地址的校区）</strong></p> 
<p><img alt="" height="81" src="https://images2.imgbox.com/86/e1/w4eP4xya_o.png" width="1200"></p> 
<p>方法1： （地址要先发送一次请求，在响应数据中查看）</p> 
<p><img alt="" height="503" src="https://images2.imgbox.com/64/75/HLLRmfiS_o.png" width="1200"></p> 
<p><img alt="" height="520" src="https://images2.imgbox.com/c0/64/zitOUXMg_o.png" width="1200"></p> 
<p> 方法2：</p> 
<p><img alt="" height="632" src="https://images2.imgbox.com/f7/e3/QpPHh7W6_o.png" width="1200"></p> 
<p><img alt="" height="394" src="https://images2.imgbox.com/61/97/DT3PiHV8_o.png" width="1200"></p> 
<p> 案例3：</p> 
<p>获取传智播客首页的地址，把第5个校区地址作为参数传递（span为地址/后面带一、二、三） </p> 
<p><img alt="" height="123" src="https://images2.imgbox.com/73/b7/sheUiZPD_o.png" width="1200"><img alt="" height="531" src="https://images2.imgbox.com/2d/d4/IlDCnfpF_o.png" width="1200"></p> 
<p><img alt="" height="546" src="https://images2.imgbox.com/dc/2e/fd4gkMNT_o.png" width="1200"></p> 
<h4 id="%C2%A03%EF%BC%89xpath%20%E6%8F%90%E5%8F%96%E5%99%A8"> 3）xpath 提取器</h4> 
<p>作用：根据HTML格式的响应结果数据进行提取</p> 
<p>参数：</p> 
<p><img alt="" height="542" src="https://images2.imgbox.com/51/c7/zQwLB4mW_o.png" width="1200"></p> 
<p><img alt="" height="74" src="https://images2.imgbox.com/32/8d/NO2GiBJd_o.png" width="590"></p> 
<p> 案例1：获取传智播客首页的title，并作为参数传递</p> 
<ul><li>请求：http://www.itcast.cn/，获取网页的title值</li><li>请求：http://www.baidu.com/，把获取到的title作为请求参数</li></ul> 
<p> <img alt="" height="542" src="https://images2.imgbox.com/f3/e4/RdOcq1Ow_o.png" width="1200"></p> 
<p><img alt="" height="555" src="https://images2.imgbox.com/dd/d5/5QyeD4fB_o.png" width="1200"></p> 
<h4 id="%C2%A04%EF%BC%89JSON%E6%8F%90%E5%8F%96%E5%99%A8"> 4）JSON提取器</h4> 
<p>作用：针对JSON格式的响应结果数据进行提取</p> 
<p>参数：</p> 
<p><img alt="" height="406" src="https://images2.imgbox.com/9e/9d/TfJSVbQR_o.png" width="1200"></p> 
<p>案例：提取天气接口中的城市信息，作为参数在访问百度首页时传递 </p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/be/f0/J1jZ2vtl_o.png" width="510"></p> 
<p><img alt="" height="343" src="https://images2.imgbox.com/87/50/smzvOjpn_o.png" width="1200"></p> 
<h4 id="5%EF%BC%89jmeter%20%E7%9A%84%E5%B1%9E%E6%80%A7%20--%20%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">5）jmeter 的属性 -- 全局变量</h4> 
<p>提问：当有关联关系的两个请求在不同线程组中，该如何进行消息传递呢？（定义全局变量）</p> 
<p><strong>① jmeter属性的配置函数：</strong></p> 
<ul><li>_setProperty函数：将值保存成 jmeter属性</li><li>_Property函数：在其他线程组中读取 jmeter 属性</li></ul> 
<p><strong>② jmeter属性的执行：</strong></p> 
<ul><li>_setProperty函数 执行（保存jmeter属性）：通过 BeanShell 取样器</li><li>_Property函数 执行（读取属性）：在其他线程组中使用 property函数</li></ul> 
<p><strong>③ 案例</strong></p> 
<p><img alt="" height="165" src="https://images2.imgbox.com/b3/6d/L6taEmgy_o.png" width="1200"></p> 
<p> 操作步骤：</p> 
<ul><li>添加线程组1</li><li>添加http请求-天气</li><li>添加JSON提取器</li><li>添加BeanShell取样器（将JSON提取的值保存成jmeter属性）</li><li>添加线程组2</li><li>添加http请求-百度（读取jmeter属性）</li><li>添加查看结果树</li></ul> 
<p><img alt="" height="418" src="https://images2.imgbox.com/f0/d7/NKTFOWUv_o.png" width="1200"></p> 
<p><img alt="" height="432" src="https://images2.imgbox.com/ee/a2/23GtpIVt_o.png" width="1200"></p> 
<p></p> 
<p> 配置setproperty函数（选项--函数助手对话框--生成代码）</p> 
<p><img alt="" height="262" src="https://images2.imgbox.com/1a/76/AbJWCz2n_o.png" width="490"></p> 
<p><img alt="" height="360" src="https://images2.imgbox.com/e9/08/RbBPxQRl_o.png" width="1200"></p> 
<p> <img alt="" height="234" src="https://images2.imgbox.com/d8/e0/mshv5kYB_o.png" width="436"></p> 
<p><img alt="" height="559" src="https://images2.imgbox.com/5a/70/kj5HH2fL_o.png" width="1200"></p> 
<p><img alt="" height="725" src="https://images2.imgbox.com/92/29/wlZHdDu0_o.png" width="1200">让线程组串行执行！</p> 
<p><img alt="" height="86" src="https://images2.imgbox.com/13/40/Blh3fkl7_o.png" width="493"></p> 
<h3 id="5%E3%80%81%20jmeter%E5%BD%95%E5%88%B6%E8%84%9A%E6%9C%AC">5、 jmeter录制脚本</h3> 
<h4 id="1%EF%BC%89%E4%BD%BF%E7%94%A8badboy%E5%BD%95%E5%88%B6">1）使用badboy录制</h4> 
<p><a class="link-info" href="https://pan.baidu.com/s/1HXu4_3jaTmDnXMKZ98MoJw?pwd=drzb" rel="nofollow noopener noreferrer" title="安装badboy" target="_blank">安装badboy</a>（提取码：drzb）</p> 
<p><img alt="" height="894" src="https://images2.imgbox.com/69/a5/fCxx95pn_o.png" width="1200"></p> 
<p>录制步骤：</p> 
<ul><li>打开badboy，默认记录状态</li><li>地址栏输入网址，回车 --&gt; 页面操作 --&gt; 停止记录</li><li>导出脚本：file --&gt; export jmeter --&gt; 选择路径保存</li></ul> 
<p>在jmeter中打开已有的文件</p> 
<ul><li>jmeter脚本文件后缀 .jmx</li><li>在jmeter中点击打开文件，选择文件路径，找到需要的文件打开就可以了</li></ul> 
<h4 id="%E4%B8%83%E3%80%81%E4%BD%BF%E7%94%A8jmeter%E8%87%AA%E8%BA%AB%E4%BB%A3%E7%90%86%E5%BD%95%E5%88%B6%E7%A7%BB%E5%8A%A8%E7%AB%AF">2）使用jmeter自身代理录制移动端</h4> 
<p id="1%E3%80%81%E9%85%8D%E7%BD%AEjmeter"><strong>① 配置jmeter</strong></p> 
<ul><li>打开jmeter添加新的测试计划</li><li>添加线程组</li><li>添加HTTP代理服务器（右击测试计划 --&gt; 非测试元件 --&gt; HTTP代理服务）</li><li>配置HTTP代理服务器（也可以在request filtering 上设置过滤条件）</li></ul> 
<p><img alt="" height="1001" src="https://images2.imgbox.com/bc/1c/lUBBo353_o.png" width="1200"></p> 
<p><strong>② 配置手机</strong></p> 
<p>设置 --&gt; wifi --&gt; 配置代理（然后填电脑的IP地址，端口号）</p> 
<p>然后就可以录制移动端操作了！</p> 
<p><img alt="" height="1016" src="https://images2.imgbox.com/f2/3b/1JbsKNG5_o.png" width="1200"></p> 
<h3 id="6%E3%80%81jmeter%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%20--%20%E4%BB%A5MySQL%E4%B8%BA%E4%BE%8B">6、jmeter连接数据库 -- 以MySQL为例</h3> 
<p>需将mysql-connector-java-X.X.X-bin.jar放入到jmeter安装目录下的./lib目录，重启jmeter</p> 
<h4 id="1%EF%BC%89%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E6%AD%A5%E9%AA%A4">1）使用数据库步骤</h4> 
<h4 id="%E2%91%A0%20%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E8%AE%A1%E5%88%92">① 创建测试计划</h4> 
<h4 id="%E2%91%A1%20%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%BB%84">② 创建线程组</h4> 
<ul><li>添加 JDBC Connectionn Configuration （建立数据库连接）</li><li>添加 JDBC Request （发送数据库请求）</li><li>添加查看结果树</li></ul> 
<h4 id="%E2%91%A2%20%E5%BC%95%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8jar%20%E5%8C%85">③ 引入数据库驱动jar 包</h4> 
<p><img alt="" height="1026" src="https://images2.imgbox.com/63/24/XK8tKL2N_o.png" width="1200"></p> 
<h4 id="%E2%91%A3%20%E9%85%8D%E7%BD%AE%20JDBC%20Connectionn%20Configuration%C2%A0">④ 配置 JDBC Connectionn Configuration </h4> 
<p><img alt="" height="965" src="https://images2.imgbox.com/3e/28/GSxiakMV_o.png" width="1200"></p> 
<ul><li><strong>database url（数据库地址）:</strong>如：jdbc:mysql://数据库IP地址:数据库端口/数据库名称</li></ul> 
<p><img alt="" height="527" src="https://images2.imgbox.com/e0/85/38C1E9MN_o.png" width="1023"></p> 
<h4 id="%E2%91%A4%20%E8%BF%9E%E6%8E%A5%E6%B5%8B%E8%AF%95%EF%BC%88JDBC%20Request%EF%BC%89">⑤ 连接测试（JDBC Request）</h4> 
<p><img alt="" height="1033" src="https://images2.imgbox.com/72/cd/ESjF3SNV_o.png" width="1200"></p> 
<ul><li>Variable name of pool...：数据库连接池的名字（与JDBC Connection Configuration 名字保持一致）</li><li>Querys：查询数据库语句的SQL语句（末尾不要加；）</li><li>parameter values：数据的参数值</li><li>parameter types：数据的参数类型</li><li>variable name：变量名称，用于保持SQL语句返回结果（eg. 变量名称）</li><li>result variable name：创建一个对象变量，保存所有返回结果</li><li>query timeout：查询超时时间</li><li>handle result set：定义如何处理由 callable statements语句返回的结果</li></ul> 
<p><img alt="" height="422" src="https://images2.imgbox.com/d9/bf/RVNYPrXS_o.png" width="1200"></p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_32706349/article/details/97539270?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164955943716782094879408%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=164955943716782094879408&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-4-97539270.142%5Ev7%5Epc_search_result_control_group,157%5Ev4%5Econtrol&amp;utm_term=jmeter%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93&amp;spm=1018.2226.3001.4187" title="jmeter测试数据库服务--JDBC Request_不进则退2020的博客-CSDN博客_jmeter连接数据库" target="_blank" rel="noopener noreferrer"><span class="link-card-box"><span class="link-title">jmeter测试数据库服务--JDBC Request_不进则退2020的博客-CSDN博客_jmeter连接数据库</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/42/4c/pz66FPgC_o.png">https://blog.csdn.net/qq_32706349/article/details/97539270?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164955943716782094879408%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=164955943716782094879408&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-4-97539270.142%5Ev7%5Epc_search_result_control_group,157%5Ev4%5Econtrol&amp;utm_term=jmeter%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<h3 id="7%E3%80%81%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6%E5%99%A8">7、逻辑控制器</h3> 
<h4 id="1%EF%BC%89%E5%A6%82%E6%9E%9C%EF%BC%88if%EF%BC%89%E6%8E%A7%E5%88%B6%E5%99%A8">1）如果（if）控制器</h4> 
<p><strong>作用：</strong>用来控制它下面测试元素是否运行</p> 
<p><strong>位置：</strong>右击线程组 --&gt; 添加 --&gt; 逻辑控制器 --&gt; 如果（if）控制器</p> 
<p><strong>参数：</strong></p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/46/2a/tCqBKc9v_o.png" width="1200"></p> 
<p><img alt="" height="441" src="https://images2.imgbox.com/e9/43/u9a8ykrM_o.png" width="1200"></p> 
<p>条件：</p> 
<ul><li>JS语法格式："${name}"=="itcast" #当name取值等于itcast</li><li>函数格式：${_jexl3("${name}"=="itcast")}  #需要勾选下面的复选框</li></ul> 
<p><strong>案例：</strong><img alt="" height="105" src="https://images2.imgbox.com/be/c2/gsZb4YBV_o.png" width="1200"></p> 
<p><img alt="" height="280" src="https://images2.imgbox.com/59/24/5qcKKKhn_o.png" width="1200"> 两个if控制器的条件如下：（其下对应的HTTP请求分别对应www.baidu.com和www.itcast.cn）</p> 
<pre><code class="hljs language-cobol"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-string">"${name}"</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-string">"baidu"</span>;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-string">"${name}"</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-string">"itcast"</span>;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     #如果勾选了复选框，则需使用函数格式：
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     ${_jexl
     
     <span class="hljs-number">3</span>(
     
     <span class="hljs-string">"${name}"</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-string">"baidu"</span>)}
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     ${_jexl
     
     <span class="hljs-number">3</span>(
     
     <span class="hljs-string">"${name}"</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-operator">=</span>
     
     <span class="hljs-string">"itcast"</span>)}
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button {2}"></div></pre> 
<h4 id="2%EF%BC%89%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E5%99%A8">2）循环控制器</h4> 
<p><strong>① 参数：</strong><img alt="" height="216" src="https://images2.imgbox.com/69/e7/SCj26Jl7_o.png" width="1200"></p> 
<p><strong>案例：循环访问百度10次</strong><img alt="" height="221" src="https://images2.imgbox.com/f7/bb/KemRJIVU_o.png" width="1200"></p> 
<p><img alt="" height="317" src="https://images2.imgbox.com/d4/75/ZK26gfGe_o.png" width="1200"></p> 
<blockquote> 
 <p><strong>思考：线程组设置的循环次数和循环控制器循环次数有什么区别？</strong></p> 
 <p>不同：</p> 
 <ul><li>线程组设置的循环次数对线程组下所有HTTP请求都起作用</li><li>循环控制器循环次数只对该控制器下的HTTP请求起作用</li></ul> 
 <div> 
  当线程组循环次数为 
  M，循环控制器次数为N时： 
 </div> 
 <ul><li>循环控制器下的HTTP请求循环次数：M*N次</li><li>非循环控制器下的HTTP请求循环次数：M次</li></ul> 
</blockquote> 
<h4 id="3%EF%BC%89ForEach%20%E6%8E%A7%E5%88%B6%E5%99%A8">3）ForEach 控制器</h4> 
<p><strong>作用：</strong>一般和<strong>用户自定义变量或正则表达式提取器</strong>一起使用，读取返回结果中一系列相关的变量</p> 
<p><strong>参数：</strong><img alt="" height="405" src="https://images2.imgbox.com/f0/30/huN5pwPV_o.png" width="1200"></p> 
<p><strong> 案例：</strong></p> 
<ol><li> 有一组关键字 [hello,python,测试]，使用用户定义的变量存储 </li><li> 要依次取出关键字，并在百度搜索，例如：https://www.baidu.com/s?wd=hello</li></ol> 
<p>操作步骤：</p> 
<p><img alt="" height="327" src="https://images2.imgbox.com/0a/ea/pqK8qPZB_o.png" width="1200"></p> 
<p><img alt="" height="428" src="https://images2.imgbox.com/e5/20/vLyW2aMx_o.png" width="1200"><img alt="" height="417" src="https://images2.imgbox.com/50/85/L0Q2GPzn_o.png" width="1200"></p> 
<p><strong> 案例2：</strong><img alt="" height="75" src="https://images2.imgbox.com/33/18/GVSwrIS2_o.png" width="1069"></p> 
<p><img alt="" height="315" src="https://images2.imgbox.com/3e/a2/0FbPZGWX_o.png" width="1200"><img alt="" height="621" src="https://images2.imgbox.com/0c/c2/9GEMNFba_o.png" width="1200"></p> 
<p><img alt="" height="420" src="https://images2.imgbox.com/f7/61/0zVvvPWU_o.png" width="1200"></p> 
<p><img alt="" height="413" src="https://images2.imgbox.com/3c/56/6PW8fXLW_o.png" width="1200"></p> 
<h3 id="8%E3%80%81%E5%AE%9A%E6%97%B6%E5%99%A8">8、定时器</h3> 
<h4 id="1%EF%BC%89%E5%90%8C%E6%AD%A5%E5%AE%9A%E6%97%B6%E5%99%A8">1）同步定时器</h4> 
<p>阻塞线程（累计一定的请求），在规定的时间内达到一定的线程数量，这些线程会在同一时间点一起释放，瞬间产生很大的压力。</p> 
<p><strong>参数：</strong><img alt="" height="495" src="https://images2.imgbox.com/58/ae/LexgsetD_o.png" width="1200"></p> 
<div> 
 <strong>案例1：模拟100个用户同时访问百度首页，统计各种高并发情况下运行情况</strong> 
</div> 
<p><strong>步骤：</strong></p> 
<ul><li>添加线程组</li><li>添加http请求</li><li>添加同步定时器（要设置时间且不能太小！）</li><li>添加查看结果树</li><li>添加监听器 --&gt; 聚合报告</li></ul> 
<p><img alt="" height="537" src="https://images2.imgbox.com/c3/7d/Jl9IGFa1_o.png" width="1200"></p> 
<p><img alt="" height="333" src="https://images2.imgbox.com/0f/53/at704nba_o.png" width="1200"></p> 
<p><img alt="" height="455" src="https://images2.imgbox.com/5c/29/TuJ1KwBY_o.png" width="1200"></p> 
<h4 id="2%EF%BC%89%E5%B8%B8%E6%95%B0%E5%90%9E%E5%90%90%E9%87%8F%E5%AE%9A%E6%97%B6%E5%99%A8%20constant%20throughput%20timer">2）常数吞吐量定时器 constant throughput timer</h4> 
<p>稳定性测试时，需要模拟用户真实的业务场景。若真实业务场景QPS为20，如何精确模拟？</p> 
<p><strong>作用：</strong>让jmeter按指定的吞吐量（QPS）执行，以每分钟为单位。</p> 
<p><strong>参数：</strong><img alt="" height="303" src="https://images2.imgbox.com/c9/82/DUkPMT5U_o.png" width="1200"></p> 
<p><img alt="" height="90" src="https://images2.imgbox.com/98/ce/lPrXYnBF_o.png" width="347"></p> 
<div> 
 <strong>案例：服务器的QPS要求：20QPS (20 次/s)</strong> 
</div> 
<ul><li>案例1 ：一个用户访问百度首页，持续一段时间，统计运行情况</li><li>案例2：两个用户访问百度首页，持续一段时间，统计运行情况。</li></ul> 
<p><img alt="" height="322" src="https://images2.imgbox.com/6a/6e/4jxAgbCX_o.png" width="1200"></p> 
<p><img alt="" height="309" src="https://images2.imgbox.com/d2/46/c1ixxkxC_o.png" width="1200"></p> 
<p><img alt="" height="448" src="https://images2.imgbox.com/3c/d6/vetdE6B4_o.png" width="1200"></p> 
<p><img alt="" height="416" src="https://images2.imgbox.com/2a/e4/JS3d2OX4_o.png" width="1200"></p> 
<h4 id="3%EF%BC%89%E5%9B%BA%E5%AE%9A%E5%AE%9A%E6%97%B6%E5%99%A8***%E6%9C%80%E5%B8%B8%E7%94%A8**">3）固定定时器***最常用**</h4> 
<div> 
 <strong>案例：IHRM系统登录错误3次后，锁定1分钟，1分钟后重新输入正确的用户名密码登录成功 </strong> 
</div> 
<div> 
 <strong> 打开网页控制台，操作查看数据填写请求</strong> 
</div> 
<div> 
 <img alt="" height="869" src="https://images2.imgbox.com/e5/48/lDqIkARx_o.png" width="1200"> 
</div> 
<p> <img alt="" height="706" src="https://images2.imgbox.com/64/8a/MBMFwtXF_o.png" width="1200"></p> 
<p> 配置http请求<img alt="" height="569" src="https://images2.imgbox.com/73/7c/lJMBtsVb_o.png" width="1200"></p> 
<p><img alt="" height="559" src="https://images2.imgbox.com/ff/ac/wBCS6vN5_o.png" width="1200"></p> 
<p> 在http请求4下面添加固定定时器，并配置等待时间<img alt="" height="227" src="https://images2.imgbox.com/c6/94/GLkEtrRR_o.png" width="1200"></p> 
<p>执行后为什么出现下面结果呢？</p> 
<p>请求的格式是json ，json 格式请求的请求头类型是application/json</p> 
<p><img alt="" height="566" src="https://images2.imgbox.com/49/7c/EHowADuu_o.png" width="1200"></p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/ff/e0/i7TkMntf_o.png" width="1200"></p> 
<p>所以需要用<strong>信息头管理器</strong>修改头域</p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/b8/3e/RUXpCNT9_o.png" width="1200"></p> 
<p> 成功！</p> 
<p><img alt="" height="86" src="https://images2.imgbox.com/16/77/u0CS6xPm_o.png" width="476"></p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/fd/7f/rwWpLINs_o.png" width="1200"></p> 
<div> 
 <div></div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/afbe144bd1231b76ef3fea27b4afe074/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于YOLOv5的火焰烟雾检测算法实战</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bedc6eecf17afa3fcf24c0ccfb2ef9a2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AndroidT(13) init 进程 -- first stage init 的初始化 （二）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>