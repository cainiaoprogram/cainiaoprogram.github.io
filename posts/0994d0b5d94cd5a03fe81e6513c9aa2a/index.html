<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android应用开发（3）App的工程结构 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android应用开发（3）App的工程结构" />
<meta property="og:description" content="Android应用开发学习笔记——目录索引
本章介绍App project的基本结构和其常用配置。
一、App Project目录结构 App Project分为两个层次，第一个层次是项目，另一个层次是模块。
AndroidStudio依次选择菜单File→New→New Project即可创建新项目。
另一层次是模块（Module），依次选择菜单File→New→New Module即可在当前项目中创建一个模块，模块依附于项目，每个项目至少有一个模块，也能拥有多个模块。
一般所言的“编译运行App”，指的是运行某个模块，而非运行某个项目，因为模块才对应实际的App。
App项目的目录说明 App项目下面有两个分类：app（代表app模块）、Gradle Scripts。
app下面又有3个子目录，功能说明如下：
manifests子目录
存放AndroidManifest.xml，它是App的运行配置文件
java子目录
存放当前模块的Java源代码
res子目录
存放当前模块的资源文件
GradleScripts下面主要是工程的编译配置文件：
build.gradle
该文件分为项目级与模块级两种，用于描述App工程的编译规则
proguard-rules.pro
该文件描述了Java代码的混淆规则
gradle.properties
该文件配置了编译工程的命令行参数，一般无须改动
settings.gradle
该文件配置了需要编译哪些模块，以及依赖库的仓库地址
local.properties
它是项目的本地配置文件
编译配置文件build.gradle App项目的build.gradle分为两个级别，一个是Project项目级别的build.gradle，另一个是Module模块级别的build.gradle。如我项目中有3个Module，build.gradle如下图所示：
项目级别的build.gradle指定了当前项目的总体编译规则。
// Top-level build file where you can add configuration options common to all sub-projects/modules. plugins { id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false } 模块级别的build.gradle对应于具体模块，每个模块都有自己的build.gradle，它指定了当前模块的详细编译规则。
plugins { id &#39;com." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0994d0b5d94cd5a03fe81e6513c9aa2a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-19T10:02:22+08:00" />
<meta property="article:modified_time" content="2023-03-19T10:02:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android应用开发（3）App的工程结构</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/zsyf33078/article/details/129422706" target="_blank" rel="noopener noreferrer">Android应用开发学习笔记——目录索引</a></p> 
 <p style=""></p> 
 <p style="">本章介绍App project的基本结构和其常用配置。</p> 
 <h2 style="">一、App Project目录结构</h2> 
 <p style="text-align:left;">App Project分为两个层次，第一个层次是项目，另一个层次是模块。</p> 
 <p style="">AndroidStudio依次选择菜单File→New→New Project即可创建新项目。</p> 
 <p style="text-align:left;">另一层次是模块（Module），依次选择菜单File→New→New Module即可在当前项目中创建一个模块，模块依附于项目，每个项目至少有一个模块，也能拥有多个模块。</p> 
 <p style="text-align:left;">一般所言的“编译运行App”，指的是运行某个模块，而非运行某个项目，因为模块才对应实际的App。</p> 
 <h3 style=""><span class="kdocs-bold" style="font-weight:bold;">App项目的目录说明</span></h3> 
 <p style="">App项目下面有两个分类：app（代表app模块）、Gradle Scripts。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:844px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:172.39337%;height:0;"> 
    <img src="https://images2.imgbox.com/bd/b9/5PSxgT6F_o.png" style="margin-left:;display:block;width:844px;margin-top:-172.39337%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">app下面又有3个子目录，功能说明如下：</p> 
 <div style=""> 
  <table class="kdocs-table" border="1" cellpadding="1" cellspacing="1" style=""><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:160px;vertical-align:top;height:52px;"><p style="">manifests子目录</p></td><td class="kdocs-tableCell" style="width:416px;vertical-align:top;height:52px;"><p style="">存放AndroidManifest.xml，它是App的运行配置文件</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:160px;vertical-align:top;height:52px;"><p style="">java子目录</p></td><td class="kdocs-tableCell" style="width:416px;vertical-align:top;height:52px;"><p style="">存放当前模块的Java源代码</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:160px;vertical-align:top;height:52px;"><p style="">res子目录</p></td><td class="kdocs-tableCell" style="width:416px;vertical-align:top;height:52px;"><p style="">存放当前模块的资源文件</p></td></tr></tbody></table> 
 </div> 
 <p style="text-align:left;">GradleScripts下面主要是工程的编译配置文件：</p> 
 <div style=""> 
  <table class="kdocs-table" border="1" cellpadding="1" cellspacing="1" style=""><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:204px;vertical-align:top;height:52px;"><p style="">build.gradle</p></td><td class="kdocs-tableCell" style="width:517px;vertical-align:top;height:52px;"><p style="">该文件分为项目级与模块级两种，用于描述App工程的编译规则</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:204px;vertical-align:top;height:52px;"><p style="">proguard-rules.pro</p></td><td class="kdocs-tableCell" style="width:517px;vertical-align:top;height:52px;"><p style="">该文件描述了Java代码的混淆规则</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:204px;vertical-align:top;height:52px;"><p style="">gradle.properties</p></td><td class="kdocs-tableCell" style="width:517px;vertical-align:top;height:52px;"><p style="">该文件配置了编译工程的命令行参数，一般无须改动</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:204px;vertical-align:top;height:52px;"><p style="">settings.gradle</p></td><td class="kdocs-tableCell" style="width:517px;vertical-align:top;height:52px;"><p style="">该文件配置了需要编译哪些模块，以及依赖库的仓库地址</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:204px;vertical-align:top;height:52px;"><p style="">local.properties</p></td><td class="kdocs-tableCell" style="width:517px;vertical-align:top;height:52px;"><p style="">它是项目的本地配置文件</p></td></tr></tbody></table> 
 </div> 
 <h3 style=""><span class="kdocs-bold" style="font-weight:bold;">编译配置文件build.gradle</span></h3> 
 <p style="text-align:left;">App项目的build.gradle分为两个级别，一个是Project项目级别的build.gradle，另一个是Module模块级别的build.gradle。如我项目中有3个Module，build.gradle如下图所示：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:991px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:146.51868%;height:0;"> 
    <img src="https://images2.imgbox.com/e5/d6/GNfIE3I1_o.png" style="margin-left:;display:block;width:991px;margin-top:-146.51868%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">项目级别的build.gradle指定了当前项目的总体编译规则。</p> 
 <pre class="kdocs-xml"><code class="language-xml">// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    id 'com.android.application' version '7.4.2' apply false
    id 'com.android.library' version '7.4.2' apply false
}</code></pre> 
 <p style="text-align:left;">模块级别的build.gradle对应于具体模块，每个模块都有自己的build.gradle，它指定了当前模块的详细编译规则。</p> 
 <pre class="kdocs-xml"><code class="language-xml">plugins {
    id 'com.android.application'
}

android {
    // 指定编译用的SDK版本号。比如31表示使用Android 12编译
    compileSdk 31

    defaultConfig {
        // 指定该模块的应用编号，也就是App的包名
        applicationId "com.example.myapplication"
        // 指定App适合运行的最小SDK版本号。比如21表示至少要在Android 5.0上运行
        minSdk 21
        // 指定目标设备的SDK版本号。表示App最希望在哪个版本的Android上运行
        targetSdk 31
        // 指定App的应用版本号
        versionCode 1
        // 指定App的应用版本名称
        versionName "1.0"

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
}

// 指定App编译的依赖信息
dependencies {
    // 指定引用jar包的路径
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    // 指定编译Android的高版本支持库。如AppCompatActivity必须指定编译appcompat库
    //appcompat库各版本见 https://mvnrepository.com/artifact/androidx.appcompat/appcompat
    implementation 'androidx.appcompat:appcompat:1.4.1'
    // 指定单元测试编译用的junit版本号
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.1.3'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
}
</code></pre> 
 <p style="text-align:left;">gradle文件采用了Gradle工具完成编译构建操作，每个版本的AndroidStudio都有对应的Gradle版本。</p> 
 <h3 style=""><span class="kdocs-bold" style="font-weight:bold;">运行配置文件AndroidManifest.xml</span></h3> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"&gt;

    &lt;application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:theme="@style/Theme.MyApplication"
        tools:targetApi="31"&gt;
        &lt;activity
            android:name=".MainActivity"
            android:exported="true"&gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</code></pre> 
 <p style="">AndroidManifest.xml指定了App的运行配置信息，它的根节点为manifest。</p> 
 <p style="">manifest下面有个application节点，它的各属性说明如下：</p> 
 <div style=""> 
  <table class="kdocs-table" border="1" cellpadding="1" cellspacing="1" style=""><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style="">android:allowBackup</p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">是否允许应用备份。为true表示允许，为false表示不允许</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style="">android:icon</p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">指定App在手机屏幕上显示的图标</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style="">android:label</p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">指定App在手机屏幕上显示的名称</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style="">android:supportsRtl</p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">是否支持从右往左的文字排列顺序</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style="">android:theme</p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">指定App的显示风格</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:195px;vertical-align:top;height:52px;"><p style=""><span class="kdocs-bold" style="font-weight:bold;">activity</span></p></td><td class="kdocs-tableCell" style="width:588px;vertical-align:top;height:52px;"><p style="">活动页面的注册声明</p></td></tr></tbody></table> 
 </div> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">activity节点的使用说明</span></p> 
 <p style="text-align:left;">application下面有个activity节点，它是活动页面的注册声明。</p> 
 <p style="text-align:left;">初始配置的MainActivity正是App的默认主页，如下所示：</p> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.MAIN"/&gt;
        &lt;category android:name="android.intent.category.LAUNCHER"/&gt;
&lt;/intent-filter&gt;</code></pre> 
 <p style="text-align:left;">其中action节点设置的android.intent.action.MAIN表示该页面是App的入口页面，启动App时会最先打开该页面。而category节点设置的android.intent.category.LAUNCHER决定了是否在手机屏幕上显示App图标。</p> 
 <h2 style="">二、XML界面设计&amp;Java代码逻辑</h2> 
 <p style="">App的界面设计与代码逻辑分开，使用XML文件描述APP界面，可以很方便地在AndroidStudio上预览界面效果，使用java代码书写程序逻辑。</p> 
 <h3 style=""><span class="kdocs-bold" style="font-weight:bold;">使用XML描绘应用界面</span></h3> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"&gt;

    &lt;!-- 这是个线性布局， match_parent意思是与上级视图保持一致--&gt;
    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"&gt;

        &lt;!-- 这是个文本视图，名字叫做textView_hello，显示的文字内容为“Hello World!” --&gt;
        &lt;TextView
            android:id="@+id/textView_hello"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Hello World!" /&gt;
    &lt;/LinearLayout&gt;
&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre> 
 <p style="text-align:left;">XML标签都由标签头与标签尾组成，<span class="kdocs-bold" style="font-weight:bold;">标签头</span>以左尖括号包括标签名称，形如“&lt;LinearLayout”、“&lt;TextView”；<span class="kdocs-bold" style="font-weight:bold;">标签尾</span>在左尖括号后面插入斜杆，以此同标签头区分开，形如“&lt;/TextView&gt;”，如果是最末端节点可以使用“/&gt;”这种简写方式，根节点和布局节点不可采取简写方式，因为它们内部需要包裹下级节点。</p> 
 <p style="text-align:left;">标签头允许在标签名称后面添加各种属性取值，而标签尾不允许添加任何属性。</p> 
 <p style=""><span class="kdocs-bold" style="font-weight:bold;">注释</span>使用“&lt;!—说明文字 --&gt;”，它的作用是包裹注释性质的说明文字，方便其他开发者理解此处的XML含义。</p> 
 <h3 style=""><span class="kdocs-bold" style="font-weight:bold;">使用Java写代码逻辑</span></h3> 
 <p style="text-align:left;">创建App项目时，除了生成默认的首页布局activity_main.xml之外，还会生成与其对应的代码文件MainActivity.java。</p> 
 <pre class="kdocs-java"><code class="language-java">package com.example.myapplication;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // 当前的页面布局采用的是res/layout/activity_main.xml
        setContentView(R.layout.activity_main);

        // 获取名叫textView_hello的TextView控件
        TextView textView_hello = findViewById(R.id.textView_hello);
        // 设置TextView控件的文字内容
        textView_hello.setText("测试setText()方法");
    }
}</code></pre> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;">通过findViewById()方法从布局layout文件activity_main.xml中获取textView_hello的TextView控件，再调用TextView控件对象的setText()方法，设置新的文字内容。</span></p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;">运行测试app，显示如下：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:644px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:60.40373%;height:0;"> 
    <img src="https://images2.imgbox.com/da/47/wAkizLvr_o.png" style="margin-left:;display:block;width:644px;margin-top:-60.40373%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style=""></p> 
 <p style=""><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/zsyf33078/article/details/129422706" target="_blank" rel="noopener noreferrer"><span class="kdocs-fontSize" style="font-size:13pt;">点此查看Android应用开发学习笔记的完整目录</span></a></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d558a9ff79bd578b695556d1c017da0c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA学习日记 第二章</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5dc07c378ac9db98fcb40bb3fe4a92d5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">图像处理:傅里叶变换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>