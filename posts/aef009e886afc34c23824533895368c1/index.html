<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Wireshark 的使用以及网络包分析 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Wireshark 的使用以及网络包分析" />
<meta property="og:description" content="一、Wireshark 时间显示设置
1、在菜单栏上面点击视图-&gt;时间显示格式-&gt;选择自捕获开始经过秒数和自动(根据捕获文件)，如图所示
这样设置就可以看出客户端和服务端每个数据包间隔时间
二、设置列用来显示当前包与前面包的时间间隔，具体步骤如下：
1、点击菜单栏上编辑-&gt;首选项，如图所示
2、点击首选项后，然后在首选窗口左侧选择外观-&gt;列，如图所示
3、点击该窗口的&#43;号添加一个新的一咧，然后命令为tcp.time_delta,然后选择Absolute date,as YYYY-MM-DD,and time 这个时间来捕获设备所处时区的日期和时间，如图所示
4、在Wireshark首选项窗口中依次选择Protocols-&gt;TCP,然后勾选Calculate conversation timestamps,如图所示
三、案例分析
1、本机向DNS服务器查询域名
1982	237.385558	2021-06-30 10:25:09.381124	10.10.242.234	116.116.116.116	DNS	87	Standard query 0x2d62 A push.live.blackview4g.com 2、DNS服务器根据域名向本机客户端响应对应的IP地址
1983	237.433036	2021-06-30 10:25:09.428602	116.116.116.116	10.10.242.234	DNS	170	Standard query response 0x2d62 A push.live.blackview4g.com CNAME push.live.blackview4g.com.w.kunlunso.com A 211.91.241.244 A 211.91.241.243 3、服务器和客户端进行3次握手成功，客户端和服务端RTMP连接成功
//握手第一次 1984	237.434836	2021-06-30 10:25:09.430402	10.10.242.234	211.91.241.244	TCP	76	52090 → 1935 [SYN] Seq=0 Win=65535 Len=0 MSS=1460 SACK_PERM=1 TSval=4294962282 TSecr=0 WS=256 1985	237." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/aef009e886afc34c23824533895368c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-01T09:42:51+08:00" />
<meta property="article:modified_time" content="2021-07-01T09:42:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Wireshark 的使用以及网络包分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>一、Wireshark 时间显示设置<br> 1、在菜单栏上面点击视图-&gt;时间显示格式-&gt;选择自捕获开始经过秒数和自动(根据捕获文件)，如图所示<br> <img src="https://images2.imgbox.com/67/be/rEqgWCx3_o.png" alt="在这里插入图片描述">这样设置就可以看出客户端和服务端每个数据包间隔时间<br> <img src="https://images2.imgbox.com/f8/89/blDfBhpV_o.png" alt="在这里插入图片描述">二、设置列用来显示当前包与前面包的时间间隔，具体步骤如下：<br> 1、点击菜单栏上编辑-&gt;首选项，如图所示<br> <img src="https://images2.imgbox.com/04/33/05PN8uht_o.png" alt="在这里插入图片描述">2、点击首选项后，然后在首选窗口左侧选择外观-&gt;列，如图所示<br> <img src="https://images2.imgbox.com/6f/b5/SU4soPLZ_o.png" alt="在这里插入图片描述">3、点击该窗口的+号添加一个新的一咧，然后命令为tcp.time_delta,然后选择Absolute date,as YYYY-MM-DD,and time 这个时间来捕获设备所处时区的日期和时间，如图所示<br> <img src="https://images2.imgbox.com/50/ab/xTGo3OU7_o.png" alt="在这里插入图片描述">4、在Wireshark首选项窗口中依次选择Protocols-&gt;TCP,然后勾选Calculate conversation timestamps,如图所示<br> <img src="https://images2.imgbox.com/6b/44/SiBHeCCx_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/ea/22/LgayS2Iy_o.png" alt="在这里插入图片描述">三、案例分析<br> 1、本机向DNS服务器查询域名</p> 
<pre><code>1982	237.385558	2021-06-30 10:25:09.381124	10.10.242.234	116.116.116.116	DNS	87	Standard query 0x2d62 A push.live.blackview4g.com
</code></pre> 
<p>2、DNS服务器根据域名向本机客户端响应对应的IP地址</p> 
<pre><code>1983	237.433036	2021-06-30 10:25:09.428602	116.116.116.116	10.10.242.234	DNS	170	Standard query response 0x2d62 A push.live.blackview4g.com CNAME push.live.blackview4g.com.w.kunlunso.com A 211.91.241.244 A 211.91.241.243
</code></pre> 
<p>3、服务器和客户端进行3次握手成功，客户端和服务端RTMP连接成功</p> 
<pre><code>//握手第一次
1984	237.434836	2021-06-30 10:25:09.430402	10.10.242.234	211.91.241.244	TCP	76	52090 → 1935 [SYN] Seq=0 Win=65535 Len=0 MSS=1460 SACK_PERM=1 TSval=4294962282 TSecr=0 WS=256
1985	237.494042	2021-06-30 10:25:09.489608	211.91.241.244	10.10.242.234	TCP	68	1935 → 52090 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1360 SACK_PERM=1 WS=512
1986	237.494242	2021-06-30 10:25:09.489808	10.10.242.234	211.91.241.244	TCP	56	52090 → 1935 [ACK] Seq=1 Ack=1 Win=87808 Len=0
1987	237.494964	2021-06-30 10:25:09.490530	10.10.242.234	211.91.241.244	TCP	1416	52090 → 1935 [ACK] Seq=1 Ack=1 Win=87808 Len=1360
1988	237.495017	2021-06-30 10:25:09.490583	10.10.242.234	211.91.241.244	RTMP	233	Handshake C0+C1
//握手第二次
1989	237.562119	2021-06-30 10:25:09.557685	211.91.241.244	10.10.242.234	TCP	56	1935 → 52090 [ACK] Seq=1 Ack=1361 Win=32256 Len=0
1990	237.562227	2021-06-30 10:25:09.557793	211.91.241.244	10.10.242.234	TCP	56	1935 → 52090 [ACK] Seq=1 Ack=1538 Win=34816 Len=0
1991	237.562262	2021-06-30 10:25:09.557828	211.91.241.244	10.10.242.234	TCP	1416	1935 → 52090 [ACK] Seq=1 Ack=1538 Win=34816 Len=1360
1992	237.562285	2021-06-30 10:25:09.557851	211.91.241.244	10.10.242.234	TCP	233	1935 → 52090 [PSH, ACK] Seq=1361 Ack=1538 Win=34816 Len=177
1993	237.562304	2021-06-30 10:25:09.557870	211.91.241.244	10.10.242.234	TCP	1416	1935 → 52090 [ACK] Seq=1538 Ack=1538 Win=34816 Len=1360
1994	237.562344	2021-06-30 10:25:09.557910	10.10.242.234	211.91.241.244	TCP	56	52090 → 1935 [ACK] Seq=1538 Ack=1361 Win=90624 Len=0
1995	237.562381	2021-06-30 10:25:09.557947	10.10.242.234	211.91.241.244	TCP	56	52090 → 1935 [ACK] Seq=1538 Ack=1538 Win=93440 Len=0
1996	237.562407	2021-06-30 10:25:09.557973	10.10.242.234	211.91.241.244	TCP	56	52090 → 1935 [ACK] Seq=1538 Ack=2898 Win=96256 Len=0
1997	237.562454	2021-06-30 10:25:09.558020	10.10.242.234	211.91.241.244	TCP	1416	52090 → 1935 [ACK] Seq=1538 Ack=2898 Win=96256 Len=1360
1998	237.562483	2021-06-30 10:25:09.558049	10.10.242.234	211.91.241.244	RTMP	232	Handshake C2
//客户端和服务端连接成功
1999	237.612021	2021-06-30 10:25:09.607587	211.91.241.244	10.10.242.234	RTMP	232	Handshake S0+S1+S2
2000	237.612215	2021-06-30 10:25:09.607781	10.10.242.234	211.91.241.244	RTMP	167	connect('app')

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4e45caf6a332d98c8ea3edc5e9356f2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机主机电池馈电,电脑主机电池没电引起故障怎么处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bbb2cd2e3003e9182ee51af623b8f20a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js 函数防抖（debounce）函数节流（throttle）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>