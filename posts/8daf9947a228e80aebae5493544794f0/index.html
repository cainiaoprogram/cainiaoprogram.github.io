<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql中去重 distinct用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql中去重 distinct用法" />
<meta property="og:description" content="在使用mysql时，有时需要查询出某个字段不重复的记录，这时可以使用mysql提供的distinct这个关键字来过滤重复的记录，但是实际中我们往往用distinct来返回不重复字段的条件(count(distinct id))，其原因是distinct只能返回他的目标字段，而无法返回其他字段，例如有如下表user: 用distinct来返回不重复的用户名select distinct name from user,结果为： 这样只把不重复的用户名查询出来了，但是用户的id，并没有被查询出来，如果想要查询不重复的id和name：select distinct name, id from user 像select distinct name, id from user这样的mysql会把name, id字段都重复的记录过滤掉。
但是sql这样写：select id, distinct name from user,这样mysql会报错 因为distinct必须放在要查询字段的开头。 所以一般distinct用来查询不重复记录的条数。 如果要查询不重复的记录，有时候可以用group by：
select id, name from user group by name 参考文献 mysql中去重 distinct 用法：http://blog.csdn.net/xiaofan1988/article/details/43564133" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8daf9947a228e80aebae5493544794f0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-20T13:08:50+08:00" />
<meta property="article:modified_time" content="2017-06-20T13:08:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql中去重 distinct用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在使用mysql时，有时需要查询出某个字段不重复的记录，这时可以使用mysql提供的<strong>distinct</strong>这个关键字来过滤重复的记录，但是实际中我们往往用<strong>distinct</strong>来返回不重复字段的条件(count(distinct id))，其原因是distinct只能返回他的目标字段，而无法返回其他字段，例如有如下表user: <br> <img src="https://images2.imgbox.com/0b/4b/WwqHDKis_o.png" alt="这里写图片描述" title=""> <br> 用distinct来返回不重复的用户名<code>select distinct name from user</code>,结果为： <br> <img src="https://images2.imgbox.com/cc/ca/uBeQP582_o.png" alt="这里写图片描述" title=""> <br> 这样只把不重复的用户名查询出来了，但是用户的id，并没有被查询出来，如果想要查询不重复的id和name：<code>select distinct name, id from user</code> <br> <img src="https://images2.imgbox.com/1c/64/keExhmIv_o.png" alt="这里写图片描述" title=""></p> 
<p>像<code>select distinct name, id from user</code>这样的mysql会把name, id字段都重复的记录过滤掉。</p> 
<p>但是sql这样写：<code>select id, distinct name from user</code>,这样mysql会报错 <br> <strong>因为distinct必须放在要查询字段的开头。</strong> <br> 所以一般distinct用来查询不重复记录的条数。 <br> 如果要查询不重复的记录，有时候可以用group by：</p> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-operator"><span class="hljs-keyword">select</span> id, name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> name</span></code></pre> 
<h2 id="参考文献">参考文献</h2> 
<p>mysql中去重 distinct 用法：<a href="http://blog.csdn.net/xiaofan1988/article/details/43564133">http://blog.csdn.net/xiaofan1988/article/details/43564133</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d455c30138dbc8625aac3bfa906844e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Shell特殊变量：Shell $0, $#, $*, $@, $?, $$和命令行参数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d58805bdb815a049afcf77bf805caa5d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AlarmManager的使用以及该注意的一些坑</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>