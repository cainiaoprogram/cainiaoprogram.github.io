<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>windows qt5.12.0mingw下编译zlib quazip动态库 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="windows qt5.12.0mingw下编译zlib quazip动态库" />
<meta property="og:description" content="一 环境 windows64 qt.5.12.0-mingw 二 编译zlib 2.1)源码下载 http://www.zlib.net/ 点击此处下载，本次下载版本为1.2.11 2.2)解压 zlib-1.2.11.tar.gz 右键解压 G:/test/zlib
2.3)mingw32编译zlib 1.在QT安装菜单中找到QT5.12 for DeskTop工具，运行
2.打开mingw 控制台进入解压目录
cd G:\test\zlib\zlib-1.2.11
然后执行如下指令
copy win32\Makefile.gcc makefile.gcc mingw32-make -f makefile.gcc 3.编译结束拷贝生成zlib1.dll
4.新建zlib文件夹，子目录建立include和lib,把zlib1.dll拷贝到lib目录下，zlib.h zconf.h拷贝到include目录下,留到下一步使用
三 编译quazip 3.1)源码下载 https://sourceforge.net/projects/quazip/ 版本:quazip-0.7.3.zip 3.2)解压 quazip-0.7.3.zip 3.3)配置quazip项目,源码包含pro，使用qtCreator打开 3.4)打开quazip.pro文件，将SUBDIRS=quazip qztest这行代码最后的qztest删除。 3.5)把上一步生成的zlib文件夹拷贝到quazip-0.7.3\quazip目录下 3.6)打开quazip文件夹下的quazip.pro文件，在win32代码块下添加两行代码，将zlib的头文件和库文件包含进来(具体路径根据实际修改) INCLUDEPATH &#43;= $$PWD/zlib/include LIBS &#43;= -L $$PWD/zlib/lib -lzlib1 3.6)将项目改为Release模式，执行qmake，然后在构建，至此编译结束。 3.7)新建libquazip文件夹，子目录建立include和lib,把quazip.dll拷贝到lib目录下，quazip-0.7.3\quazip所有头文件拷贝到include目录下,留到下一步使用 四 测试程序 4.1)新建qt widget测试程序 4.2)把quazip复制到程序目录 4.3)在pro 加入 刚才复制的quazip INCLUDEPATH &#43;= $$PWD/quazip/include win32:{ CONFIG(release, debug |release){ LIBS &#43;= -L$$PWD/quazip/lib -lquazip } CONFIG(debug, debug | release){ LIBS &#43;= -L$$PWD/quazip/lib -lquazipd } } 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/81ce9a764e65ef6f96ba5d3bf00a3cef/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-18T17:02:22+08:00" />
<meta property="article:modified_time" content="2020-08-18T17:02:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">windows qt5.12.0mingw下编译zlib quazip动态库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一 环境</h3> 
<table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>windows64</td><td> </td></tr><tr><td>qt.5.12.0-mingw</td><td> </td></tr><tr><td> </td><td> <p> </p> </td></tr></tbody></table> 
<h3>二 编译zlib</h3> 
<h4>2.1)源码下载<a href="http://www.zlib.net/" rel="nofollow"> http://www.zlib.net/   点击此处下载，本次下载版本为1.2.11</a></h4> 
<p><img alt="" class="has" height="82" src="https://images2.imgbox.com/21/c9/czgl6qO4_o.png" width="815"></p> 
<h4>2.2)解压 zlib-1.2.11.tar.gz</h4> 
<p>右键解压 G:/test/zlib</p> 
<p style="text-align:center;"><img alt="" height="73" src="https://images2.imgbox.com/49/a3/gVrKZ2Wo_o.png" width="618"></p> 
<h4>2.3)mingw32编译zlib</h4> 
<p>1.在QT安装菜单中找到QT5.12 for DeskTop工具，运行</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/82/40/HNtcq761_o.png"></p> 
<p>2.打开mingw 控制台进入解压目录</p> 
<p>cd G:\test\zlib\zlib-1.2.11</p> 
<p>然后执行如下指令</p> 
<pre><code>copy win32\Makefile.gcc makefile.gcc
mingw32-make -f makefile.gcc</code></pre> 
<p><img alt="" height="331" src="https://images2.imgbox.com/8b/6f/ZTcto6S1_o.png" width="977"></p> 
<p>3.编译结束拷贝生成zlib1.dll</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f3/cd/tjzSOCOY_o.png"></p> 
<p>4.新建zlib文件夹，子目录建立include和lib,把zlib1.dll拷贝到lib目录下，zlib.h zconf.h拷贝到include目录下,留到下一步使用</p> 
<p style="text-align:center;"><img alt="" height="107" src="https://images2.imgbox.com/c3/b7/N8BjLeXC_o.png" width="507"></p> 
<p style="text-align:center;"><img alt="" height="115" src="https://images2.imgbox.com/9b/60/UiZvgZ3J_o.png" width="588"></p> 
<p> </p> 
<p style="text-align:center;"><img alt="" height="94" src="https://images2.imgbox.com/b6/5c/FnwtXrV1_o.png" width="598"></p> 
<h3>三 编译quazip</h3> 
<h4>3.1)源码下载 <a href="https://sourceforge.net/projects/quazip/" rel="nofollow">https://sourceforge.net/projects/quazip/ 版本:quazip-0.7.3.zip</a></h4> 
<h4>3.2)解压  quazip-0.7.3.zip</h4> 
<p style="text-align:center;"><img alt="" height="121" src="https://images2.imgbox.com/de/4f/rY2tkYjT_o.png" width="762"></p> 
<h4>3.3)配置quazip项目,源码包含pro，使用qtCreator打开</h4> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/9a/88/z0Z4sPOT_o.png"></p> 
<h4>3.4)打开quazip.pro文件，将SUBDIRS=quazip qztest这行代码最后的qztest删除。</h4> 
<p style="text-align:center;"><img alt="" height="114" src="https://images2.imgbox.com/ba/8a/OnzNfK5j_o.png" width="793"></p> 
<p> </p> 
<h4>3.5)把上一步生成的zlib文件夹拷贝到quazip-0.7.3\quazip目录下</h4> 
<h4>3.6)打开quazip文件夹下的quazip.pro文件，在win32代码块下添加两行代码，将zlib的头文件和库文件包含进来(具体路径根据实际修改)</h4> 
<pre><code> INCLUDEPATH += $$PWD/zlib/include
 LIBS += -L $$PWD/zlib/lib -lzlib1</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/24/af/prCrjdSb_o.png"></p> 
<p> </p> 
<h4>3.6)将项目改为Release模式，执行qmake，然后在构建，至此编译结束。</h4> 
<p> </p> 
<h4>3.7)新建libquazip文件夹，子目录建立include和lib,把quazip.dll拷贝到lib目录下，quazip-0.7.3\quazip所有头文件拷贝到include目录下,留到下一步使用</h4> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3f/1b/iMOb3E20_o.png"></p> 
<p> </p> 
<p> </p> 
<h3>四 测试程序</h3> 
<h4>4.1)新建qt widget测试程序</h4> 
<h4>4.2)把quazip复制到程序目录</h4> 
<h4>4.3)在pro 加入 刚才复制的quazip</h4> 
<pre><code>INCLUDEPATH += $$PWD/quazip/include
win32:{
    CONFIG(release, debug |release){
        LIBS += -L$$PWD/quazip/lib -lquazip
    }
    CONFIG(debug, debug | release){
        LIBS += -L$$PWD/quazip/lib -lquazipd
    }
}</code></pre> 
<p> </p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/e5/82/MruErnpo_o.png" width="1134"></p> 
<h4>4.4)加入代码测试</h4> 
<p> </p> 
<p><img alt="" height="221" src="https://images2.imgbox.com/08/13/WNQxPCMP_o.png" width="750"></p> 
<h4>4.5)运行查看是否可用,把quazip.dll和zlib.dll复制到可执行目录下才能生成压缩文件</h4> 
<p><img alt="" height="241" src="https://images2.imgbox.com/10/e8/mxSVkaBO_o.png" width="791"></p> 
<p><img alt="" height="216" src="https://images2.imgbox.com/8c/5d/VumoIcPS_o.png" width="725"></p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/505fb59aa1d6b3da4f93416576769bf6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用vue开发项目的时候，异步请求数据，连续触发多次请求导致的渲染的数据列表数据错误的问题解决办法。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ae5b1ee5a79abcbc4cfdf6021fa6c76b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt connect通信遇到过的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>