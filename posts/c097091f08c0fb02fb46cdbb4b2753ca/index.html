<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>你真的理解c&#43;&#43;中初始化和赋值这两个概念吗？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="你真的理解c&#43;&#43;中初始化和赋值这两个概念吗？" />
<meta property="og:description" content="谈一谈我对c&#43;&#43;中初始化和赋值的理解 要想说明白这个初始化和赋值的差别，就不得不说到这个构造函数。构造函数是c&#43;&#43;面向对象开发中十分重要的一个特性，对构造函数理解的深入，有助于我们对语言底层的工作的了解，同时也会帮助我们看懂他人比较复杂的代码。
正文： ​ 为什么本文要讲初始化和赋值的差别通过构造函数来进行解释说明呢，我们先来回顾一下《c&#43;&#43; primer》上的一句话，这句话出自书的2.2（P39）:
在c&#43;&#43;语言中，初始化是一个异常复杂的问题，我们已将反复讨论这个问题，很多程序员对于用=来初始化变量的方式倍感困惑，这种方式容易让人认为初始化是赋值的一种。事实上在c&#43;&#43;语言中，初始化和赋值是两个完全不同的操作。
​ 为什么在c&#43;&#43;中初始化和赋值是两种不同的操作呢？如果没有学过c&#43;&#43;的构造函数以及拷贝构造函数，我相信大多数人都很难理解这两者有哪些区别。通过下面几个例子，也许你能明白为什么是有区别的。
例子1
对变量进行初始化：
/* c&#43;&#43; 11关于初始化有4种方式 int units_sold = 0; int units_sold = {0}; int units_sold {0}; int units_sold (0); 为了与后文相对应，方便读者理解，这里我们选择第四种初始化方式 */ int a(10); //创建一个变量a，数据类型为int整型，并对a进行了初始化，值为10 对变量a进行赋值：
a = 0; //给变量a赋值，a现在的值为0 通过这个例子，你能看出初始化和赋值的差别了吗？（如果没有，别着急，继续往下面看）
例子2
定义一个属于自己的类（class），类的名称叫做my_int:
class my_int { public: //构造函数 my_int() = default; //默认构造函数 my_int(const int&amp; num) { m_num = num; //接受一个int参数的构造函数 } //成员变量 int m_num; }; 用刚刚定义的my_int类去实例化一个对象
my_int b(10); //创建一个对象b，数据类型为my_int，并对b进行了初始化，值为10 对 对象b的值进行修改" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c097091f08c0fb02fb46cdbb4b2753ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-07T18:15:59+08:00" />
<meta property="article:modified_time" content="2021-01-07T18:15:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">你真的理解c&#43;&#43;中初始化和赋值这两个概念吗？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="c_0"></a>谈一谈我对c++中初始化和赋值的理解</h2> 
<p>要想说明白这个初始化和赋值的差别，就不得不说到这个构造函数。构造函数是c++面向对象开发中十分重要的一个特性，对构造函数理解的深入，有助于我们对语言底层的工作的了解，同时也会帮助我们看懂他人比较复杂的代码。</p> 
<h3><a id="_4"></a>正文：</h3> 
<p>​ 为什么本文要讲初始化和赋值的差别通过构造函数来进行解释说明呢，我们先来回顾一下《c++ primer》上的一句话，这句话出自书的2.2（P39）:</p> 
<p><em>在c++语言中，初始化是一个异常复杂的问题，我们已将反复讨论这个问题，很多程序员对于用=来初始化变量的方式倍感困惑，这种方式容易让人认为初始化是赋值的一种。事实上在c++语言中，初始化和赋值是两个完全不同的操作。</em></p> 
<p>​ 为什么在c++中初始化和赋值是两种不同的操作呢？如果没有学过c++的构造函数以及拷贝构造函数，我相信大多数人都很难理解这两者有哪些区别。通过下面几个例子，也许你能明白为什么是有区别的。</p> 
<hr> 
<p><strong>例子1</strong></p> 
<ul><li> <p>对变量进行初始化：</p> <pre><code class="prism language-cpp"><span class="token comment">/*
c++ 11关于初始化有4种方式
int units_sold = 0;
int units_sold = {0};
int units_sold {0};
int units_sold (0);
为了与后文相对应，方便读者理解，这里我们选择第四种初始化方式
*/</span>
<span class="token keyword">int</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个变量a，数据类型为int整型，并对a进行了初始化，值为10</span>
</code></pre> </li><li> <p>对变量a进行赋值：</p> <pre><code class="prism language-cpp">a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//给变量a赋值，a现在的值为0</span>
</code></pre> <p>通过这个例子，你能看出初始化和赋值的差别了吗？（如果没有，别着急，继续往下面看）</p> </li></ul> 
<hr> 
<p><strong>例子2</strong></p> 
<ul><li> <p>定义一个属于自己的类（class），类的名称叫做my_int:</p> <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">my_int</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">//构造函数</span>
    <span class="token function">my_int</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span> <span class="token comment">//默认构造函数</span>
    <span class="token function">my_int</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> num<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        m_num <span class="token operator">=</span> num<span class="token punctuation">;</span> <span class="token comment">//接受一个int参数的构造函数</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//成员变量</span>
    <span class="token keyword">int</span> m_num<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>用刚刚定义的my_int类去实例化一个对象</p> <pre><code class="prism language-cpp">my_int <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个对象b，数据类型为my_int，并对b进行了初始化，值为10</span>
</code></pre> </li><li> <p>对 对象b的值进行修改</p> <pre><code class="prism language-cpp">b<span class="token punctuation">.</span>m_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//给对象b赋值，b现在的值为0</span>
</code></pre> <p>通过这个例子，你能看出初始化和赋值的差别了吗？（如果没有，别着急，继续往下面看）</p> </li></ul> 
<hr> 
<p><strong>例子3</strong></p> 
<ul><li> <p>对之前定义的类my_int进行补充，添加一个<em>重载赋值运算符</em>：</p> <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">my_int</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">//构造函数</span>
    <span class="token function">my_int</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span> <span class="token comment">//默认构造函数</span>
    <span class="token function">my_int</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> num<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        m_num <span class="token operator">=</span> num<span class="token punctuation">;</span> <span class="token comment">//接受一个int参数的构造函数</span>
    <span class="token punctuation">}</span>
    my_int<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> my_int<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        m_num <span class="token operator">=</span> rhs<span class="token punctuation">.</span>m_num<span class="token punctuation">;</span> <span class="token comment">//重载运算符</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//成员变量</span>
    <span class="token keyword">int</span> m_num<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>用刚刚定义的my_int类去实例化对象：</p> <pre><code class="prism language-cpp">my_int <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>对 对象c进行赋值：</p> <pre><code class="prism language-cpp">c <span class="token operator">=</span> <span class="token function">my_int</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <p>把这段代码复制到你的编译器中，使用单步调试（F11），看看整段程序的执行过程，我想你应该就能明白初始化和赋值之间的差别了。</p> </li></ul> 
<hr> 
<p>在c++中，我们常用的int、float这些基本数据类型，其实就是语言开发者编写的一个个复杂的类。所谓对象的初始化，就是在创建这个对象的时候，调用构造函数，对其进行值的写入；而所谓的赋值，则是使用运算符“=”修改对象的值。<br> 以上就是本人关于c++中初始化和赋值的差异的理解，主要切入点是类的构造函数。如有不足之处，欢迎指正！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f1892da0f090827398ca1d67d54f06c6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">国外云服务器有哪些?国外云服务器大全</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/218146b8cc6d78a48b474cb546ef5def/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL（三）MySQL-5.7.20 主从复制实战（半同步复制、过滤复制、GTID模式）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>