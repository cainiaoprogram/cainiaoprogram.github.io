<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS 7.2 搭建ftp服务 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS 7.2 搭建ftp服务" />
<meta property="og:description" content="CentOS 7.2搭建ftp服务 ftp服务简介 FTP服务器（File Transfer Protocol Server）是在互联网上提供文件存储和访问服务的计算机，它们依照FTP协议提供服务。 FTP是File Transfer Protocol(文件传输协议)。顾名思义，就是专门用来传输文件的协议。简单地说，支持FTP协议的服务器就是FTP服务器。
认证方式 匿名开放模式：任何人无需密码直接登录ftp服务器上 本地用户模式：使用系统本地使用的用户名密码登录ftp服务器 虚拟用户模式：需要ftp服务器建立单独的用户数据库文件，使用虚拟出来的用户信息来进行认证。 CentOS 7 搭建ftp服务器 一、准备工作 关闭selinux
关闭系统防火墙（firewalld）
配置网络
配置本地yum 源
二、通过yum安装vsftpd yum install -y vsftpd ftp 三、编辑vsftpd的主要配置程序 vsftpd主要配置程序简介 vsftpd的主要配置程序有123行，但是大部分都被注释，没有被注释的参数如下
anonymous_enable=YES #是否以匿名方式访问 local_enable=YES #是否允许本地用户登录ftp write_enable=YES #是否允许写入 local_umask=022	#本地用户上传文件的umask值 dirmessage_enable=YES xferlog_enable=YES connect_from_port_20=YES xferlog_std_format=YES listen=NO #是否以独立运行的方式监听服务 listen_ipv6=YES #监听ipv6地址 pam_service_name=vsftpd #指定PAM的配置文件为vsftpd userlist_enable=YES	#只允许userlist文件中的账号登录 tcp_wrappers=YES 匿名开放模式 安装完vsftpd之后ftp的匿名开放模式默认打开，只用修改配置文件来控制ftp服务器上传，下载，删除等权限。
部分参数:
anonymous_enable=YES 允许匿名访问模式 anon_umask=022 匿名用户上传文件的umask值 anon_upload_enablemYES 允许匿名用户上传文件 anon_mkdir_write_enable=YES 允许匿名用户创建目录 anon_other_write_enable=YES 允许匿名用户修改目录名称或删除目录 将配置写入配置文件之后重启vsftpod
[ rootelinuxprobe ～]# systemctl restart vsftpd [ rootelinuxprobe ~]# systemctl enable vsftpd 1ns&#39;/usr/1ib/systemd/system/vsftpd." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ead5a9625fca4d02268e6ec9710fba9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-25T14:35:39+08:00" />
<meta property="article:modified_time" content="2023-12-25T14:35:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS 7.2 搭建ftp服务</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="CentOS_72ftp_0"></a>CentOS 7.2搭建ftp服务</h2> 
<h3><a id="ftp_1"></a>ftp服务简介</h3> 
<p>FTP服务器（File Transfer Protocol Server）是在互联网上提供文件存储和访问服务的计算机，它们依照FTP协议提供服务。 FTP是File Transfer Protocol(文件传输协议)。顾名思义，就是专门用来传输文件的协议。简单地说，支持FTP协议的服务器就是FTP服务器。</p> 
<h3><a id="_3"></a>认证方式</h3> 
<h4><a id="ftp_4"></a>匿名开放模式：任何人无需密码直接登录ftp服务器上</h4> 
<h4><a id="ftp_5"></a>本地用户模式：使用系统本地使用的用户名密码登录ftp服务器</h4> 
<h4><a id="ftp_6"></a>虚拟用户模式：需要ftp服务器建立单独的用户数据库文件，使用虚拟出来的用户信息来进行认证。</h4> 
<h3><a id="CentOS_7_ftp_8"></a>CentOS 7 搭建ftp服务器</h3> 
<h4><a id="_9"></a>一、准备工作</h4> 
<p>关闭selinux<br> 关闭系统防火墙（firewalld）<br> 配置网络<br> 配置本地yum 源</p> 
<h4><a id="yumvsftpd_14"></a>二、通过yum安装vsftpd</h4> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> vsftpd <span class="token function">ftp</span>
</code></pre> 
<h4><a id="vsftpd_18"></a>三、编辑vsftpd的主要配置程序</h4> 
<h5><a id="vsftpd_19"></a>vsftpd主要配置程序简介</h5> 
<p>vsftpd的主要配置程序有123行，但是大部分都被注释，没有被注释的参数如下</p> 
<pre><code class="prism language-shell"><span class="token assign-left variable">anonymous_enable</span><span class="token operator">=</span>YES   <span class="token comment">#是否以匿名方式访问</span>
<span class="token assign-left variable">local_enable</span><span class="token operator">=</span>YES       <span class="token comment">#是否允许本地用户登录ftp</span>
<span class="token assign-left variable">write_enable</span><span class="token operator">=</span>YES       <span class="token comment">#是否允许写入</span>
<span class="token assign-left variable">local_umask</span><span class="token operator">=</span>022		   <span class="token comment">#本地用户上传文件的umask值</span>
<span class="token assign-left variable">dirmessage_enable</span><span class="token operator">=</span>YES  
<span class="token assign-left variable">xferlog_enable</span><span class="token operator">=</span>YES
<span class="token assign-left variable">connect_from_port_20</span><span class="token operator">=</span>YES
<span class="token assign-left variable">xferlog_std_format</span><span class="token operator">=</span>YES
<span class="token assign-left variable">listen</span><span class="token operator">=</span>NO        <span class="token comment">#是否以独立运行的方式监听服务</span>
<span class="token assign-left variable">listen_ipv6</span><span class="token operator">=</span>YES  <span class="token comment">#监听ipv6地址</span>
<span class="token assign-left variable">pam_service_name</span><span class="token operator">=</span>vsftpd   <span class="token comment">#指定PAM的配置文件为vsftpd</span>
<span class="token assign-left variable">userlist_enable</span><span class="token operator">=</span>YES		<span class="token comment">#只允许userlist文件中的账号登录</span>
<span class="token assign-left variable">tcp_wrappers</span><span class="token operator">=</span>YES
</code></pre> 
<h5><a id="_37"></a>匿名开放模式</h5> 
<p>安装完vsftpd之后ftp的匿名开放模式默认打开，只用修改配置文件来控制ftp服务器上传，下载，删除等权限。<br> 部分参数:</p> 
<pre><code class="prism language-text">anonymous_enable=YES            允许匿名访问模式
anon_umask=022                        匿名用户上传文件的umask值
anon_upload_enablemYES         允许匿名用户上传文件
anon_mkdir_write_enable=YES  允许匿名用户创建目录
anon_other_write_enable=YES   允许匿名用户修改目录名称或删除目录
</code></pre> 
<p>将配置写入配置文件之后重启vsftpod</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span> rootelinuxprobe ～<span class="token punctuation">]</span><span class="token comment"># systemctl restart vsftpd</span>
<span class="token punctuation">[</span> rootelinuxprobe ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable vsftpd</span>
1ns<span class="token string">'/usr/1ib/systemd/system/vsftpd.service'</span>'/etc/systemd/system/multi-user.target. wants/vsftpd. <span class="token function">service</span>
</code></pre> 
<p>现在就可以在客户端执行ftp命令连接到远程的FTP服务器了。在vsftpd服务程序的匿名开放认证模式下，其账户统一为anonymous，密码为空。而且在连接到FTP服务器后，默认访问的是/var/ftp目录。我们可以切换到该目录下的pub目录中，然后尝试创建一个新的目录文件，以检验是否拥有权限。</p> 
<h4><a id="_55"></a>本地用户模式</h4> 
<p>将配置文件中允许匿名方式访问关闭。<br> 配置部分参数</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">anonymous_enable</span><span class="token operator">=</span>No 禁止匿名访问模式
<span class="token assign-left variable">1ocal_enable</span><span class="token operator">=</span>YES    允许本地用户模式
<span class="token assign-left variable">write_enable</span><span class="token operator">=</span>YES    设置可写权限
<span class="token assign-left variable">1ocal_umask</span><span class="token operator">=</span>022     本地用户模式创建文件的umask值
<span class="token assign-left variable">userlist_enable</span><span class="token operator">=</span>YEs 启用“禁止用户名单”，名单文件为ftpusers和user_list <span class="token assign-left variable">user1ist_deny</span><span class="token operator">=</span>YES   开启用户作用名单文件功能
</code></pre> 
<p>将配置写入配置文件之后重启vsftpod</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span> rootelinuxprobe ～<span class="token punctuation">]</span><span class="token comment"># systemctl restart vsftpd</span>
<span class="token punctuation">[</span> rootelinuxprobe ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable vsftpd</span>
1ns<span class="token string">'/usr/1ib/systemd/system/vsftpd.service'</span>'/etc/systemd/system/multi-user.target. wants/vsftpd. <span class="token function">service</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a82529d8f4cbe1aeff6e9cc142cd09c5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">博客文章系统mysql</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fef5546d915d2a205006ae3d574e1f4c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">牛津六年级上册英语知识点总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>