<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>oracle与mysql操作上的区别 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="oracle与mysql操作上的区别" />
<meta property="og:description" content="索引 一、日期时间日期时间截取格式化时间系统时间时间间隔insert日期日期运算 二、字符串字符串拼接字符集转换为char截取字符串字符串变数值正则模式查询 三、空值 null 相关判断是否为空空值 null 排序（Order by 语法） 四、其他条件判断取前几条自增加 一、日期时间 日期时间截取 //oracle TRUNC（date[,fmt]）可截取日期和时间 trunc(sysdate, &#39;mm&#39;); //mysql DATE(date) 只截取日期部分 DATE(datestring) 格式化时间 //oracle TO_CHAR，TO_DATE SELECT TO_CHAR(SYSDATE,&#39;yyyy-MM-dd HH24:mi:ss&#39;) FROM dual SELECT TO_DATE(&#39;2005-01-01 13:14:20&#39;,&#39;yyyy-MM-dd HH24:mi:ss&#39;) FROM dual //mysql STR_TO_DATE，DATE_FORMAT，CAST //字段类型是varchar，用DATE_FORMAT；字段类型是时间，用STR_TO_DATE SELECT STR_TO_DATE( &#39;2017-02-09 15:25:46.635&#39;,&#39;%Y-%m-%d %H:%i:%s&#39;) FROM DUAL;//字符串转时间类型 SELECT DATE_FORMAT(NOW(),&#39;%Y-%m-%d %H:%i:%S&#39;) FROM dual;//时间类型转字符串 SELECT CAST(NOW() AS DATETIME) FROM DUAL 系统时间 //oracle SYSDATE //mysql NOW() 时间间隔 //oracle 两日期间的月份数 MONTHS_BETWEEN //mysql 两日期间的天数 DATEDIFF insert日期 //oracle 需要把时间格式化 //mysql 可直接插入时间字符串 日期运算 //oracle 日期d加上n个月 ADD_MONTHS(d,n) //mysql 日期加上几天或几个小时 DATE_ADD(date,INTERVAL expr type) 二、字符串 字符串拼接 //oracle str1||str2||str3 //mysql concat(str1,str2,…) 字符集转换为char //oracle 参数一：要转换的字符串，参数二：字符串的字符集。 TO_CHAR( string-expression [, source-charset-name ] ) //mysql 如果oracle的TO_CHAR未指定参数二 CAST( string-expression AS CHAR ) 截取字符串 //oracle 截取位置从0开始 substr() //mysql 截取位置从1开始 substr() substring() //从开始位置st截取到最后 substr(str,st) //从位置st截取到位置en substr(str,st,en) 字符串变数值 //oracle TO_NUMBER(&#39;123&#39;): //mysql cast( &#39;123&#39; as SIGNED INTEGER) 正则模式查询 //oracle regexp_like() select * from tb where regexp_like(name,’z’); //mysql regexp select * from tb where name regexp ’z’; 三、空值 null 相关 判断是否为空 第一个参数为空，就返回第二个参数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/355af63b1f354b95996f7495f212781d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-16T18:03:09+08:00" />
<meta property="article:modified_time" content="2019-01-16T18:03:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">oracle与mysql操作上的区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>索引</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">一、日期时间</a></li><li><ul><li><ul><li><a href="#_2" rel="nofollow">日期时间截取</a></li><li><a href="#_10" rel="nofollow">格式化时间</a></li><li><a href="#_22" rel="nofollow">系统时间</a></li><li><a href="#_30" rel="nofollow">时间间隔</a></li><li><a href="#insert_38" rel="nofollow">insert日期</a></li><li><a href="#_46" rel="nofollow">日期运算</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_54" rel="nofollow">二、字符串</a></li><li><ul><li><ul><li><a href="#_55" rel="nofollow">字符串拼接</a></li><li><a href="#char_63" rel="nofollow">字符集转换为char</a></li><li><a href="#_71" rel="nofollow">截取字符串</a></li><li><a href="#_85" rel="nofollow">字符串变数值</a></li><li><a href="#_93" rel="nofollow">正则模式查询</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_null__101" rel="nofollow">三、空值 null 相关</a></li><li><ul><li><ul><li><a href="#_102" rel="nofollow">判断是否为空</a></li><li><a href="#_null_Order_by__112" rel="nofollow">空值 null 排序（Order by 语法）</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_128" rel="nofollow">四、其他</a></li><li><ul><li><ul><li><a href="#_129" rel="nofollow">条件判断</a></li><li><a href="#_139" rel="nofollow">取前几条</a></li><li><a href="#_147" rel="nofollow">自增加</a></li><li><a href="#_155" rel="nofollow"></a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>一、日期时间</h3> 
<h5><a id="_2"></a>日期时间截取</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle TRUNC（date[,fmt]）可截取日期和时间</span>
trunc<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> <span class="token string">'mm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//mysql DATE(date) 只截取日期部分</span>
<span class="token keyword">DATE</span><span class="token punctuation">(</span>datestring<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_10"></a>格式化时间</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle TO_CHAR，TO_DATE</span>
<span class="token keyword">SELECT</span> TO_CHAR<span class="token punctuation">(</span>SYSDATE<span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH24:mi:ss'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> dual
<span class="token keyword">SELECT</span> TO_DATE<span class="token punctuation">(</span><span class="token string">'2005-01-01 13:14:20'</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH24:mi:ss'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> dual

<span class="token comment">//mysql STR_TO_DATE，DATE_FORMAT，CAST</span>
<span class="token comment">//字段类型是varchar，用DATE_FORMAT；字段类型是时间，用STR_TO_DATE</span>
<span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span> <span class="token string">'2017-02-09 15:25:46.635'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%i:%s'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span class="token comment">//字符串转时间类型</span>
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%i:%S'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> dual<span class="token punctuation">;</span><span class="token comment">//时间类型转字符串</span>
<span class="token keyword">SELECT</span> CAST<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">DATETIME</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL
</code></pre> 
<h5><a id="_22"></a>系统时间</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle</span>
SYSDATE

<span class="token comment">//mysql</span>
<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_30"></a>时间间隔</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle 两日期间的月份数</span>
MONTHS_BETWEEN

<span class="token comment">//mysql 两日期间的天数</span>
DATEDIFF
</code></pre> 
<h5><a id="insert_38"></a>insert日期</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle</span>
需要把时间格式化

<span class="token comment">//mysql </span>
可直接插入时间字符串
</code></pre> 
<h5><a id="_46"></a>日期运算</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle 日期d加上n个月</span>
ADD_MONTHS<span class="token punctuation">(</span>d<span class="token punctuation">,</span>n<span class="token punctuation">)</span>

<span class="token comment">//mysql 日期加上几天或几个小时</span>
DATE_ADD<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> expr <span class="token keyword">type</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_54"></a>二、字符串</h3> 
<h5><a id="_55"></a>字符串拼接</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle</span>
str1<span class="token operator">||</span>str2<span class="token operator">||</span>str3

<span class="token comment">//mysql</span>
concat<span class="token punctuation">(</span>str1<span class="token punctuation">,</span>str2<span class="token punctuation">,</span>…<span class="token punctuation">)</span> 
</code></pre> 
<h5><a id="char_63"></a>字符集转换为char</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle 参数一：要转换的字符串，参数二：字符串的字符集。</span>
TO_CHAR<span class="token punctuation">(</span> string<span class="token operator">-</span>expression <span class="token punctuation">[</span><span class="token punctuation">,</span> source<span class="token operator">-</span><span class="token keyword">charset</span><span class="token operator">-</span>name <span class="token punctuation">]</span> <span class="token punctuation">)</span>

<span class="token comment">//mysql 如果oracle的TO_CHAR未指定参数二</span>
CAST<span class="token punctuation">(</span> string<span class="token operator">-</span>expression <span class="token keyword">AS</span> <span class="token keyword">CHAR</span> <span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_71"></a>截取字符串</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle 截取位置从0开始</span>
substr<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//mysql 截取位置从1开始</span>
substr<span class="token punctuation">(</span><span class="token punctuation">)</span>
substring<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//从开始位置st截取到最后</span>
substr<span class="token punctuation">(</span>str<span class="token punctuation">,</span>st<span class="token punctuation">)</span>
<span class="token comment">//从位置st截取到位置en</span>
substr<span class="token punctuation">(</span>str<span class="token punctuation">,</span>st<span class="token punctuation">,</span>en<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_85"></a>字符串变数值</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle</span>
TO_NUMBER<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>: 

<span class="token comment">//mysql</span>
cast<span class="token punctuation">(</span> <span class="token string">'123'</span> <span class="token keyword">as</span> SIGNED <span class="token keyword">INTEGER</span><span class="token punctuation">)</span> 
</code></pre> 
<h5><a id="_93"></a>正则模式查询</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle regexp_like()</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb <span class="token keyword">where</span> regexp_like<span class="token punctuation">(</span>name<span class="token punctuation">,</span>’z’<span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//mysql regexp</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb <span class="token keyword">where</span> name <span class="token operator">regexp</span> ’z’<span class="token punctuation">;</span> 
</code></pre> 
<h3><a id="_null__101"></a>三、空值 null 相关</h3> 
<h5><a id="_102"></a>判断是否为空</h5> 
<p>第一个参数为空，就返回第二个参数<br> 相当于 java 中的三目运算符 String s = a != null ? a : " ";</p> 
<pre><code class="prism language-sql"><span class="token comment">//oracle nvl</span>
<span class="token keyword">SELECT</span> nvl<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span>expr2<span class="token punctuation">)</span>

<span class="token comment">//mysql ifnull</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span>expr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_null_Order_by__112"></a>空值 null 排序（Order by 语法）</h5> 
<p><strong>oracle</strong><br> order by colum asc ：null默认被放在最后<br> order by colum desc ：null默认被放在最前<br> <strong>mysql</strong><br> order by colum asc ：null默认被放在最前<br> order by colum desc ：null默认被放在最后</p> 
<pre><code class="prism language-sql"><span class="token comment">//oracle</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> colum <span class="token keyword">asc</span> nulls <span class="token keyword">first</span> <span class="token comment">//强制null放在最前，不为null的按声明顺序[asc|desc]进行排序</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> colum <span class="token keyword">asc</span> nulls <span class="token keyword">last</span> <span class="token comment">//强制null放在最后，不为null的按声明顺序[asc|desc]进行排序 </span>

<span class="token comment">//mysql</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> colum <span class="token keyword">asc</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>ISNULL<span class="token punctuation">(</span>colum<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//null被强制放在最前，不为null的按声明顺序[asc|desc]进行排序</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> colum <span class="token keyword">asc</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>ISNULL<span class="token punctuation">(</span>colum<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//null被强制放在最后，不为null的按声明顺序[asc|desc]进行排序</span>
</code></pre> 
<h3><a id="_128"></a>四、其他</h3> 
<h5><a id="_129"></a>条件判断</h5> 
<p>如果 id = admin，返回1，否则返回0</p> 
<pre><code class="prism language-sql"><span class="token comment">//oracle decode(条件,值1,返回值1,值2,返回值2,...值n,返回值n,缺省值) </span>
<span class="token comment">//如果条件等于值1-&gt;返回值1,条件等于值2-&gt;返回值2,...,没有匹配的值-&gt;缺省值</span>
DECODE<span class="token punctuation">(</span>id<span class="token punctuation">,</span> admin<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">//mysql IF(expr1,expr2,expr3) 如果expr1为true，返回expr2，否则返回expr3</span>
<span class="token keyword">IF</span> <span class="token punctuation">(</span>id <span class="token operator">=</span> admin<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_139"></a>取前几条</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle ROWNUM</span>
<span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name <span class="token keyword">LIMIT</span> number

<span class="token comment">//mysql LIMIT</span>
<span class="token keyword">SELECT</span> column_name<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name <span class="token keyword">WHERE</span> ROWNUM <span class="token operator">&lt;=</span> number
</code></pre> 
<h5><a id="_147"></a>自增加</h5> 
<pre><code class="prism language-sql"><span class="token comment">//oracle </span>
<span class="token keyword">CREATE</span> SEQUENCE 字段名

<span class="token comment">//mysql</span>
AUTO INCREMENT
</code></pre> 
<h5><a id="_155"></a></h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/54aa0f2723d495e2608e732be38f9a2e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机基础（笔记）——计算机网络（链路层）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/91f907c69fe9fba63cb2ec44b7656b3a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">百度地图POI数据获取</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>