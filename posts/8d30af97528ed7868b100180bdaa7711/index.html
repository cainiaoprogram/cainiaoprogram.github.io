<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Rockchip PX30/RK3326 Android开机时间优化 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Rockchip PX30/RK3326 Android开机时间优化" />
<meta property="og:description" content="“Rockchip_PX30RK3326_Android_0”&gt;Rockchip PX30/RK3326 Android开机时间优化
RK的kernel是一个通用版本的kernel，为了兼容各个芯片会把每个芯片的配置和产品上面的需要的外设都配置编译，这样就会导致kernel的加载的驱动模块很多，拖慢开机速度，而这些驱动中有一些是具体产品上没有用到的，可以进行删减的。按这个思路我们可以针对每个具体的产品对kernel进行瘦身裁剪，下面以PX30和RK3326芯片平台为例进行裁剪。
具体的kernel模块加载时间和模块信息可以通过下面的文章获取
kernel打印模块驱动加载时间
裁剪前后的固件和开机时间对比 项目kernel裁剪前kernel裁剪后kernel.img固件大小31M25Muboot启动耗时871.766 ms826.115 mskernel启动完到init1.273138s1.200982sandroid启动完成29.871925s23.537320s 启动时间可以根据如下log判断：
uboot启动时间 Adding bank: 0x00200000 - 0x08400000 (size: 0x08200000) Adding bank: 0x08c00000 - 0x80000000 (size: 0x77400000) Total: 826.115 ms kernel阶段 [ 1.215979] Run /init as init process [ 1.226837] init: init first stage started! android阶段 [ 23.537320] init: Service &#39;bootanim&#39; (pid 151) exited with status 0 oneshot service took 19.760000 seconds in background [ 23.537402] init: Sending signal 9 to service &#39;bootanim&#39; (pid 151) process group." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8d30af97528ed7868b100180bdaa7711/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-05T17:19:32+08:00" />
<meta property="article:modified_time" content="2022-09-05T17:19:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Rockchip PX30/RK3326 Android开机时间优化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>“Rockchip_PX30RK3326_Android_0”&gt;Rockchip PX30/RK3326 Android开机时间优化</p> 
<p>RK的kernel是一个通用版本的kernel，为了兼容各个芯片会把每个芯片的配置和产品上面的需要的外设都配置编译，这样就会导致kernel的加载的驱动模块很多，拖慢开机速度，而这些驱动中有一些是具体产品上没有用到的，可以进行删减的。按这个思路我们可以针对每个具体的产品对kernel进行瘦身裁剪，下面以PX30和RK3326芯片平台为例进行裁剪。<br> 具体的kernel模块加载时间和模块信息可以通过下面的文章获取<br> <a href="https://blog.csdn.net/weixin_43245753/article/details/126198497?spm=1001.2014.3001.5502">kernel打印模块驱动加载时间</a></p> 
<h5><a id="_4"></a>裁剪前后的固件和开机时间对比</h5> 
<div class="table-box"> 
 <table><thead><tr><th>项目</th><th>kernel裁剪前</th><th>kernel裁剪后</th></tr></thead><tbody><tr><td>kernel.img固件大小</td><td>31M</td><td>25M</td></tr><tr><td>uboot启动耗时</td><td>871.766 ms</td><td>826.115 ms</td></tr><tr><td>kernel启动完到init</td><td>1.273138s</td><td>1.200982s</td></tr><tr><td>android启动完成</td><td>29.871925s</td><td>23.537320s</td></tr></tbody></table> 
</div> 
<p>启动时间可以根据如下log判断：</p> 
<ul><li>uboot启动时间</li></ul> 
<pre class="prettyprint"><code class="prism language-bash has-numbering">Adding bank: 0x00200000 - 0x08400000 <span class="token punctuation">(</span>size: 0x08200000<span class="token punctuation">)</span>
Adding bank: 0x08c00000 - 0x80000000 <span class="token punctuation">(</span>size: 0x77400000<span class="token punctuation">)</span>
Total: <span class="token number">826.115</span> ms
</code></pre> 
<ul><li>kernel阶段</li></ul> 
<pre class="prettyprint"><code class="prism language-bash has-numbering"><span class="token punctuation">[</span>    <span class="token number">1.215979</span><span class="token punctuation">]</span> Run /init as init process
<span class="token punctuation">[</span>    <span class="token number">1.226837</span><span class="token punctuation">]</span> init: init first stage started<span class="token operator">!</span>
</code></pre> 
<ul><li>android阶段</li></ul> 
<pre class="prettyprint"><code class="prism language-bash has-numbering"><span class="token punctuation">[</span>   <span class="token number">23.537320</span><span class="token punctuation">]</span> init: Service <span class="token string">'bootanim'</span> <span class="token punctuation">(</span>pid <span class="token number">151</span><span class="token punctuation">)</span> exited with status <span class="token number">0</span> oneshot <span class="token function">service</span> took <span class="token number">19.760000</span> seconds <span class="token keyword">in</span> background
<span class="token punctuation">[</span>   <span class="token number">23.537402</span><span class="token punctuation">]</span> init: Sending signal <span class="token number">9</span> to <span class="token function">service</span> <span class="token string">'bootanim'</span> <span class="token punctuation">(</span>pid <span class="token number">151</span><span class="token punctuation">)</span> process group<span class="token punctuation">..</span>.
</code></pre> 
<p>裁剪主要是对rockchip_defconfig的配置内容进行裁剪，具体如下：</p> 
<pre class="set-code-hide prettyprint"><code class="prism language-bash has-numbering"><span class="token function">diff</span> --git a/arch/arm64/configs/rockchip_defconfig b/arch/arm64/configs/rockchip_defconfig
old mode <span class="token number">100644</span>
new mode <span class="token number">100755</span>
index b0f9a348a881<span class="token punctuation">..</span>6be9a9d1a48b
--- a/arch/arm64/configs/rockchip_defconfig
+++ b/arch/arm64/configs/rockchip_defconfig
@@ -10,9 +10,9 @@ <span class="token assign-left variable">CONFIG_TASK_DELAY_ACCT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_TASK_XACCT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_TASK_IO_ACCOUNTING</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_PSI</span><span class="token operator">=</span>y
 <span class="token comment"># 把内核的配置信息编译进内核中,以后可以通过scripts/extract-ikconfig脚本从内核镜像中提取这些信息， 可以去掉</span>
-CONFIG_IKCONFIG<span class="token operator">=</span>y
-CONFIG_IKCONFIG_PROC<span class="token operator">=</span>y
-CONFIG_IKHEADERS<span class="token operator">=</span>m
+<span class="token comment"># CONFIG_IKCONFIG is not set</span>
+<span class="token comment"># CONFIG_IKCONFIG_PROC is not set</span>
+<span class="token comment"># CONFIG_IKHEADERS is not set</span>
 <span class="token assign-left variable">CONFIG_LOG_BUF_SHIFT</span><span class="token operator">=</span><span class="token number">19</span>
 <span class="token assign-left variable">CONFIG_CGROUPS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_MEMCG</span><span class="token operator">=</span>y
@@ -44,10 +44,10 @@ <span class="token assign-left variable">CONFIG_EMBEDDED</span><span class="token operator">=</span>y
 <span class="token comment"># CONFIG_COMPAT_BRK is not set</span>
 <span class="token assign-left variable">CONFIG_PROFILING</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_ARCH_ROCKCHIP</span><span class="token operator">=</span>y
 <span class="token comment">#PCIE的配置，可以根据产品需要进行配置，因为PX30开发板上面没有PCIE，所以这里就删掉PCIE配置</span>
-CONFIG_PCI<span class="token operator">=</span>y
-CONFIG_PCIEPORTBUS<span class="token operator">=</span>y
-CONFIG_PCIE_ROCKCHIP_HOST<span class="token operator">=</span>y
-CONFIG_PCIE_DW_ROCKCHIP<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_PCI is not set</span>
+<span class="token comment"># CONFIG_PCIEPORTBUS is not set</span>
+<span class="token comment"># CONFIG_PCIE_ROCKCHIP_HOST is not set</span>
+<span class="token comment"># CONFIG_PCIE_DW_ROCKCHIP is not set</span>
 <span class="token comment"># CONFIG_ARM64_ERRATUM_826319 is not set</span>
 <span class="token comment"># CONFIG_ARM64_ERRATUM_827319 is not set</span>
 <span class="token comment"># CONFIG_ARM64_ERRATUM_824069 is not set</span>
 @@ -78,8 +78,8 @@ <span class="token assign-left variable">CONFIG_COMPAT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_PM_WAKELOCKS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_PM_WAKELOCKS_LIMIT</span><span class="token operator">=</span><span class="token number">0</span>
 <span class="token comment"># CONFIG_PM_WAKELOCKS_GC is not set</span>
-CONFIG_PM_DEBUG<span class="token operator">=</span>y
-CONFIG_PM_ADVANCED_DEBUG<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_PM_DEBUG=y</span>
+<span class="token comment">#CONFIG_PM_ADVANCED_DEBUG=y</span>
 <span class="token assign-left variable">CONFIG_ENERGY_MODEL</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_CPU_IDLE</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_ARM_CPUIDLE</span><span class="token operator">=</span>y
@@ -288,7 +288,7 @@ <span class="token assign-left variable">CONFIG_DM_DEFAULT_KEY</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DM_SNAPSHOT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DM_UEVENT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DM_VERITY</span><span class="token operator">=</span>y
 <span class="token comment">#AVB功能，根据Android上层是否开启AVB来确定是否配置</span>
-CONFIG_DM_VERITY_AVB<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_DM_VERITY_AVB=y</span>
 <span class="token assign-left variable">CONFIG_DM_VERITY_FEC</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DM_BOW</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DM_ANDROID_VERITY_AT_MOST_ONCE_DEFAULT_ENABLED</span><span class="token operator">=</span>y
@@ -357,7 +357,7 @@ <span class="token assign-left variable">CONFIG_STMMAC_ETH</span><span class="token operator">=</span>y
 <span class="token comment"># CONFIG_NET_VENDOR_VIA is not set</span>
 <span class="token comment"># CONFIG_NET_VENDOR_WIZNET is not set</span>
 <span class="token assign-left variable">CONFIG_ROCKCHIP_PHY</span><span class="token operator">=</span>y
 <span class="token comment"># RK630根据产品需要进行配置，PX30开发板上面没有所以去掉</span>
-CONFIG_RK630_PHY<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_RK630_PHY is not set</span>
 <span class="token assign-left variable">CONFIG_PPP</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_PPP_BSDCOMP</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_PPP_DEFLATE</span><span class="token operator">=</span>y
@@ -375,27 +375,27 @@ <span class="token assign-left variable">CONFIG_SLIP_MODE_SLIP6</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_CATC</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_KAWETH</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_PEGASUS</span><span class="token operator">=</span>y
 <span class="token comment">#USB转以太网模块，根据产品需要进行配置，PX30开发板上面没有所以去掉</span>
-CONFIG_USB_RTL8150<span class="token operator">=</span>y
-CONFIG_USB_RTL8152<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_USB_RTL8150 is not set</span>
+<span class="token comment"># CONFIG_USB_RTL8152 is not set</span>
 <span class="token assign-left variable">CONFIG_USB_USBNET</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_NET_CDC_EEM</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_NET_CDC_MBIM</span><span class="token operator">=</span>y
 <span class="token comment">#USB网卡，根据产品需要进行配置，PX30开发板上面没有所以去掉</span>
-CONFIG_USB_NET_DM9601<span class="token operator">=</span>y
-CONFIG_USB_NET_SMSC75XX<span class="token operator">=</span>y
-CONFIG_USB_NET_SMSC95XX<span class="token operator">=</span>y
-CONFIG_USB_NET_GL620A<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_USB_NET_DM9601 is not set</span>
+<span class="token comment"># CONFIG_USB_NET_SMSC75XX is not set</span>
+<span class="token comment"># CONFIG_USB_NET_SMSC95XX is not set</span>
+<span class="token comment"># CONFIG_USB_NET_GL620A is not set</span>
 <span class="token assign-left variable">CONFIG_USB_NET_PLUSB</span><span class="token operator">=</span>y
-CONFIG_USB_NET_MCS7830<span class="token operator">=</span>y
-CONFIG_USB_NET_RNDIS_HOST<span class="token operator">=</span>y
-CONFIG_USB_ALI_M5632<span class="token operator">=</span>y
-CONFIG_USB_AN2720<span class="token operator">=</span>y
-CONFIG_USB_EPSON2888<span class="token operator">=</span>y
-CONFIG_USB_KC2190<span class="token operator">=</span>y
-CONFIG_USB_NET_CX82310_ETH<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_USB_NET_MCS7830 is not set</span>
+<span class="token comment"># CONFIG_USB_NET_RNDIS_HOST=y</span>
+<span class="token comment"># CONFIG_USB_ALI_M5632 is not set</span>
+<span class="token comment"># CONFIG_USB_AN2720 is not set</span>
+<span class="token comment"># CONFIG_USB_EPSON2888 is not set</span>
+<span class="token comment"># CONFIG_USB_KC2190 is not set</span>
+<span class="token comment"># CONFIG_USB_NET_CX82310_ETH is not set</span>
 <span class="token assign-left variable">CONFIG_USB_NET_KALMIA</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_NET_QMI_WWAN</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_HSO</span><span class="token operator">=</span>y
-CONFIG_USB_NET_INT51X1<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_USB_NET_INT51X1 is not set</span>
 <span class="token assign-left variable">CONFIG_USB_IPHETH</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_USB_SIERRA_NET</span><span class="token operator">=</span>y
 <span class="token comment"># CONFIG_WLAN_VENDOR_ADMTEK is not set</span>
@@ -417,80 +417,80 @@ <span class="token assign-left variable">CONFIG_USB_SIERRA_NET</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_WL_ROCKCHIP</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_WIFI_BUILD_MODULE</span><span class="token operator">=</span>y
 <span class="token comment">#WIFI模块，根据产品需要进行配置，PX30开发板上面用的是AP6XXX，其他的几个配置去掉</span>
 <span class="token assign-left variable">CONFIG_AP6XXX</span><span class="token operator">=</span>m
-CONFIG_RTL8723CS<span class="token operator">=</span>m
-CONFIG_RTL8821CS<span class="token operator">=</span>m
-CONFIG_RTL8822BS<span class="token operator">=</span>m
-CONFIG_LTE<span class="token operator">=</span>y
-CONFIG_LTE_RM310<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_RTL8723CS is not set</span>
+<span class="token comment"># CONFIG_RTL8821CS is not set</span>
+<span class="token comment"># CONFIG_RTL8822BS is not set</span>
+<span class="token comment"># CONFIG_LTE is not set</span>
+<span class="token comment"># CONFIG_LTE_RM310 is not set</span>
 <span class="token assign-left variable">CONFIG_INPUT_EVDEV</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_KEYBOARD_ADC</span><span class="token operator">=</span>y
 <span class="token comment"># CONFIG_KEYBOARD_ATKBD is not set</span>
  <span class="token comment">#通过GPIO来做按键，PX30EVB板子是通过ADC，所以这里去掉GPIO的配置项</span>
-CONFIG_KEYBOARD_GPIO<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_KEYBOARD_GPIO is not set</span>
 <span class="token comment"># CONFIG_INPUT_MOUSE is not set</span>
 <span class="token assign-left variable">CONFIG_INPUT_JOYSTICK</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_JOYSTICK_XPAD</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_JOYSTICK_XPAD_FF</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_JOYSTICK_XPAD_LEDS</span><span class="token operator">=</span>y
 <span class="token comment">#USB触摸板，根据需要配置，PX30开发板上面没有所以去掉</span>
-CONFIG_INPUT_TABLET<span class="token operator">=</span>y
-CONFIG_TABLET_USB_ACECAD<span class="token operator">=</span>y
-CONFIG_TABLET_USB_AIPTEK<span class="token operator">=</span>y
-CONFIG_TABLET_USB_GTCO<span class="token operator">=</span>y
-CONFIG_TABLET_USB_HANWANG<span class="token operator">=</span>y
-CONFIG_TABLET_USB_KBTAB<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_INPUT_TABLET is not set</span>
+<span class="token comment">#CONFIG_TABLET_USB_ACECAD is not set</span>
+<span class="token comment">#CONFIG_TABLET_USB_AIPTEK is not set</span>
+<span class="token comment">#CONFIG_TABLET_USB_GTCO is not set</span>
+<span class="token comment">#CONFIG_TABLET_USB_HANWANG is not set</span>
+<span class="token comment">#CONFIG_TABLET_USB_KBTAB= is not set</span>
 <span class="token assign-left variable">CONFIG_INPUT_TOUCHSCREEN</span><span class="token operator">=</span>y
 <span class="token comment">#触摸屏，根据需要配置，PX30开发板用的是GT1X，其他的没用所以去掉，只留下需要的</span>
 <span class="token assign-left variable">CONFIG_INPUT_TOUCHSCREEN</span><span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSLX6801<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSLX680_PAD<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSLX680_VR<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSL3673<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSL3673_800X1280<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GSL3676<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_GT9XX<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_HYN_CST2XX<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_WACOM_W9013<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSLX6801=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSLX680_PAD=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSLX680_VR=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSL3673=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSL3673_800X1280=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GSL3676=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_GT9XX=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_HYN_CST2XX=y</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_WACOM_W9013=y</span>
 <span class="token assign-left variable">CONFIG_TOUCHSCREEN_GT1X</span><span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_FTS<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_DEVICETREE_SUPPORT<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_I2C<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_DEVICE_ACCESS<span class="token operator">=</span>y
-CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_LOADER<span class="token operator">=</span>y
-CONFIG_ROCKCHIP_REMOTECTL<span class="token operator">=</span>y
-CONFIG_ROCKCHIP_REMOTECTL_PWM<span class="token operator">=</span>y
<span class="token comment"># SENSOR相关的配置，根据需要配置，PX30 EVB没有sensor所以都去掉</span>
-CONFIG_SENSOR_DEVICE<span class="token operator">=</span>y
-CONFIG_GSENSOR_DEVICE<span class="token operator">=</span>y
-CONFIG_GS_MMA8452<span class="token operator">=</span>y
-CONFIG_MPU6880_ACC<span class="token operator">=</span>y
-CONFIG_MPU6500_ACC<span class="token operator">=</span>y
-CONFIG_GS_KXTJ9<span class="token operator">=</span>y
-CONFIG_GS_LIS3DH<span class="token operator">=</span>y
-CONFIG_GS_MMA7660<span class="token operator">=</span>y
-CONFIG_GS_MC3230<span class="token operator">=</span>y
-CONFIG_GS_SC7660<span class="token operator">=</span>y
-CONFIG_GS_SC7A20<span class="token operator">=</span>y
-CONFIG_GS_SC7A30<span class="token operator">=</span>y
-CONFIG_GS_MXC6655XA<span class="token operator">=</span>y
-CONFIG_GS_LSM303D<span class="token operator">=</span>y
-CONFIG_LSM330_ACC<span class="token operator">=</span>y
-CONFIG_BMA2XX_ACC<span class="token operator">=</span>y
-CONFIG_GS_DA223<span class="token operator">=</span>y
-CONFIG_COMPASS_DEVICE<span class="token operator">=</span>y
-CONFIG_COMPASS_AK8975<span class="token operator">=</span>y
-CONFIG_COMPASS_AK8963<span class="token operator">=</span>y
-CONFIG_GYROSCOPE_DEVICE<span class="token operator">=</span>y
-CONFIG_GYRO_L3G4200D<span class="token operator">=</span>y
-CONFIG_GYRO_L3G20D<span class="token operator">=</span>y
-CONFIG_GYRO_EWTSA<span class="token operator">=</span>y
-CONFIG_GYRO_MPU6500<span class="token operator">=</span>y
-CONFIG_GYRO_MPU6880<span class="token operator">=</span>y
-CONFIG_GYRO_LSM330<span class="token operator">=</span>y
-CONFIG_LIGHT_DEVICE<span class="token operator">=</span>y
-CONFIG_LS_CM3217<span class="token operator">=</span>y
-CONFIG_LS_CM3218<span class="token operator">=</span>y
-CONFIG_LS_STK3410<span class="token operator">=</span>y
-CONFIG_PROXIMITY_DEVICE<span class="token operator">=</span>y
-CONFIG_PS_STK3410<span class="token operator">=</span>y
-CONFIG_HALL_DEVICE<span class="token operator">=</span>y
-CONFIG_HS_MH248<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_TOUCHSCREEN_FTS is not set</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5 is not set</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_DEVICETREE_SUPPORT is not set</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_I2C is not set</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_DEVICE_ACCESS is not set</span>
+<span class="token comment">#CONFIG_TOUCHSCREEN_CYPRESS_CYTTSP5_LOADER is not set</span>
+<span class="token comment">#CONFIG_ROCKCHIP_REMOTECTL is not set</span>
+<span class="token comment">#CONFIG_ROCKCHIP_REMOTECTL_PWM is not set</span>
+<span class="token comment">#CONFIG_SENSOR_DEVICE is not set</span>
+<span class="token comment">#CONFIG_GSENSOR_DEVICE is not set</span>
+<span class="token comment">#CONFIG_GS_MMA8452 is not set</span>
+<span class="token comment">#CONFIG_MPU6880_ACC is not set</span>
+<span class="token comment">#CONFIG_MPU6500_ACC is not set</span>
+<span class="token comment">#CONFIG_GS_KXTJ9 is not set</span>
+<span class="token comment">#CONFIG_GS_LIS3DH is not set</span>
+<span class="token comment">#CONFIG_GS_MMA7660 is not set</span>
+<span class="token comment">#CONFIG_GS_MC3230 is not set</span>
+<span class="token comment">#CONFIG_GS_SC7660 is not set</span>
+<span class="token comment">#CONFIG_GS_SC7A20 is not set</span>
+<span class="token comment">#CONFIG_GS_SC7A30 is not set</span>
+<span class="token comment">#CONFIG_GS_MXC6655XA is not set</span>
+<span class="token comment">#CONFIG_GS_LSM303D is not set</span>
+<span class="token comment">#CONFIG_LSM330_ACC is not set</span>
+<span class="token comment">#CONFIG_BMA2XX_ACC is not set</span>
+<span class="token comment">#CONFIG_GS_DA223 is not set</span>
+<span class="token comment">#CONFIG_COMPASS_DEVICE is not set</span>
+<span class="token comment">#CONFIG_COMPASS_AK8975 is not set</span>
+<span class="token comment">#CONFIG_COMPASS_AK8963 is not set</span>
+<span class="token comment">#CONFIG_GYROSCOPE_DEVICE is not set</span>
+<span class="token comment">#CONFIG_GYRO_L3G4200D is not set</span>
+<span class="token comment">#CONFIG_GYRO_L3G20D is not set</span>
+<span class="token comment">#CONFIG_GYRO_EWTSA is not set</span>
+<span class="token comment">#CONFIG_GYRO_MPU6500 is not set</span>
+<span class="token comment">#CONFIG_GYRO_MPU6880 is not set</span>
+<span class="token comment">#CONFIG_GYRO_LSM330 is not set</span>
+<span class="token comment">#CONFIG_LIGHT_DEVICE is not set</span>
+<span class="token comment">#CONFIG_LS_CM3217 is not set</span>
+<span class="token comment">#CONFIG_LS_CM3218 is not set</span>
+<span class="token comment">#CONFIG_LS_STK3410 is not set</span>
+<span class="token comment">#CONFIG_PROXIMITY_DEVICE is not set</span>
+<span class="token comment">#CONFIG_PS_STK3410 is not set</span>
+<span class="token comment">#CONFIG_HALL_DEVICE is not set</span>
+<span class="token comment">#CONFIG_HS_MH248 is not set</span>
 <span class="token assign-left variable">CONFIG_INPUT_MISC</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_INPUT_UINPUT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_INPUT_RK805_PWRKEY</span><span class="token operator">=</span>y
@@ -511,9 +511,9 @@ <span class="token assign-left variable">CONFIG_HW_RANDOM_ROCKCHIP</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_I2C_CHARDEV</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_I2C_GPIO</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_I2C_RK3X</span><span class="token operator">=</span>y
 <span class="token comment"># SPI PX30 EVB板没有使用，所以去掉</span>
-CONFIG_SPI<span class="token operator">=</span>y
-CONFIG_SPI_ROCKCHIP<span class="token operator">=</span>y
-CONFIG_SPI_SPIDEV<span class="token operator">=</span>y
+<span class="token comment"># CONFIG_SPI is not set</span>
+<span class="token comment"># CONFIG_SPI_ROCKCHIP is not set</span>
+<span class="token comment"># CONFIG_SPI_SPIDEV is not set</span>
 <span class="token assign-left variable">CONFIG_PINCTRL_RK805</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_GPIO_SYSFS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_POWER_AVS</span><span class="token operator">=</span>y
@@ -521,12 +521,12 @@ <span class="token assign-left variable">CONFIG_ROCKCHIP_IODOMAIN</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_POWER_RESET_GPIO</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_SYSCON_REBOOT_MODE</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_TEST_POWER</span><span class="token operator">=</span>y
 <span class="token comment"># 充电部分，因为PX30没有带电池，所以去掉</span>
-CONFIG_CHARGER_BQ25700<span class="token operator">=</span>y
-CONFIG_BATTERY_CW2015<span class="token operator">=</span>y
-CONFIG_BATTERY_RK817<span class="token operator">=</span>y
-CONFIG_CHARGER_RK817<span class="token operator">=</span>y
-CONFIG_BATTERY_RK818<span class="token operator">=</span>y
-CONFIG_CHARGER_RK818<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_CHARGER_BQ25700 is not set</span>
+<span class="token comment">#CONFIG_BATTERY_CW2015 is not set</span>
+<span class="token comment">#CONFIG_BATTERY_RK817 is not set</span>
+<span class="token comment">#CONFIG_CHARGER_RK817 is not set</span>
+<span class="token comment">#CONFIG_BATTERY_RK818 is not set</span>
+<span class="token comment">#CONFIG_CHARGER_RK818 is not set</span>
 <span class="token assign-left variable">CONFIG_THERMAL</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_THERMAL_WRITABLE_TRIPS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_THERMAL_DEFAULT_GOV_POWER_ALLOCATOR</span><span class="token operator">=</span>y
@@ -536,26 +536,26 @@ <span class="token assign-left variable">CONFIG_THERMAL_GOV_USER_SPACE</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_CPU_THERMAL</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DEVFREQ_THERMAL</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_ROCKCHIP_THERMAL</span><span class="token operator">=</span>y
 <span class="token comment"># 根据实际芯片进行配置，这里只要配置PX30/RK3326</span>
-CONFIG_RK3368_THERMAL<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_RK3368_THERMAL is not set</span>
 <span class="token assign-left variable">CONFIG_WATCHDOG</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_DW_WATCHDOG</span><span class="token operator">=</span>y
-CONFIG_MFD_RK618<span class="token operator">=</span>y
-CONFIG_MFD_RK628<span class="token operator">=</span>y
-CONFIG_MFD_RK630_I2C<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_MFD_RK618 is not set</span>
+<span class="token comment">#CONFIG_MFD_RK628 is not set</span>
+<span class="token comment">#CONFIG_MFD_RK630_I2C is not set</span>
 <span class="token assign-left variable">CONFIG_MFD_RK808</span><span class="token operator">=</span>y
 <span class="token comment"># fusb根据实际需要配置，PX30开发板上面没有所以去掉</span>
-CONFIG_FUSB_30X<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_FUSB_30X is not set</span>
 <span class="token assign-left variable">CONFIG_REGULATOR</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_REGULATOR_FIXED_VOLTAGE</span><span class="token operator">=</span>y
  <span class="token comment"># REGULATOR配置，根据实际需要配置，PX30开发板使用的是RK809，去掉其他不需要的</span>
-CONFIG_REGULATOR_ACT8865<span class="token operator">=</span>y
-CONFIG_REGULATOR_FAN53555<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_REGULATOR_ACT8865=y</span>
+<span class="token comment">#CONFIG_REGULATOR_FAN53555=y</span>
 <span class="token assign-left variable">CONFIG_REGULATOR_GPIO</span><span class="token operator">=</span>y
-CONFIG_REGULATOR_LP8752<span class="token operator">=</span>y
-CONFIG_REGULATOR_MP8865<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_REGULATOR_LP8752=y</span>
+<span class="token comment">#CONFIG_REGULATOR_MP8865=y</span>
 <span class="token assign-left variable">CONFIG_REGULATOR_PWM</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_REGULATOR_RK808</span><span class="token operator">=</span>y
-CONFIG_REGULATOR_TPS65132<span class="token operator">=</span>y
-CONFIG_REGULATOR_XZ3216<span class="token operator">=</span>y
-CONFIG_REGULATOR_DIO5632<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_REGULATOR_TPS65132=y</span>
+<span class="token comment">#CONFIG_REGULATOR_XZ3216=y</span>
+<span class="token comment">#CONFIG_REGULATOR_DIO5632=y</span>
 <span class="token assign-left variable">CONFIG_MEDIA_SUPPORT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_MEDIA_CAMERA_SUPPORT</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_MEDIA_CEC_SUPPORT</span><span class="token operator">=</span>y
@@ -566,65 +566,65 @@ <span class="token assign-left variable">CONFIG_USB_VIDEO_CLASS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_V4L_PLATFORM_DRIVERS</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_VIDEO_ROCKCHIP_CIF</span><span class="token operator">=</span>y
 <span class="token assign-left variable">CONFIG_VIDEO_ROCKCHIP_ISP1</span><span class="token operator">=</span>y
-CONFIG_VIDEO_ROCKCHIP_ISP<span class="token operator">=</span>y
+<span class="token comment">#CONFIG_VIDEO_ROCKCHIP_ISP=y</span>
 <span class="token comment"># CONFIG_MEDIA_SUBDRV_AUTOSELECT is not set</span>
</code></pre> 
<p><span class="token comment"># camera的sensor型号，根据实际需要进行配置，删掉不需要的配置</span><br> -CONFIG_VIDEO_DW9714<span class="token operator">=</span>y<br> -CONFIG_VIDEO_VM149C<span class="token operator">=</span>y<br> -CONFIG_VIDEO_TC35874X<span class="token operator">=</span>y<br> -CONFIG_VIDEO_RK628_CSI<span class="token operator">=</span>y<br> -CONFIG_VIDEO_LT6911UXC<span class="token operator">=</span>y<br> -CONFIG_VIDEO_LT8619C<span class="token operator">=</span>y<br> -CONFIG_VIDEO_OV2680<span class="token operator">=</span>y<br> -CONFIG_VIDEO_OV5648<span class="token operator">=</span>y<br> -CONFIG_VIDEO_OV5695<span class="token operator">=</span>y<br> -CONFIG_VIDEO_OV8858<span class="token operator">=</span>y<br> -CONFIG_VIDEO_OV13850<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC0312<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC032A<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC2145<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC2355<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC2385<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC4C33<span class="token operator">=</span>y<br> -CONFIG_VIDEO_GC8034<span class="token operator">=</span>y<br> -CONFIG_VIDEO_SGM3784<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_VIDEO_DW9714=y</span><br> +<span class="token comment">#CONFIG_VIDEO_VM149C=y</span><br> +<span class="token comment">#CONFIG_VIDEO_TC35874X=y</span><br> +<span class="token comment">#CONFIG_VIDEO_RK628_CSI=y</span><br> +<span class="token comment">#CONFIG_VIDEO_LT6911UXC=y</span><br> +<span class="token comment">#CONFIG_VIDEO_LT8619C=y</span><br> +<span class="token comment">#CONFIG_VIDEO_OV2680=y</span><br> +<span class="token comment">#CONFIG_VIDEO_OV5648=y</span><br> +<span class="token comment">#CONFIG_VIDEO_OV5695=y</span><br> +<span class="token comment">#CONFIG_VIDEO_OV8858=y</span><br> +<span class="token comment">#CONFIG_VIDEO_OV13850=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC0312=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC032A=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC2145=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC2355=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC2385=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC4C33=y</span><br> +<span class="token comment">#CONFIG_VIDEO_GC8034=y</span><br> +<span class="token comment">#CONFIG_VIDEO_SGM3784=y</span></p> 
<p><span class="token comment"># CONFIG_VGA_ARB is not set</span><br> <span class="token assign-left variable">CONFIG_DRM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_DRM_IGNORE_IOTCL_PERMIT</span><span class="token operator">=</span>y<br> <span class="token comment"># PX30/RK3326不支持DP和HDMI，所以去掉DP和HDMI相关的配置</span><br> -CONFIG_ROCKCHIP_ANALOGIX_DP<span class="token operator">=</span>y<br> -CONFIG_ROCKCHIP_CDN_DP<span class="token operator">=</span>y<br> -CONFIG_ROCKCHIP_DW_HDMI<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_ROCKCHIP_ANALOGIX_DP=y</span><br> +<span class="token comment">#CONFIG_ROCKCHIP_CDN_DP=y</span><br> +<span class="token comment">#CONFIG_ROCKCHIP_DW_HDMI=y</span><br> <span class="token assign-left variable">CONFIG_ROCKCHIP_DW_MIPI_DSI</span><span class="token operator">=</span>y<br> -CONFIG_ROCKCHIP_INNO_HDMI<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_ROCKCHIP_INNO_HDMI=y</span><br> <span class="token assign-left variable">CONFIG_ROCKCHIP_LVDS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_DRM_TVE</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_RGB</span><span class="token operator">=</span>y<br> -CONFIG_DRM_ROCKCHIP_RK618<span class="token operator">=</span>y<br> -CONFIG_DRM_ROCKCHIP_RK628<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_DRM_ROCKCHIP_RK618=y</span><br> +<span class="token comment">#CONFIG_DRM_ROCKCHIP_RK628=y</span><br> <span class="token assign-left variable">CONFIG_DRM_PANEL_SIMPLE</span><span class="token operator">=</span>y<br> -CONFIG_DRM_RK630_TVE<span class="token operator">=</span>y<br> -CONFIG_DRM_RK1000_TVE<span class="token operator">=</span>y<br> -CONFIG_DRM_SII902X<span class="token operator">=</span>y<br> -CONFIG_DRM_DW_HDMI_I2S_AUDIO<span class="token operator">=</span>y<br> -CONFIG_DRM_DW_HDMI_CEC<span class="token operator">=</span>y<br> -CONFIG_MALI400<span class="token operator">=</span>y<br> -CONFIG_MALI450<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_DRM_RK630_TVE=y</span><br> +<span class="token comment">#CONFIG_DRM_RK1000_TVE=y</span><br> +<span class="token comment">#CONFIG_DRM_SII902X=y</span><br> +<span class="token comment">#CONFIG_DRM_DW_HDMI_I2S_AUDIO=y</span><br> +<span class="token comment">#CONFIG_DRM_DW_HDMI_CEC=y</span></p> 
<p><span class="token comment"># MALI配置，PX30/RK3326使用的是BIFROST的驱动，所以删掉其他的配置，MALI_MIDGARD是RK3399上面使用</span><br> -CONFIG_MALI400<span class="token operator">=</span>y<br> -CONFIG_MALI450<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_MALI400 is not set</span><br> +<span class="token comment"># CONFIG_MALI450 is not set</span><br> <span class="token comment"># CONFIG_MALI400_PROFILING is not set</span><br> <span class="token assign-left variable">CONFIG_MALI_SHARED_INTERRUPTS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_DT</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_DEVFREQ</span><span class="token operator">=</span>y<br> -CONFIG_MALI_MIDGARD<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_MALI_MIDGARD is not set</span><br> <span class="token assign-left variable">CONFIG_MALI_EXPERT</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_PLATFORM_THIRDPARTY</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_PLATFORM_THIRDPARTY_NAME</span><span class="token operator">=</span><span class="token string">“rk”</span><br> -CONFIG_MALI_DEBUG<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_MALI_DEBUG is not set</span><br> <span class="token assign-left variable">CONFIG_MALI_PWRSOFT_765</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_BIFROST</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_BIFROST_DEVFREQ</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MALI_PLATFORM_NAME</span><span class="token operator">=</span><span class="token string">“rk”</span><br> <span class="token assign-left variable">CONFIG_MALI_BIFROST_EXPERT</span><span class="token operator">=</span>y<br> -CONFIG_MALI_BIFROST_DEBUG<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_MALI_BIFROST_DEBUG is not set</span><br> <span class="token assign-left variable">CONFIG_BACKLIGHT_LCD_SUPPORT</span><span class="token operator">=</span>y<br> <span class="token comment"># CONFIG_LCD_CLASS_DEVICE is not set</span><br> <span class="token assign-left variable">CONFIG_BACKLIGHT_CLASS_DEVICE</span><span class="token operator">=</span>y<br> @@ -633,11 +633,11 @@ <span class="token assign-left variable">CONFIG_BACKLIGHT_PWM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MULTI_RGA</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_IEP</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_SERVICE</span><span class="token operator">=</span>y<br> <span class="token comment">#PX30/RK3326上面没有VDPU1 RKVDEC VEPU1，所以删掉</span><br> -CONFIG_ROCKCHIP_MPP_RKVDEC<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_ROCKCHIP_MPP_RKVDEC is not set</span><br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_RKVDEC2</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_RKVENC</span><span class="token operator">=</span>y<br> -CONFIG_ROCKCHIP_MPP_VDPU1<span class="token operator">=</span>y<br> -CONFIG_ROCKCHIP_MPP_VEPU1<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_ROCKCHIP_MPP_VDPU1 is not set</span><br> +<span class="token comment"># CONFIG_ROCKCHIP_MPP_VEPU1 is not set</span><br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_VDPU2</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_VEPU2</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_MPP_IEP2</span><span class="token operator">=</span>y<br> @@ -657,21 +657,21 @@ <span class="token assign-left variable">CONFIG_SND_SOC_ROCKCHIP_I2S_TDM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SOC_ROCKCHIP_PDM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SOC_ROCKCHIP_SPDIF</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SOC_ROCKCHIP_MULTICODECS</span><span class="token operator">=</span>y<br> <span class="token comment"># 声卡的配置，根据需要进行配置，删除多余的配置</span><br> -CONFIG_SND_SOC_ROCKCHIP_RT5651<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_SND_SOC_ROCKCHIP_RT5651 is not set</span><br> <span class="token assign-left variable">CONFIG_SND_SOC_ROCKCHIP_HDMI</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SOC_BT_SCO</span><span class="token operator">=</span>y<br> -CONFIG_SND_SOC_CX2072X<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_SND_SOC_CX2072X is not set</span><br> <span class="token assign-left variable">CONFIG_SND_SOC_DUMMY_CODEC</span><span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES7202<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES7210<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES7243E<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES8311<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES8316<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_ES8396<span class="token operator">=</span>y<br> -CONFIG_SND_SOC_RK3328<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_SND_SOC_ES7202 is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_ES7210 is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_ES7243E is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_ES8311 is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_ES8316 is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_ES8396 is not set</span><br> +<span class="token comment">#CONFIG_SND_SOC_RK3328 is not set</span><br> <span class="token assign-left variable">CONFIG_SND_SOC_RK817</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SOC_RK_CODEC_DIGITAL</span><span class="token operator">=</span>y<br> -CONFIG_SND_SOC_RT5640<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_SND_SOC_RT5640 is not set</span><br> <span class="token assign-left variable">CONFIG_SND_SOC_SPDIF</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SND_SIMPLE_CARD</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_HIDRAW</span><span class="token operator">=</span>y<br> <span class="token comment">#PX30/RK3326不支持USB3.0，所以可以删掉USB3.0相关配置</span><br> <span class="token assign-left variable">CONFIG_USB_MON</span><span class="token operator">=</span>y<br> -CONFIG_USB_XHCI_HCD<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_USB_XHCI_HCD=y</span><br> <span class="token assign-left variable">CONFIG_USB_EHCI_HCD</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_EHCI_HCD_PLATFORM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_OHCI_HCD</span><span class="token operator">=</span>y<br> <span class="token comment"># CONFIG_USB_OHCI_HCD_PCI is not set</span><br> <span class="token assign-left variable">CONFIG_USB_OHCI_HCD_PLATFORM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_PRINTER</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_STORAGE</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_STORAGE_DATAFAB</span><span class="token operator">=</span>y<br> @@ -767,7 +767,7 @@ <span class="token assign-left variable">CONFIG_USB_STORAGE_KARMA</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_STORAGE_CYPRESS_ATACB</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_STORAGE_ENE_UB6250</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_UAS</span><span class="token operator">=</span>y<br> -CONFIG_USB_DWC3<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_USB_DWC3=y</span><br> <span class="token assign-left variable">CONFIG_USB_DWC2</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_SERIAL</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_SERIAL_GENERIC</span><span class="token operator">=</span>y<br> @@ -778,9 +778,9 @@ <span class="token assign-left variable">CONFIG_USB_GADGET_DEBUG_FILES</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_GADGET_VBUS_DRAW</span><span class="token operator">=</span><span class="token number">500</span><br> <span class="token assign-left variable">CONFIG_USB_CONFIGFS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_CONFIGFS_UEVENT</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_CONFIGFS_F_FS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_CONFIGFS_F_ACC</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_USB_CONFIGFS_F_AUDIO_SRC</span><span class="token operator">=</span>y<br> <span class="token comment"># PX30 EVB板子没有使用LED灯，所以去掉相关配置</span><br> @@ -796,13 +796,13 @@ <span class="token assign-left variable">CONFIG_MMC_SDHCI_OF_ARASAN</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MMC_SDHCI_OF_DWCMSHC</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MMC_DW</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MMC_DW_ROCKCHIP</span><span class="token operator">=</span>y<br> -CONFIG_LEDS_CLASS_FLASH<span class="token operator">=</span>y<br> -CONFIG_LEDS_GPIO<span class="token operator">=</span>y<br> -CONFIG_LEDS_RGB13H<span class="token operator">=</span>y<br> -CONFIG_LEDS_TRIGGER_TIMER<span class="token operator">=</span>y<br> -CONFIG_LEDS_TRIGGER_HEARTBEAT<span class="token operator">=</span>y<br> -CONFIG_LEDS_TRIGGER_BACKLIGHT<span class="token operator">=</span>y<br> -CONFIG_LEDS_TRIGGER_DEFAULT_ON<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_LEDS_CLASS_FLASH=y</span><br> +<span class="token comment">#CONFIG_LEDS_GPIO=y</span><br> +<span class="token comment">#CONFIG_LEDS_RGB13H=y</span><br> +<span class="token comment">#CONFIG_LEDS_TRIGGER_TIMER=y</span><br> +<span class="token comment">#CONFIG_LEDS_TRIGGER_HEARTBEAT=y</span><br> +<span class="token comment">#CONFIG_LEDS_TRIGGER_BACKLIGHT=y</span><br> +<span class="token comment">#CONFIG_LEDS_TRIGGER_DEFAULT_ON=y</span><br> <span class="token assign-left variable">CONFIG_RTC_CLASS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_RTC_DRV_RK808</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_DMADEVICES</span><span class="token operator">=</span>y<br> <span class="token comment"># 芯片相关配置，根据实际芯片进行配置，这里只配置PX30，PX30和RK3326同一个配置</span><br> @@ -826,14 +826,14 @@ <span class="token assign-left variable">CONFIG_COMMON_CLK_SCMI</span><span class="token operator">=</span>y<br> <span class="token comment"># CONFIG_COMMON_CLK_XGENE is not set</span><br> <span class="token assign-left variable">CONFIG_COMMON_CLK_PWM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_MAILBOX</span><span class="token operator">=</span>y<br> -CONFIG_RK3368_MBOX<span class="token operator">=</span>y<br> -CONFIG_RK3368_SCPI_PROTOCOL<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_RK3368_MBOX=y</span><br> +<span class="token comment">#CONFIG_RK3368_SCPI_PROTOCOL=y</span><br> <span class="token assign-left variable">CONFIG_ROCKCHIP_IOMMU</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_CPU_PX30</span><span class="token operator">=</span>y<br> -CONFIG_CPU_RK3328<span class="token operator">=</span>y<br> -CONFIG_CPU_RK3368<span class="token operator">=</span>y<br> -CONFIG_CPU_RK3399<span class="token operator">=</span>y<br> -CONFIG_CPU_RK3568<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_CPU_RK3328=y</span><br> +<span class="token comment">#CONFIG_CPU_RK3368=y</span><br> +<span class="token comment">#CONFIG_CPU_RK3399=y</span><br> +<span class="token comment">#CONFIG_CPU_RK3568=y</span><br> <span class="token assign-left variable">CONFIG_ANDROID_VERSION</span><span class="token operator">=</span>0x08000000<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_PM_DOMAINS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_PVTM</span><span class="token operator">=</span>y</p> 
<p><span class="token comment">#删除PX30和RK3326没有使用的到USB3.0和HDMI及PCIE的配置</span><br> @@ -857,16 +857,16 @@ <span class="token assign-left variable">CONFIG_PWM</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PWM_ROCKCHIP</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_CSI2_DPHY</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_EMMC</span><span class="token operator">=</span>y<br> -CONFIG_PHY_ROCKCHIP_INNO_HDMI_PHY<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_PHY_ROCKCHIP_INNO_HDMI_PHY=y</span><br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_INNO_MIPI_DPHY</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_INNO_USB2</span><span class="token operator">=</span>y<br> -CONFIG_PHY_ROCKCHIP_INNO_USB3<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_PHY_ROCKCHIP_INNO_USB3=y</span><br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_INNO_VIDEO_COMBO_PHY</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_NANENG_COMBO_PHY</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_NANENG_EDP</span><span class="token operator">=</span>y<br> -CONFIG_PHY_ROCKCHIP_PCIE<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_PHY_ROCKCHIP_PCIE=y</span><br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_SNPS_PCIE3</span><span class="token operator">=</span>y<br> -CONFIG_PHY_ROCKCHIP_TYPEC<span class="token operator">=</span>y<br> +<span class="token comment">#CONFIG_PHY_ROCKCHIP_TYPEC=y</span><br> <span class="token assign-left variable">CONFIG_PHY_ROCKCHIP_USB</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ANDROID</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ANDROID_BINDER_IPC</span><span class="token operator">=</span>y</p> 
<p>@@ -874,7 +874,7 @@ <span class="token assign-left variable">CONFIG_ROCKCHIP_EFUSE</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_OTP</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_TEE</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_OPTEE</span><span class="token operator">=</span>y<br> <span class="token comment"># NAND FLASH配置，根据需要进行配置，RK3566 EVB是用eMMC，所以删掉nand配置</span><br> -CONFIG_RK_NAND<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_RK_NAND is not set</span><br> <span class="token assign-left variable">CONFIG_RK_HEADSET</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_ROCKCHIP_RKNPU</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_EXT4_FS</span><span class="token operator">=</span>y<br> <span class="token comment">#去掉debug相关配置，在量产的时候可以去掉，开发的时候建议保留</span><br> @@ -930,8 +930,8 @@ <span class="token assign-left variable">CONFIG_CRYPTO_ANSI_CPRNG</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_CRYPTO_DEV_ROCKCHIP</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_CRYPTO_DEV_ROCKCHIP_DEV</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_PRINTK_TIME</span><span class="token operator">=</span>y<br> -CONFIG_DEBUG_INFO<span class="token operator">=</span>y<br> -CONFIG_DEBUG_FS<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_DEBUG_INFO is not set</span><br> +<span class="token comment"># CONFIG_DEBUG_FS is not set</span><br> <span class="token assign-left variable">CONFIG_MAGIC_SYSRQ</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SOFTLOCKUP_DETECTOR</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_DEFAULT_HUNG_TASK_TIMEOUT</span><span class="token operator">=</span><span class="token number">10</span><br> @@ -939,5 +939,5 @@ <span class="token assign-left variable">CONFIG_PANIC_TIMEOUT</span><span class="token operator">=</span><span class="token number">5</span><br> <span class="token assign-left variable">CONFIG_SCHEDSTATS</span><span class="token operator">=</span>y<br> <span class="token assign-left variable">CONFIG_SCHED_STACK_END_CHECK</span><span class="token operator">=</span>y<br> <span class="token comment"># CONFIG_DEBUG_PREEMPT is not set</span><br> -CONFIG_ENABLE_DEFAULT_TRACERS<span class="token operator">=</span>y<br> -CONFIG_BUG_ON_DATA_CORRUPTION<span class="token operator">=</span>y<br> +<span class="token comment"># CONFIG_ENABLE_DEFAULT_TRACERS is not set</span><br> +<span class="token comment"># CONFIG_BUG_ON_DATA_CORRUPTION=y is not set</span><br> 平台APK的裁剪</p> 
<p>Android11的代码中可以在vendor/rockchip/common/apps/apps.mk中去掉不需要的apk，可以根据需求进行删减，这里面的apk都是可以删减的。<br> Android12对应的mk文件在device/rockchip/common/modules/rockchip_apps.mk中指定RK的app。</p> 
<h4><a id="Rockchip_662"></a>Rockchip其他新芯片平台的优化</h4> 
<p><a href="https://blog.csdn.net/weixin_43245753/article/details/125345132?spm=1001.2014.3001.5502">Rockchip RK356X Android平台内存优化及系统裁剪</a></p> 
<div> 
 <div></div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ae5266fc47a0cd146bb5ef67f7aca635/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Spring AOP】面向切面编程的概念,实践,原理详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6cd6ef46508d2bb25780057bcab0204f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Anaconda安装及配置（详细版）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>