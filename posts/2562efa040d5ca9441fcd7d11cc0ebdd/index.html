<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>css grandient,你真的理解CSS的linear-gradient？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="css grandient,你真的理解CSS的linear-gradient？" />
<meta property="og:description" content="想要在你的网站有一个好看的渐变背景吗？background-image:linear-gradient(red,blue)，就能很轻易的实现一个red至blue的渐变背景图片。就是这么的简单。
感觉老话重提，有点无聊。如果您想了解更多这方面的知识，建议你阅读以前整理过的相关文章。我也推荐css-tricks和MDN上的相关文章。
还在这里吗？好了，让我们看一些linear-gradient实际上工作的一些细节，从而更好的理解它是如何工作的。首先了解linear-gradient的语法：
linear-gradient([ | to ]? , )
这个函数(特性)接受的第一个参数是渐变的角度，他可以接受一个表示角度的值(可用的单位deg、rad、grad或turn)或者是表示方向的关键词(top、right、bottom、left、left top、top right、bottom right或者left bottom)。第二个参数是接受一系列颜色节点(终止点的颜色)。
渐变容器(渐变框)
一个渐变图像和传统的背景图像不一样，它是没有维度(尺寸限制)，它是无限的。那么决定渐变图像可见区域是由渐变容器大小来决定的。
通常，如果给一个DOM元素的background-image使用linear-gradient，那么其(渐变)显示区域就是元素的border-box区域(如果不了解元素的border-box区域，建议先阅读box-sizing相关的文档)。其实也是background-color或者说通过url引入背景图像的显示区域。
然而，如果你通过CSS的background-size设置一个尺寸，比如说200px * 200px，这个时候渐变容器(渐变尺寸)就是background-size设置的大小200px * 200px。在没有使用background-position设置为其他值时，它默认是显示在DOM元素的左上角(也就是background-position: left top)。
在CSS中渐变就是background的background-image，也就是说，适用于背景图像的CSS属性都适合于渐变。
渐变线
在渐变容器中，穿过容器中心点和颜色停止点连接在一起的线称为渐变线。在下节介绍渐变角度相关的知识时，能帮助你更好的理解渐变线，所以更多的细节我们在下一节中介绍。
渐变角度
很明显，使用linear-gradient是通过渐变的角度来控制渐变的方向。接下来我们一起来了解其中更多的细节。
C点渐变容器中心点，A是通过C点垂直线与通过C点渐变线的夹角，这个角称为渐变角度。
可以通过下面两种方法来定义这个角度：
使用关键词：to top、to bottom、to left、to right、to top right、to top left、to bottom right和to bottom left
使用带单位数字定义角度，比如45deg、1turn等
如果省略角度值的设置，那默认是to bottom(对应180deg或者.5turn)：
在上面的示例中，渐变角度是没有设置，white至red渐变色从top至bottom渐变，它和使用to bottom关键词得到的效果是一样的，如下所示：
下面两张图的效果是使用to top和0deg，它们的效果也是一样的：
另一个是使用顶角关键词重要的一点是它依赖于渐变容器的尺寸，比如to top right(或者其它顶角关键词)。
如果你想要一个red至blue的渐变，方向是至元素的top right。逻辑上，blue应该在元素的右上角，以及中间的紫色渐变周围应该形成一条直线，从左上角至右下角穿过。如下图所示：
所以to top right并不意味着渐变线穿过右上角，也就是说渐变角度并不意味着是45deg。
也就是说，如果linear-gradient使用顶角关键词时(to top right、to top left、to bottom right和to bottom left)，渐变线首先通过元素中心点并且与顶点垂直相交，与中心点垂直线构成的夹角才是渐变角度。
让我们看看渐变角度动态变化时，渐变线是怎么移动的：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2562efa040d5ca9441fcd7d11cc0ebdd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-03T18:20:48+08:00" />
<meta property="article:modified_time" content="2021-08-03T18:20:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">css grandient,你真的理解CSS的linear-gradient？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>想要在你的网站有一个好看的渐变背景吗？background-image:linear-gradient(red,blue)，就能很轻易的实现一个red至blue的渐变背景图片。就是这么的简单。</p> 
 <p>感觉老话重提，有点无聊。如果您想了解更多这方面的知识，建议你阅读以前整理过的相关文章。我也推荐css-tricks和MDN上的相关文章。</p> 
 <p>还在这里吗？好了，让我们看一些linear-gradient实际上工作的一些细节，从而更好的理解它是如何工作的。首先了解linear-gradient的语法：</p> 
 <p>linear-gradient([ | to ]? , )</p> 
 <p>这个函数(特性)接受的第一个参数是渐变的角度，他可以接受一个表示角度的值(可用的单位deg、rad、grad或turn)或者是表示方向的关键词(top、right、bottom、left、left top、top right、bottom right或者left bottom)。第二个参数是接受一系列颜色节点(终止点的颜色)。</p> 
 <p>渐变容器(渐变框)</p> 
 <p>一个渐变图像和传统的背景图像不一样，它是没有维度(尺寸限制)，它是无限的。那么决定渐变图像可见区域是由渐变容器大小来决定的。</p> 
 <p>通常，如果给一个DOM元素的background-image使用linear-gradient，那么其(渐变)显示区域就是元素的border-box区域(如果不了解元素的border-box区域，建议先阅读box-sizing相关的文档)。其实也是background-color或者说通过url引入背景图像的显示区域。</p> 
 <p>然而，如果你通过CSS的background-size设置一个尺寸，比如说200px * 200px，这个时候渐变容器(渐变尺寸)就是background-size设置的大小200px * 200px。在没有使用background-position设置为其他值时，它默认是显示在DOM元素的左上角(也就是background-position: left top)。</p> 
 <p>在CSS中渐变就是background的background-image，也就是说，适用于背景图像的CSS属性都适合于渐变。</p> 
 <p>渐变线</p> 
 <p>在渐变容器中，穿过容器中心点和颜色停止点连接在一起的线称为渐变线。在下节介绍渐变角度相关的知识时，能帮助你更好的理解渐变线，所以更多的细节我们在下一节中介绍。</p> 
 <p>渐变角度</p> 
 <p>很明显，使用linear-gradient是通过渐变的角度来控制渐变的方向。接下来我们一起来了解其中更多的细节。</p> 
 <p align="center"><img src="https://images2.imgbox.com/23/9a/4QLxhwBy_o.png" alt="d5da17f69fa8a354eb297e28f2208e7f.png"></p> 
 <p>C点渐变容器中心点，A是通过C点垂直线与通过C点渐变线的夹角，这个角称为渐变角度。</p> 
 <p>可以通过下面两种方法来定义这个角度：</p> 
 <p>使用关键词：to top、to bottom、to left、to right、to top right、to top left、to bottom right和to bottom left</p> 
 <p>使用带单位数字定义角度，比如45deg、1turn等</p> 
 <p>如果省略角度值的设置，那默认是to bottom(对应180deg或者.5turn)：</p> 
 <p align="center"><img src="https://images2.imgbox.com/25/3e/AfBTgUYp_o.png" alt="0f0c43dbefb019f79a1ad54c67fa446e.png"></p> 
 <p>在上面的示例中，渐变角度是没有设置，white至red渐变色从top至bottom渐变，它和使用to bottom关键词得到的效果是一样的，如下所示：</p> 
 <p align="center"><img src="https://images2.imgbox.com/fd/06/YYeVwkgx_o.png" alt="fca4cdd06871deb0882bddb72e5eabd9.png"></p> 
 <p>下面两张图的效果是使用to top和0deg，它们的效果也是一样的：</p> 
 <p align="center"><img src="https://images2.imgbox.com/90/d6/zu12cznJ_o.png" alt="a4454c523a8399dfe26e18a541beaeb1.png"></p> 
 <p align="center"><img src="https://images2.imgbox.com/a6/bf/dc0pEFML_o.png" alt="cbd1e4ef6097db2232bf113659db113e.png"></p> 
 <p>另一个是使用顶角关键词重要的一点是它依赖于渐变容器的尺寸，比如to top right(或者其它顶角关键词)。</p> 
 <p>如果你想要一个red至blue的渐变，方向是至元素的top right。逻辑上，blue应该在元素的右上角，以及中间的紫色渐变周围应该形成一条直线，从左上角至右下角穿过。如下图所示：</p> 
 <p align="center"><img src="https://images2.imgbox.com/99/2b/ICUoYmlo_o.png" alt="54e8982423ffeb90fc6023d353da8719.png"></p> 
 <p>所以to top right并不意味着渐变线穿过右上角，也就是说渐变角度并不意味着是45deg。</p> 
 <p>也就是说，如果linear-gradient使用顶角关键词时(to top right、to top left、to bottom right和to bottom left)，渐变线首先通过元素中心点并且与顶点垂直相交，与中心点垂直线构成的夹角才是渐变角度。</p> 
 <p>让我们看看渐变角度动态变化时，渐变线是怎么移动的：</p> 
 <p align="center"><img src="https://images2.imgbox.com/bb/8b/gg4e2jKY_o.gif" alt="bbdc7c697b000850bd2ee43769e14293.gif"></p> 
 <p>回顾一下渐变角度：</p> 
 <p>角度是渐变线与渐变容器中心点向上垂直线之间的夹角</p> 
 <p>0deg的意思就是to top</p> 
 <p>角度的默认值(也就是角度没有设置)，它的值是to bottom，也和180deg相同</p> 
 <p>顶角关键词和渐变容器尺寸有关</p> 
 <p>渐变线长度a</p> 
 <p>之前我们看到渐变色停止分布沿着渐变线是需要解释的一件事情。你可能已经注意到了，在前面的示例中，停止的渐变颜色有时候在渐变容器以外的位置，这看起来有点奇怪，但如果你知道其中的逻辑之后，你就不会这么认为了。先看一下这个示例：</p> 
 <p align="center"><img src="https://images2.imgbox.com/28/80/6indHPUu_o.png" alt="c1961b3bdcf1f7f9003388a17e7a9f54.png"></p> 
 <p>我们想要一个red至blue的渐变，渐变的角度是45deg，因为渐变容器的比例，渐变线不能通过右上角。但浏览器想要做什么(规范告诉它做什么)，能使右上角是blue。</p> 
 <p>如果我们让渐变线的开始和结束都在渐变容器的边缘，那么blue将会覆盖渐变容器更大的区域，渐变不会有更多的扩散。</p> 
 <p>因此，为了做到这一点，渐变线有时不得不延长到渐变容器之外。其实很容器知道它的开始和结束位置。通过最近的角落画一条垂直于渐变线的线，与渐变线交叉的地方，就是渐变的开始和结束位置(规范中做出了很好的解释)。</p> 
 <p>事实上，如果W是渐变容器的宽度，H是渐变容器的高度，A是渐变角度，那么渐变线的长度可以通过下面的公式计算：</p> 
 <p>abs(W * sin(A)) + abs(H * cos(A))</p> 
 <p>渐变色节点(Color stops)</p> 
 <p>渐变色的每一个可以这样定义：</p> 
 <p> [ | ]?</p> 
 <p>因此不是强制性来指定颜色在渐变线的位置。例如：</p> 
 <p align="center"><img src="https://images2.imgbox.com/9d/c8/67Yn7K72_o.png" alt="27c1a6a941cd2796342c985d3072ba97.png"></p> 
 <p>如果没有显式指定颜色在渐变线上的位置，这将交给浏览器来确定颜色在渐变线上的位置。最简单的情况下只有两个颜色，颜色1将被放置在渐变线0%位置(渐变线开始位置)，颜色2将被放置在100%位置处(渐变线的结束点)。如果有三个颜色，那么颜色1在渐变线的0%，颜色2在渐变线的50%，颜色3在渐变线的100%。在上面的这个示例中，有五个颜色，那么它们的位置分别在0%、25%、50%、75%和100%。它们将沿着渐变线平均分布渐变颜色。</p> 
 <p>当然，也可以在渐变线上显式自定义渐变颜色在渐变线的位置。每个位置可以用百分比表示(相对于渐变线计算)，也可以是任何一个CSS长度单位。比如下面这个示例：</p> 
 <p align="center"><img src="https://images2.imgbox.com/3c/c7/ageUsRn0_o.png" alt="69aa150e12aafaa257dbee04d932cc74.png"></p> 
 <p>正如你所看到的，五个颜色的每个颜色都有自己的位置，而且是以像素为单位。这些位置从渐变线的开始位置处开始计算。</p> 
 <p>使用这些位置，你可以想出各种各样的漂亮效果。这样你可以做一个多色渐变：</p> 
 <p align="center"><img src="https://images2.imgbox.com/18/99/Q6MHaC9J_o.png" alt="ffcb9b307ecbe560ff0439f39d9a901f.png"></p> 
 <p>上图中，有七个颜色，其中下一个颜色是在上一个颜色开始位置，这意味弟浏览器不需要填满两个颜色之余间的空间。</p> 
 <p>当然这样蛮好的也很有趣，如果你把颜色位置配合一起来使用会是什么样的情形。然后让浏览器自动分配你省略的颜色位置。</p> 
 <p align="center"><img src="https://images2.imgbox.com/63/fa/vx1IFhIy_o.png" alt="46de7b418d55d91b8863e8c9ba5e0b7d.png"></p> 
 <p>在上面的示例中，第二个颜色orange没有明确的指定其在渐变线上的位置，所以浏览器会自动计算出其位置。它可以根据第一个位置和下一个位置很容易计算出来。但如果有多个颜色没有指定位置，或者前一个或后一个都没有指定位置，那它就变得越来越复杂。</p> 
 <p>看下面这个示例：</p> 
 <p align="center"><img src="https://images2.imgbox.com/53/e9/lLBoA4h2_o.png" alt="3200d088dc3f9a1b1cb41bc2bf8f504e.png"></p> 
 <p>在上图中，只有第三个颜色yellow指定了位置，在渐变线的30%处。为了很好的分发，它把第一个颜色red放置在渐变线的0%处，最后一个颜色black放置在渐变线的100%处。第二个颜色orange放置在渐变线0%至30%的中间位置，第四个颜色red放置在渐变线30%至100%中间位置。</p> 
 <p align="center"><img src="https://images2.imgbox.com/71/f1/IAiUToq0_o.png" alt="599606b491970086b28c4297749a3193.png"></p> 
 <p>上图第一个和最后一个颜色放置在渐变线指定位置，剩下的颜色平均分布在两者之间。</p> 
 <p align="center"><img src="https://images2.imgbox.com/99/e0/FK5TZEGb_o.png" alt="9be180bd1359e5767f1f76f732d5fde1.png"></p> 
 <p>当然，如果是0%和100%之间，我们很容易控制。但也有会超出这个范围。比如上面的示例，最后一个颜色是在渐变线的120%位置处，因此其他颜色也将根据这个位置平均分布(默认的起始位置仍然是0%，在这个示例中)。</p> 
 <p>如果你想让你的浏览器工作更多，为什么不能按顺序指定颜色在渐变线上的位置呢？事实上，颜色点位置是按照你预计的指令操作，并不会阻止你不按其位置顺序来操作。但如果后面的值比前面的值更小时，浏览器会自动做相应的纠正处理。比如：</p> 
 <p align="center"><img src="https://images2.imgbox.com/10/a1/ZbuoD2vs_o.png" alt="26e1a759b06d6472cd5bb262939e002b.png"></p> 
 <p>让我们从第一个颜色red开始，其定位在渐变线的30%位置处，第二个颜色orange在10%位置，但这是错误的，正如上面所说的，颜色的停止点是一个增量。这个时候，浏览器将会纠正第二个颜色的位置，它将会和前一个颜色的位置一样，也分布在渐变线的30%位置。然后第三个颜色yellow分布在渐变线的60%位置处，但紧随其后的第四个颜色blue为40%，浏览器同样会纠正并设置其位置与前一个颜色位置相同。</p> 
 <p align="center"><img src="https://images2.imgbox.com/f3/d0/VPWdZQqh_o.png" alt="8bca7f415237372f2fd77fe540b8914c.png"></p> 
 <p>最后一点，在上面这个例子中，最后一个颜色blue是不正确的位置，因此浏览器将会纠正它的位置与之前的位置相同，在这种情况之下并不是与其相邻的颜色yellow，也不会是orange，它会追溯到第一个颜色red位置处。因此，red和blue都分布在渐变线的30%处，因此其中yellow和orange两颜色都将不可见。</p> 
 <p>工具</p> 
 <p>文章中的截图都是从我自己在Codepen写的一个简单工具获取的，你可以在输入框中输入任何一个渐变的值，你可以看到渐变效果以及渐变线，渐变角度和渐变颜色的位置。</p> 
 <p>目前这个工具还存在各种各样的缺陷和局限性(见JavaScript中的注释)，所以不要有过高的期望，当然你也可以在这个基础上完善这个工具，帮助大家更好的理解渐线渐变。</p> 
 <p align="center"><img src="https://images2.imgbox.com/41/95/HXkymXxf_o.gif" alt="08e3d495ffe64ad7c9d7ab304cc45da6.gif"></p> 
 <p align="center"><img src="https://images2.imgbox.com/9c/2b/L7xk7bsJ_o.png" alt="8b555b46c6d95b49f226e7c33d8b94bf.png"></p> 
 <p>常用昵称“大漠”，W3CPlus创始人，目前就职于手淘。对HTML5、CSS3和Sass等前端脚本语言有非常深入的认识和丰富的实践经验，尤其专注对CSS3的研究，是国内最早研究和使用CSS3技术的一批人。CSS3、Sass和Drupal中国布道者。2014年出版《图解CSS3：核心技术与案例实战》。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6e0287d0d3cfa218f4205d4d419a3a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">q85 芯片服务器,Haswell的左臂右膀：8系列芯片组详尽解读</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/600d7909c9ca3f528f3c257daff2211f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">less css 二维,css，less 和 sass</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>