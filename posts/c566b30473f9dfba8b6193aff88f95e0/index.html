<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python爬虫-获取cookie实例小记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python爬虫-获取cookie实例小记" />
<meta property="og:description" content="注意！！！！某XX网站逆向实例仅作为学习案例，禁止其他个人以及团体做谋利用途！！！ 第一步：请求拿到响应内容。并分析。
第二步：关键步骤分析(这部分参考的B站图灵何老板)。内容是格式化后响应内容
第三步：在 setcookie（）处打断点。删掉cookie，刷新页面（加载时间有点长，耐心等待）。断点处出现 X 说明X就是 生成cookie。通过在堆栈处可以看到执行顺序，reload 函数的上一步是匿名函数。点击进去
第四步：进入到匿名函数后，可以看到reload（arg2） 说明x=arg2 (加载时间很长，无耐心看不到的哦。)
第五步：在标注的页签里 在 arg2 处进行断点。打完断点，删掉cookie，刷新页面等待在此停留。注意！！！一定要把之前的setcookie（）函数的断点去掉
第六步：断点处可以看到两个值，分别是_0x23a392和_0x5e8b26。 其中_0x23a392 是生成出来的值。将这块内容扣下来放在编辑器里
_0x5e8b26 这个值进行搜索，可以看到是一个常量（不明白的同学，可以私我或者看图自悟）
第七步：对扣下来的代码进行解析。可以通过在本地执行时报错内容进行解析和内容补充。
最后代码展示
// arg1 = &#39;F90D514BDEF402588B5CFCED428E96F13C466BBE&#39; function fuzhi_arg1(arg1) { _0x5e8b26 = &#34;3000176000856006061501533003690027800375&#34; String[&#39;prototype&#39;][&#39;unsbox&#39;] = function() { var _0x4b082b = [0xf, 0x23, 0x1d, 0x18, 0x21, 0x10, 0x1, 0x26, 0xa, 0x9, 0x13, 0x1f, 0x28, 0x1b, 0x16, 0x17, 0x19, 0xd, 0x6, 0xb, 0x27, 0x12, 0x14, 0x8, 0xe, 0x15, 0x20, 0x1a, 0x2, 0x1e, 0x7, 0x4, 0x11, 0x5, 0x3, 0x1c, 0x22, 0x25, 0xc, 0x24]; var _0x4da0dc = []; var _0x12605e = &#39;&#39;; for (var _0x20a7bf = 0x0; _0x20a7bf &lt; this[&#39;\x6c\x65\x6e\x67\x74\x68&#39;]; _0x20a7bf&#43;&#43;) { var _0x385ee3 = this[_0x20a7bf]; for (var _0x217721 = 0x0; _0x217721 &lt; _0x4b082b[&#39;length&#39;]; _0x217721&#43;&#43;) { if (_0x4b082b[_0x217721] == _0x20a7bf &#43; 0x1) { _0x4da0dc[_0x217721] = _0x385ee3; } } } _0x12605e = _0x4da0dc[&#39;\x6a\x6f\x69\x6e&#39;](&#39;&#39;); return _0x12605e; } String[&#39;prototype&#39;][&#39;hexXor&#39;] = function(_0x4e08d8) { var _0x5a5d3b = &#39;&#39;; for (var _0xe89588 = 0x0; _0xe89588 &lt; this[&#39;length&#39;] &amp;&amp; _0xe89588 &lt; _0x4e08d8[&#39;length&#39;]; _0xe89588 &#43;= 0x2) { var _0x401af1 = parseInt(this[&#39;slice&#39;](_0xe89588, _0xe89588 &#43; 0x2), 0x10); var _0x105f59 = parseInt(_0x4e08d8[&#39;slice&#39;](_0xe89588, _0xe89588 &#43; 0x2), 0x10); var _0x189e2c = (_0x401af1 ^ _0x105f59)[&#39;toString&#39;](0x10); if (_0x189e2c[&#39;length&#39;] == 0x1) { _0x189e2c = &#39;\x30&#39; &#43; _0x189e2c; } _0x5a5d3b &#43;= _0x189e2c; } return _0x5a5d3b; } var _0x23a392 = arg1[&#39;unsbox&#39;](); arg2 = _0x23a392[&#39;hexXor&#39;](_0x5e8b26) return arg2; } 仅作为笔记记录，如有问题请各位大佬来指导" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c566b30473f9dfba8b6193aff88f95e0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-29T17:36:08+08:00" />
<meta property="article:modified_time" content="2023-06-29T17:36:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python爬虫-获取cookie实例小记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#fe2c24;">注意！！！！某XX网站逆向实例仅作为学习案例，禁止其他个人以及团体做谋利用途！！！</span></h2> 
<p><span style="color:#0d0016;">第一步：请求拿到响应内容。并分析。</span></p> 
<p><img alt="" height="978" src="https://images2.imgbox.com/e2/32/V8UAT2vK_o.png" width="1200"></p> 
<p> 第二步：关键步骤分析(<strong><span style="color:#fe2c24;">这部分参考的B站图灵何老板</span></strong>)。内容是格式化后响应内容</p> 
<p><img alt="" height="636" src="https://images2.imgbox.com/45/b0/yEfPexIZ_o.png" width="1200"></p> 
<p>第三步：在 setcookie（）处打断点。删掉cookie，刷新页面（加载时间有点长，耐心等待）。断点处出现 X 说明X就是 生成cookie。通过在堆栈处可以看到执行顺序，reload 函数的上一步是匿名函数。点击进去</p> 
<p><img alt="" height="579" src="https://images2.imgbox.com/00/45/yAbk2AQJ_o.png" width="1200"></p> 
<p>第四步：进入到匿名函数后，可以看到reload（arg2） 说明x=arg2 (加载时间很长，无耐心看不到的哦。)</p> 
<p><img alt="" height="513" src="https://images2.imgbox.com/83/ca/SAUhkQuv_o.png" width="1200"></p> 
<p>第五步：在标注的页签里 在 arg2 处进行断点。打完断点，删掉cookie，刷新页面等待在此停留。<span style="color:#fe2c24;"><strong>注意！！！一定要把之前的setcookie（）函数的断点去掉</strong></span></p> 
<p><img alt="" height="667" src="https://images2.imgbox.com/f8/45/H2Tg72fx_o.png" width="1200"></p> 
<p> 第六步：断点处可以看到两个值，分别是_0x23a392和_0x5e8b26。 其中_0x23a392 是生成出来的值。将这块内容扣下来放在编辑器里</p> 
<p><img alt="" height="201" src="https://images2.imgbox.com/86/52/gcNAI0YL_o.png" width="1200"></p> 
<p> _0x5e8b26 这个值进行搜索，可以看到是一个常量（不明白的同学，可以私我或者看图自悟）</p> 
<p><img alt="" height="48" src="https://images2.imgbox.com/f9/23/LUDBzQAV_o.png" width="1160"></p> 
<p> <img alt="" height="115" src="https://images2.imgbox.com/55/47/S2sW522U_o.png" width="932"></p> 
<p> 第七步：对扣下来的代码进行解析。可以通过在本地执行时报错内容进行解析和内容补充。</p> 
<p> <img alt="" height="575" src="https://images2.imgbox.com/d6/7b/G8F1coMe_o.png" width="1200"></p> 
<p> <img alt="" height="559" src="https://images2.imgbox.com/1b/fd/xej9xncA_o.png" width="1200"></p> 
<p> 最后代码展示</p> 
<pre><code class="language-javascript">// arg1 = 'F90D514BDEF402588B5CFCED428E96F13C466BBE'
function fuzhi_arg1(arg1) {
_0x5e8b26 = "3000176000856006061501533003690027800375"
String['prototype']['unsbox'] = function() {
                var _0x4b082b = [0xf, 0x23, 0x1d, 0x18, 0x21, 0x10, 0x1, 0x26, 0xa, 0x9, 0x13, 0x1f, 0x28, 0x1b, 0x16, 0x17, 0x19, 0xd, 0x6, 0xb, 0x27, 0x12, 0x14, 0x8, 0xe, 0x15, 0x20, 0x1a, 0x2, 0x1e, 0x7, 0x4, 0x11, 0x5, 0x3, 0x1c, 0x22, 0x25, 0xc, 0x24];
                var _0x4da0dc = [];
                var _0x12605e = '';
                for (var _0x20a7bf = 0x0; _0x20a7bf &lt; this['\x6c\x65\x6e\x67\x74\x68']; _0x20a7bf++) {
                    var _0x385ee3 = this[_0x20a7bf];
                    for (var _0x217721 = 0x0; _0x217721 &lt; _0x4b082b['length']; _0x217721++) {
                        if (_0x4b082b[_0x217721] == _0x20a7bf + 0x1) {
                            _0x4da0dc[_0x217721] = _0x385ee3;
                        }
                    }
                }
                _0x12605e = _0x4da0dc['\x6a\x6f\x69\x6e']('');
                return _0x12605e;
            }
String['prototype']['hexXor'] = function(_0x4e08d8) {
                var _0x5a5d3b = '';
                for (var _0xe89588 = 0x0; _0xe89588 &lt; this['length'] &amp;&amp; _0xe89588 &lt; _0x4e08d8['length']; _0xe89588 += 0x2) {
                    var _0x401af1 = parseInt(this['slice'](_0xe89588, _0xe89588 + 0x2), 0x10);
                    var _0x105f59 = parseInt(_0x4e08d8['slice'](_0xe89588, _0xe89588 + 0x2), 0x10);
                    var _0x189e2c = (_0x401af1 ^ _0x105f59)['toString'](0x10);
                    if (_0x189e2c['length'] == 0x1) {
                        _0x189e2c = '\x30' + _0x189e2c;
                    }
                    _0x5a5d3b += _0x189e2c;
                }
                return _0x5a5d3b;
            }

var _0x23a392 = arg1['unsbox']();
arg2 = _0x23a392['hexXor'](_0x5e8b26)
    return arg2;
    }</code></pre> 
<p><span style="color:#fe2c24;">  <strong>仅作为笔记记录，如有问题请各位大佬来指导</strong></span></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/618eded1fed1c6afadc911310b6b36f1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">传统后端漏洞----（Web Server) 解析漏洞</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/934c8c4aefdf7843fd5eb587810eeb3f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">对rabbitmq进行压测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>