<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue 组件2 非单文件组件（组件的创建,注册使用） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue 组件2 非单文件组件（组件的创建,注册使用）" />
<meta property="og:description" content="要点：
组件分为：非单文件组件和单文件组件
非单文件组件就是一个文件里面有n个组件 n&gt;1
单文件组件：
一个文件中就只有一个组件,并且是vue创建的 ，这一个组件也就是一个文件
一般外卖开发时,多用单文件组件
毕竟单文件组件里面只有一个vue实例
小案例：
解决命名重复
一、
二、用驼峰命名解决推荐，层级没有那么多拆组件压力没有那么大
把这两个拆分成两个组件
1.创建组件
const 组件名=Vue.extend({
}) 这里面内容和我们之前在vue实例里写的几乎是一样什么计算属性、监视等等
但是这边是几乎,还是有不同的
如果直接复制前面vue实例写的
发现报错,报错：只有你写new Vue的时候才能写el的配置项 组件为什么不用写为谁服务？
因为,组件就像一块砖哪里缺了往哪搬,不需要明确为谁服务
真正要写el的就是vm,因为vm是在所有组件之上的大哥说打哪就打哪,el是在vm上决定的,不是组件决定的
所以我们把el注释掉,发现又报了一个错
报错：要把data写成一个方法,不能像之前那样写成对象的格式
要写出data(){
return()
}
之前我们说过
vue实例用的data有两种写法一种对象式,一种函数式
而且在组件中只能使用函数式
为什么只能写成函数式？
因为当有两个引用了该组件,都引用了其中的schoolName 如果用对象的形式,则当这两个其中一个修改了schoolName的值,则另一个也会跟着改变,因为用对象方式,把数据同步了,不符合组件的要求
用一些通俗的代码来解释：
用对象形式写：
会发生一个联代的关系
如果用函数形式写
就没有联代了
因为你每次调用会给你一个对象
比如会给x1一个对象也会给x2一个对象
然后我们把小案例代码改成函数形式,由于这边创建的是学校组件,所以只要写学校的属性即可
发现不报错,问题解决
同理把学生的组件也写好
2.注册组件
在vm上写el对应的容器
并配置一个components:{
组件名:key
}
这个key就是前面定义的组件的变量,这边定义的组件名,才是组件的名字
两个相同可以用组件
这边我们用不同注册
再写其中的html结构
用我们之前学过的用template对象,加字符串的形式写html结构
到这边我们的vue组件才真正有意义 3.使用
只要在body里写对应组件名,的组件标签就行了
发现页面成功显示了
在vm上也可以加对象,并不是写了组件就不能写vm上的data对象了
root中是vm上有没有对应数据
验证一个组件被使用多次数据是不干扰的
写两个学生组件标签
发现没有干扰,就是写了函数式
增加功能
在学校组件中加入一个按钮点击提示学校
在template=··里直接写注意要在外边用div包裹,这边看到写上去全是绿色,不好编译,这也是为什么大多数开发都是使用单文件组件的写法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ac7df66af5dc77c809068e44ba7faf93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-19T15:19:20+08:00" />
<meta property="article:modified_time" content="2021-07-19T15:19:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue 组件2 非单文件组件（组件的创建,注册使用）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>要点：<br><img alt="" height="640" src="https://images2.imgbox.com/5d/83/tiHnRrhv_o.png" width="1200"></p> 
<p> </p> 
<p>组件分为：非单文件组件和单文件组件</p> 
<p>非单文件组件就是一个文件里面有n个组件 n&gt;1</p> 
<p><img alt="" height="451" src="https://images2.imgbox.com/35/5d/HBTgTnsY_o.png" width="1120"></p> 
<p>单文件组件：</p> 
<p>一个文件中就只有一个组件,并且是vue创建的 ，这一个组件也就是一个文件</p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/59/cf/buVtbmC4_o.png" width="1072"></p> 
<p></p> 
<p>一般外卖开发时,多用单文件组件</p> 
<p>毕竟单文件组件里面只有一个vue实例</p> 
<p><img alt="" height="337" src="https://images2.imgbox.com/40/6c/TQyP2i8q_o.png" width="759"></p> 
<p></p> 
<p></p> 
<p>小案例：</p> 
<p>解决命名重复</p> 
<p>一、<br><img alt="" height="818" src="https://images2.imgbox.com/f1/42/xNhA3Frv_o.png" width="873"></p> 
<p>二、用驼峰命名解决推荐，层级没有那么多拆组件压力没有那么大</p> 
<p><img alt="" height="751" src="https://images2.imgbox.com/21/7f/KZbKtVLx_o.png" width="893"></p> 
<p>把这两个拆分成两个组件</p> 
<p> <img alt="" height="400" src="https://images2.imgbox.com/a9/72/gSWtJhmO_o.png" width="863"></p> 
<p>1.创建组件</p> 
<p>const 组件名=Vue.extend({<!-- --></p> 
<p>}) </p> 
<p>这里面内容和我们之前在vue实例里写的几乎是一样什么计算属性、监视等等</p> 
<p>但是这边是几乎,还是有不同的</p> 
<p><img alt="" height="644" src="https://images2.imgbox.com/67/52/uvsGLxk8_o.png" width="951"></p> 
<p>如果直接复制前面vue实例写的</p> 
<p></p> 
<p><img alt="" height="884" src="https://images2.imgbox.com/12/f3/ryohwXOS_o.png" width="933"></p> 
<p>发现报错,报错：只有你写new Vue的时候才能写el的配置项 </p> 
<p><img alt="" height="358" src="https://images2.imgbox.com/09/42/ioCnDkpV_o.png" width="1153"></p> 
<p>组件为什么不用写为谁服务？</p> 
<p>因为,组件就像一块砖哪里缺了往哪搬,不需要明确为谁服务</p> 
<p>真正要写el的就是vm,因为vm是在所有组件之上的大哥说打哪就打哪,el是在vm上决定的,不是组件决定的</p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/42/69/Kphig1Js_o.png" width="1200"></p> 
<p>所以我们把el注释掉,发现又报了一个错</p> 
<p>报错：要把data写成一个方法,不能像之前那样写成对象的格式</p> 
<p>要写出data(){<!-- --></p> 
<p>        return()</p> 
<p>}</p> 
<p><img alt="" height="476" src="https://images2.imgbox.com/b6/d7/24B4npgj_o.png" width="1147">之前我们说过</p> 
<p>vue实例用的data有两种写法一种对象式,一种函数式</p> 
<p><img alt="" height="419" src="https://images2.imgbox.com/53/8e/tcdmwEWS_o.png" width="911"></p> 
<p>而且在组件中只能使用函数式</p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/0e/86/86SPGpmj_o.png" width="1116"></p> 
<p>为什么只能写成函数式？</p> 
<p>因为当有两个引用了该组件,都引用了其中的schoolName 如果用对象的形式,则当这两个其中一个修改了schoolName的值,则另一个也会跟着改变,因为用对象方式,把数据同步了,不符合组件的要求</p> 
<p><img alt="" height="921" src="https://images2.imgbox.com/0e/d2/5PwH0GNY_o.png" width="1200"></p> 
<p>用一些通俗的代码来解释：</p> 
<p>用对象形式写：<br><img alt="" height="282" src="https://images2.imgbox.com/cb/48/uYDE9inS_o.png" width="376"> </p> 
<p>会发生一个联代的关系</p> 
<p><img alt="" height="443" src="https://images2.imgbox.com/1c/05/RxGH43fl_o.png" width="490"> </p> 
<p> 如果用函数形式写</p> 
<p> <img alt="" height="436" src="https://images2.imgbox.com/d8/e4/WJDRjCgT_o.png" width="678"></p> 
<p>就没有联代了</p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/dc/46/fldT8yne_o.png" width="696"></p> 
<p>因为你每次调用会给你一个对象</p> 
<p>比如会给x1一个对象也会给x2一个对象</p> 
<p></p> 
<p><img alt="" height="357" src="https://images2.imgbox.com/31/ed/7so1SwNd_o.png" width="641"></p> 
<p></p> 
<p>然后我们把小案例代码改成函数形式,由于这边创建的是学校组件,所以只要写学校的属性即可</p> 
<p><img alt="" height="487" src="https://images2.imgbox.com/72/3c/ccmGXWKY_o.png" width="1007"></p> 
<p>发现不报错,问题解决</p> 
<p>同理把学生的组件也写好</p> 
<p><img alt="" height="712" src="https://images2.imgbox.com/14/5d/t5XdAWDX_o.png" width="1023"></p> 
<p></p> 
<p>2.注册组件</p> 
<p>在vm上写el对应的容器</p> 
<p>并配置一个components:{<!-- --></p> 
<p>        组件名:key</p> 
<p>}</p> 
<p>这个key就是前面定义的组件的变量,这边定义的组件名,才是组件的名字</p> 
<p><img alt="" height="557" src="https://images2.imgbox.com/59/b0/EwU0rsys_o.png" width="697"></p> 
<p>两个相同可以用组件</p> 
<p><img alt="" height="126" src="https://images2.imgbox.com/48/d8/JsfLVHWf_o.png" width="258"></p> 
<p> 这边我们用不同注册</p> 
<p><img alt="" height="529" src="https://images2.imgbox.com/47/20/yTQG85E8_o.png" width="596"></p> 
<p> 再写其中的html结构</p> 
<p>用我们之前学过的用template对象,加字符串的形式写html结构</p> 
<p><img alt="" height="327" src="https://images2.imgbox.com/ab/b6/UdxQNj9T_o.png" width="752"></p> 
<p>到这边我们的vue组件才真正有意义 </p> 
<p> </p> 
<p>3.使用</p> 
<p>只要在body里写对应组件名,的组件标签就行了</p> 
<p></p> 
<p><img alt="" height="355" src="https://images2.imgbox.com/a9/7d/bhxsRjux_o.png" width="621"></p> 
<p>发现页面成功显示了</p> 
<p><img alt="" height="505" src="https://images2.imgbox.com/2b/a4/y49yxTse_o.png" width="937"></p> 
<p>在vm上也可以加对象,并不是写了组件就不能写vm上的data对象了</p> 
<p><img alt="" height="768" src="https://images2.imgbox.com/75/3f/5FviXA8B_o.png" width="844"></p> 
<p>root中是vm上有没有对应数据</p> 
<p><img alt="" height="667" src="https://images2.imgbox.com/c8/ce/cHn5jRrC_o.png" width="1131"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" height="604" src="https://images2.imgbox.com/dd/0b/w9WqvfGk_o.png" width="1165"></p> 
<p></p> 
<p>验证一个组件被使用多次数据是不干扰的</p> 
<p>写两个学生组件标签</p> 
<p> <img alt="" height="232" src="https://images2.imgbox.com/37/35/ndbAC8l5_o.png" width="544"></p> 
<p>发现没有干扰,就是写了函数式</p> 
<p><img alt="" height="545" src="https://images2.imgbox.com/b1/8f/fhwMvSrq_o.png" width="1200"></p> 
<p></p> 
<p>增加功能</p> 
<p>在学校组件中加入一个按钮点击提示学校</p> 
<p>在template=··里直接写注意要在外边用div包裹,这边看到写上去全是绿色,不好编译,这也是为什么大多数开发都是使用单文件组件的写法</p> 
<p><img alt="" height="685" src="https://images2.imgbox.com/f9/a4/rW1Jjxkh_o.png" width="1200"></p> 
<p>实现功能</p> 
<p> <img alt="" height="603" src="https://images2.imgbox.com/5d/07/Tyn65OOE_o.png" width="1200"></p> 
<p></p> 
<h3><strong>局部注册和全局注册</strong></h3> 
<p>前面都是局部注册</p> 
<p>如果在别的容器中,使用局部组件就会报错</p> 
<p><img alt="" height="168" src="https://images2.imgbox.com/d7/15/KumY0Cxi_o.png" width="375"></p> 
<p> </p> 
<p><img alt="" height="421" src="https://images2.imgbox.com/f7/1c/OWXCGd0n_o.png" width="720"></p> 
<p><img alt="" height="375" src="https://images2.imgbox.com/fb/56/qj6OtzWL_o.png" width="1200"></p> 
<p>解决方法一、</p> 
<p>在root2对应vm上引入组件</p> 
<p><img alt="" height="219" src="https://images2.imgbox.com/ac/1a/dzSujd4E_o.png" width="440"> </p> 
<p>解决方法二、使用全局组件写法</p> 
<p>比如我们这边加了一个新的组件hello</p> 
<p><img alt="" height="445" src="https://images2.imgbox.com/1c/8f/8UtIESWP_o.png" width="622"></p> 
<p>第一个参数为组件名,第二个为定义名 这样写,所有vm都不需要在components里写hello组件</p> 
<p>就可以在body中div容器里写入它的组件标签而且不会报错成功运行</p> 
<p><img alt="" height="103" src="https://images2.imgbox.com/cf/30/hioYW0YG_o.png" width="655"></p> 
<p><img alt="" height="500" src="https://images2.imgbox.com/cc/c4/YHwOMmwQ_o.png" width="577"></p> 
<p> </p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/9e/8b/T3of56t3_o.png" width="932"></p> 
<p>但一般来说局部注册用的多</p> 
<p> </p> 
<p>总结：<br><img alt="" height="640" src="https://images2.imgbox.com/fe/61/SxImM7qq_o.png" width="1200"></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df0eecd5edbc12ed1f942f143f4aca4d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HPEOneView试玩</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b67c9d811deb395b1963652dfb33abab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机中的三类总线是什么,计算机中三总线是什么意思</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>