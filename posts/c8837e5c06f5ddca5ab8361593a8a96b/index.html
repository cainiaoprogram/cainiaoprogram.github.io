<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery实例--Ajax信息的增删改查等操作 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jQuery实例--Ajax信息的增删改查等操作" />
<meta property="og:description" content="&lt;html&gt; &lt;head&gt; &lt;title&gt;jQuery实例&lt;/title&gt; &lt;style&gt; &lt;/style&gt; &lt;script type=&#34;text/javascript&#34; src=&#34;jquery-1.8.2.js&#34;&gt;&lt;/script&gt; &lt;script type=&#34;text/javascript&#34;&gt; $(function(){ //调用加载数据函数 loadstu(); //为添加按钮绑定一个添加动作 $(&#34;#aid&#34;).click(function(){ $(&#34;#fill&#34;).show(); $(&#34;#myform&#34;).show(); }); }); //加载学生信息 function loadstu(){ $.ajax({ url:&#34;./model/action.php?a=index&#34;, type:&#34;GET&#34;, dataType:&#34;json&#34;, success:function(data){ //alert(data); var str=null; for(var i=0;i&lt;data.length;i&#43;&#43;){ str&#43;=&#34;&lt;tr&gt;&#34;; str&#43;=&#34;&lt;td&gt;&#34;&#43;data[i].id&#43;&#34;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;td&gt;&#34;&#43;data[i].name&#43;&#34;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;td&gt;&#34;&#43;data[i].sex&#43;&#34;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;td&gt;&#34;&#43;data[i].age&#43;&#34;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;td&gt;&#34;&#43;data[i].classid&#43;&#34;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;td&gt;&lt;a href=\&#34;javascript:void(0);\&#34; οnclick=&#39;doDel(&#34;&#43;data[i].id&#43;&#34;,this)&#39;&gt;删除&lt;/a&gt;&lt;/td&gt;&#34;; str&#43;=&#34;&lt;/tr&gt;&#34;; } $(&#34;#stuid tbody&#34;).empty(); $(&#34;#stuid tbody&#34;).append(str); } }); } //删除函数 function doDel(sid,ob){ //执行ajax删除 if(confirm(&#34;确定要删除吗？&#34;)) $.ajax({ url:&#34;./model/action.php?a=del&#34;, type:&#34;POST&#34;, data:{id:sid}, dataType:&#34;json&#34;, success:function(res){ //判断是否删除成功 if(res.num&gt;0){ //alert(res.num); $(ob).parents(&#34;tr&#34;).remove(); } }, error:function(){ alert(&#39;error&#39;); } }); } //执行添加 function doAdd(form){ //alert($(form)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c8837e5c06f5ddca5ab8361593a8a96b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-01-24T09:59:00+08:00" />
<meta property="article:modified_time" content="2013-01-24T09:59:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jQuery实例--Ajax信息的增删改查等操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="language-html">&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;jQuery实例&lt;/title&gt;
		&lt;style&gt;
			
		&lt;/style&gt;
		&lt;script type="text/javascript" src="jquery-1.8.2.js"&gt;&lt;/script&gt;
		&lt;script type="text/javascript"&gt;
			$(function(){
				//调用加载数据函数
				loadstu();
				
				//为添加按钮绑定一个添加动作
				$("#aid").click(function(){
					$("#fill").show();
					$("#myform").show();
				});
			});
			
			//加载学生信息
			function loadstu(){
				$.ajax({
					url:"./model/action.php?a=index",
					type:"GET",
					dataType:"json",
					success:function(data){
						//alert(data);
						var str=null;
						for(var i=0;i&lt;data.length;i++){
							str+="&lt;tr&gt;";
							str+="&lt;td&gt;"+data[i].id+"&lt;/td&gt;";
							str+="&lt;td&gt;"+data[i].name+"&lt;/td&gt;";
							str+="&lt;td&gt;"+data[i].sex+"&lt;/td&gt;";
							str+="&lt;td&gt;"+data[i].age+"&lt;/td&gt;";
							str+="&lt;td&gt;"+data[i].classid+"&lt;/td&gt;";
							str+="&lt;td&gt;&lt;a href=\"javascript:void(0);\" οnclick='doDel("+data[i].id+",this)'&gt;删除&lt;/a&gt;&lt;/td&gt;";
							str+="&lt;/tr&gt;";
							
						}
						$("#stuid tbody").empty();
						$("#stuid tbody").append(str);
					}
				});
			}
			
			//删除函数
			function doDel(sid,ob){
				//执行ajax删除
				if(confirm("确定要删除吗？"))
				$.ajax({
					url:"./model/action.php?a=del",
					type:"POST",
					data:{id:sid},
					dataType:"json",
					success:function(res){
						//判断是否删除成功
						if(res.num&gt;0){
							//alert(res.num);
							$(ob).parents("tr").remove();
						}
					},
					error:function(){
						alert('error');
					}
				});
			}
			
			//执行添加
			function doAdd(form){
				//alert($(form).serialize());
				$.ajax({
					url:"./model/action.php?a=insert",
					type:"POST",
					data:$(form).serialize(),
					dataType:"json",
					success:function(res){
						if(res.id&gt;0){
							$('#fill').hide();
							$('#myform').hide();
							$(form).find(":reset").trigger("click");
							loadstu();//重新加载
						}else{
							alert('添加失败！');
						}
					}
				});
				
				return false;
			}
		&lt;/script&gt;	
	&lt;/head&gt;
	&lt;body&gt;
		&lt;h2&gt;jQuery实例--Ajax信息的增删改查等操作&lt;/h2&gt;
		&lt;h3&gt;学生信息&lt;/h3&gt;&lt;button id="aid"&gt;添加&lt;/button&gt;
		&lt;table id="stuid" width="500" border="1"&gt;
			&lt;thead&gt;
				&lt;tr&gt;
					&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;年龄&lt;/th&gt;&lt;th&gt;班级号&lt;/th&gt;
					&lt;th&gt;操作&lt;/th&gt;
				&lt;/tr&gt;
			&lt;/thead&gt;
			&lt;tbody&gt;
				
			&lt;/tbody&gt;
		&lt;/table&gt;
		
		
		&lt;div id="fill" style="width:100%;height:100%;background-color:#000;position:absolute;top:0px;left:0px;opacity:0.3;display:none;z-index:100"&gt;
		&lt;/div&gt;
		
		&lt;div id="myform" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:101;display:none"&gt;
			&lt;form  action="" method="post" οnsubmit="return doAdd(this)"&gt;
			&lt;table width="340" border="0" style="margin:20% auto;background-color:#fff"&gt;
				&lt;tr&gt;
					&lt;td&gt;姓名：&lt;/td&gt;
					&lt;td&gt;&lt;input type='text' name="name"/&gt;&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;年龄：&lt;/td&gt;
					&lt;td&gt;&lt;input type='text' name="age"/&gt;&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;性别：&lt;/td&gt;
					&lt;td&gt;
						&lt;input type='radio' name="sex" value="m"/&gt;男
						&lt;input type='radio' name="sex" value="w"/&gt;女
					&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt;班级：&lt;/td&gt;
					&lt;td&gt;&lt;input type='text' name="classid"/&gt;&lt;/td&gt;
				&lt;/tr&gt;
				&lt;tr&gt;
					&lt;td&gt; &lt;/td&gt;
					&lt;td &gt;
						&lt;input type='submit' value="添加"/&gt; 
						&lt;input type='reset' value="重置"/&gt; 
						&lt;input type="button" οnclick="$('#fill').hide();$('#myform').hide();" value="关闭"/&gt;
					&lt;/td&gt;
				&lt;/tr&gt;
			&lt;/table&gt;
			&lt;/form&gt;
		&lt;/div&gt;
		
		
	&lt;/body&gt;
&lt;/html&gt;


</code></pre> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b3fccf6e7f80355d33cf628181d81cd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">DDR3详解（以Micron MT41J128M8 1Gb DDR3 SDRAM为例）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3da472df17e0fea421ff9444c67722d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python 内建排序 HOW TO</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>