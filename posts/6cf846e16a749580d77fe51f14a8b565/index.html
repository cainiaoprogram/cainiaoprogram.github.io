<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>React常见问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="React常见问题" />
<meta property="og:description" content="React常见问题 基础环境React问题在浏览器访问网页时时，提示“Something went wrong.”react引用可视化组件recharts/ResponsiveContainer，报错Uncaught Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it&#39;s defined in, or you might have mixed up default and named imports.Check your code at Index.js:163. .....控制台显示：Manifest: Line: 1, column: 1, Syntax error.错误控制台显示：mapStateToProps() in connect() must return a plain object, Instead received Undefined控制台显示：Warning: React does not recognize the `tooltipTitle` prop on a DOM element." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6cf846e16a749580d77fe51f14a8b565/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-12T08:26:14+08:00" />
<meta property="article:modified_time" content="2021-08-12T08:26:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">React常见问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>React常见问题</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">基础环境</a></li><li><a href="#React_3" rel="nofollow">React问题</a></li><li><ul><li><a href="#Something_went_wrong_7" rel="nofollow">在浏览器访问网页时时，提示“Something went wrong.”</a></li><li><a href="#reactrechartsResponsiveContainerUncaught_Error_Element_type_is_invalid_expected_a_string_for_builtin_components_or_a_classfunction_for_composite_components_but_got_undefined_You_likely_forgot_to_export_your_component_from_the_file_its_defined_in_or_you_might_have_mixed_up_default_and_named_importsCheck_your_code_at_Indexjs163__8" rel="nofollow">react引用可视化组件recharts/ResponsiveContainer，报错Uncaught Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.Check your code at Index.js:163. .....</a></li><li><a href="#Manifest_Line_1_column_1_Syntax_error_36" rel="nofollow">控制台显示：Manifest: Line: 1, column: 1, Syntax error.错误</a></li><li><a href="#mapStateToProps_in_connect_must_return_a_plain_object_Instead_received_Undefined_41" rel="nofollow">控制台显示：mapStateToProps() in connect() must return a plain object, Instead received Undefined</a></li><li><a href="#Warning_React_does_not_recognize_the_tooltipTitle_prop_on_a_DOM_element_If_you_intentionally_want_it_to_appear_in_the_DOM_as_a_custom_attribute_spell_it_as_lowercase_tooltiptitle_instead_If_you_accidentally_passed_it_from_a_parent_component_remove_it_from_the_DOM_element_45" rel="nofollow">控制台显示：Warning: React does not recognize the `tooltipTitle` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `tooltiptitle` instead. If you accidentally passed it from a parent component, remove it from the DOM element.</a></li><li><a href="#Warning_Failed_prop_type_Invalid_prop_className_of_type_array_supplied_to_ForwardRefSvgIcon_expected_string_47" rel="nofollow">控制台显示：Warning: Failed prop type: Invalid prop `className` of type `array` supplied to `ForwardRef(SvgIcon)`, expected `string`.</a></li><li><a href="#Warning_Failed_prop_type_Invalid_prop_autoComplete_of_type_boolean_supplied_to_ForwardRefInput_expected_string_52" rel="nofollow">控制台提示：Warning: Failed prop type: Invalid prop `autoComplete` of type `boolean` supplied to `ForwardRef(Input)`, expected `string`.</a></li><li><a href="#Warning_Failed_prop_type_The_prop_justify_of_ForwardRefGrid_is_deprecated_Use_justifyContent_instead_the_prop_was_renamed_64" rel="nofollow">控制台显示：Warning: Failed prop type: The prop `justify` of `ForwardRef(Grid)` is deprecated. Use `justifyContent` instead, the prop was renamed.</a></li><li><a href="#Warning_Encountered_two_children_with_the_same_key_homepath2F_Keys_should_be_unique_so_that_components_maintain_their_identity_across_updates_Nonunique_keys_may_cause_children_to_be_duplicated_andor_omitted__the_behavior_is_unsupported_and_could_change_in_a_future_version_72" rel="nofollow">控制台显示Warning: Encountered two children with the same key, `/#/home?path=%2F`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.</a></li><li><a href="#_Warning_validateDOMNesting_div_cannot_appear_as_a_descendant_of_p_82" rel="nofollow">控制台显示 Warning: validateDOMNesting(...): </a> 
     <div>
       cannot appear as a descendant of 
      <p>.</p> 
     </div></li><li><a href="#redux_TypeError_Cannot_read_property_apply_of_undefined_92" rel="nofollow">网页无法正常打开，显示：redux TypeError: Cannot read property ‘apply‘ of undefined</a></li><li><a href="#yarn_start_Error_ENOSPC_System_limit_for_number_of_file_watchers_reached_109" rel="nofollow">yarn start Error: ENOSPC: System limit for number of file watchers reached</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>基础环境</h3> 
<p>操作系统 Ubuntu18.04</p> 
<h3><a id="React_3"></a>React问题</h3> 
<p><strong>React</strong> 作为目前流行的三大Web前端开发框架之一，值得大家学习。本文主要记录在开发过程中遇到的各类问题。</p> 
<h4><a id="Something_went_wrong_7"></a>在浏览器访问网页时时，提示“Something went wrong.”</h4> 
<h4><a id="reactrechartsResponsiveContainerUncaught_Error_Element_type_is_invalid_expected_a_string_for_builtin_components_or_a_classfunction_for_composite_components_but_got_undefined_You_likely_forgot_to_export_your_component_from_the_file_its_defined_in_or_you_might_have_mixed_up_default_and_named_importsCheck_your_code_at_Indexjs163__8"></a>react引用可视化组件recharts/ResponsiveContainer，报错Uncaught Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it’s defined in, or you might have mixed up default and named imports.Check your code at Index.js:163. …</h4> 
<p>现象：Chrome浏览器访问时，提示Someting went wrong.<br> 分析步骤：</p> 
<ol><li>F12打开开发者工具，在Console中，显示如上信息</li><li>阅读自己编写的<strong>Index.js</strong>代码 <code>&lt;ResponsiveContainer.....//Line 163</code>，发现问题是<code>ResponsiveContainer</code>组件，再观察引入recharts工具包的Component，包含以下方式：</li></ol> 
<pre><code class="prism language-css"><span class="token selector">import</span> <span class="token punctuation">{<!-- --></span> CartesianGrid<span class="token punctuation">,</span> Legend<span class="token punctuation">,</span> Line<span class="token punctuation">,</span> LineChart<span class="token punctuation">,</span> Tooltip<span class="token punctuation">,</span> XAxis<span class="token punctuation">,</span> YAxis <span class="token punctuation">}</span> from <span class="token string">"recharts"</span><span class="token punctuation">;</span>
import ResponsiveContainer from <span class="token string">"recharts/lib/component/ResponsiveContainer"</span><span class="token punctuation">;</span>
</code></pre> 
<p>鼠标放在<code>recharts</code>，“转到定义F12”，发现<code>node_modules/recharts/types/index.d.ts</code>文件，包含<code>ResponsiveContainer</code>的相关export代码：</p> 
<pre><code class="prism language-css"><span class="token selector">export</span> <span class="token punctuation">{<!-- --></span> ResponsiveContainer <span class="token punctuation">}</span> from <span class="token string">'./component/ResponsiveContainer'</span><span class="token selector">;
export type</span> <span class="token punctuation">{<!-- --></span> Props as ResponsiveContainerProps <span class="token punctuation">}</span> from <span class="token string">'./component/ResponsiveContainer'</span><span class="token selector">;

export</span> <span class="token punctuation">{<!-- --></span> Line <span class="token punctuation">}</span> from <span class="token string">'./cartesian/Line'</span><span class="token selector">;
export type</span> <span class="token punctuation">{<!-- --></span> Props as LineProps <span class="token punctuation">}</span> from <span class="token string">'./cartesian/Line'</span><span class="token punctuation">;</span>
</code></pre> 
<p>修改<code>ResponsiveContainer</code>组件的引入方式：</p> 
<pre><code class="prism language-css"><span class="token selector">import</span> <span class="token punctuation">{<!-- --></span> ResponsiveContainer<span class="token punctuation">,</span>CartesianGrid<span class="token punctuation">,</span> Legend<span class="token punctuation">,</span> Line<span class="token punctuation">,</span> LineChart<span class="token punctuation">,</span> Tooltip<span class="token punctuation">,</span> XAxis<span class="token punctuation">,</span> YAxis <span class="token punctuation">}</span> from <span class="token string">"recharts"</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="3"><li>进一步分析，此类问题产生原因：组件引入方式错误</li></ol> 
<h4><a id="Manifest_Line_1_column_1_Syntax_error_36"></a>控制台显示：Manifest: Line: 1, column: 1, Syntax error.错误</h4> 
<ol><li>原因：react-app创建项目时，同事删除manifest.json文件。但index.html文件中包含manifest.json的引用。</li><li>措施：删除index.html文件中的<code>&lt;link rel="manifest" href="/manifest.json" /&gt;</code></li></ol> 
<h4><a id="mapStateToProps_in_connect_must_return_a_plain_object_Instead_received_Undefined_41"></a>控制台显示：mapStateToProps() in connect() must return a plain object, Instead received Undefined</h4> 
<ol><li>分析问题：<code>typescript const mapStateToProps = () =&gt; { }</code>函数无返回结果</li><li>对策：修改以上代码，返回空结构体：<code>typescript const mapStateToProps = () =&gt; ({ })</code>或者<code>const mapStateToProps = () =&gt; { return {} }</code></li></ol> 
<h4><a id="Warning_React_does_not_recognize_the_tooltipTitle_prop_on_a_DOM_element_If_you_intentionally_want_it_to_appear_in_the_DOM_as_a_custom_attribute_spell_it_as_lowercase_tooltiptitle_instead_If_you_accidentally_passed_it_from_a_parent_component_remove_it_from_the_DOM_element_45"></a>控制台显示：Warning: React does not recognize the <code>tooltipTitle</code> prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase <code>tooltiptitle</code> instead. If you accidentally passed it from a parent component, remove it from the DOM element.</h4> 
<h4><a id="Warning_Failed_prop_type_Invalid_prop_className_of_type_array_supplied_to_ForwardRefSvgIcon_expected_string_47"></a>控制台显示：Warning: Failed prop type: Invalid prop <code>className</code> of type <code>array</code> supplied to <code>ForwardRef(SvgIcon)</code>, expected <code>string</code>.</h4> 
<ol><li>分析问题：<code>&lt;VideoIcon className={[classes.iconFix]} /&gt;</code></li><li>删除<code>[ ]</code>代码变为<code>&lt;VideoIcon className={classes.iconFix} /&gt;</code></li></ol> 
<h4><a id="Warning_Failed_prop_type_Invalid_prop_autoComplete_of_type_boolean_supplied_to_ForwardRefInput_expected_string_52"></a>控制台提示：Warning: Failed prop type: Invalid prop <code>autoComplete</code> of type <code>boolean</code> supplied to <code>ForwardRef(Input)</code>, expected <code>string</code>.</h4> 
<ol><li>分析问题，控制台打印上述Warning，同时提示以下的调用堆栈。</li></ol> 
<pre><code class="prism language-typescript"> <span class="token keyword">in</span> <span class="token function">ForwardRef</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span> <span class="token punctuation">(</span>created by <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">in</span> <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>at LoginForm<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">294</span><span class="token punctuation">)</span>
 <span class="token operator">...</span><span class="token operator">...</span>
</code></pre> 
<p>查阅代码<code>LoginForm.js</code>，确实存在<code>&lt;Input/&gt;</code>的<code>autoComplete</code><br> 2.解决问题：删除<code>&lt;Input/&gt;</code>的<code>autoComplete</code>属性<br> 3.下一步：深入了解<code>&lt;Input/&gt;</code>的使用</p> 
<h4><a id="Warning_Failed_prop_type_The_prop_justify_of_ForwardRefGrid_is_deprecated_Use_justifyContent_instead_the_prop_was_renamed_64"></a>控制台显示：Warning: Failed prop type: The prop <code>justify</code> of <code>ForwardRef(Grid)</code> is deprecated. Use <code>justifyContent</code> instead, the prop was renamed.</h4> 
<ol><li>分析问题，控制台继续打印调用堆栈：</li></ol> 
<pre><code class="prism language-typescript"><span class="token keyword">in</span> <span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span> <span class="token punctuation">(</span>created by <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">in</span> <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>at Nav<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">76</span><span class="token punctuation">)</span>
<span class="token operator">...</span><span class="token operator">...</span>
</code></pre> 
<h4><a id="Warning_Encountered_two_children_with_the_same_key_homepath2F_Keys_should_be_unique_so_that_components_maintain_their_identity_across_updates_Nonunique_keys_may_cause_children_to_be_duplicated_andor_omitted__the_behavior_is_unsupported_and_could_change_in_a_future_version_72"></a>控制台显示Warning: Encountered two children with the same key, <code>/#/home?path=%2F</code>. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.</h4> 
<ol><li>分析问题，控制台继续打印调用堆栈：</li></ol> 
<pre><code class="prism language-typescript"> <span class="token keyword">in</span> <span class="token function">div</span> <span class="token punctuation">(</span>created by <span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">in</span> <span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span> <span class="token punctuation">(</span>created by <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">in</span> <span class="token function">WithStyles</span><span class="token punctuation">(</span><span class="token function">ForwardRef</span><span class="token punctuation">(</span>Grid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>at Nav<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">76</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_Warning_validateDOMNesting_div_cannot_appear_as_a_descendant_of_p_82"></a>控制台显示 Warning: validateDOMNesting(…): 
 <div>
   cannot appear as a descendant of 
  <p>.</p> 
 </div></h4> 
<ol><li>分析问题，控制台继续打印调用堆栈：</li></ol> 
<pre><code class="prism language-typescript"><span class="token keyword">in</span> <span class="token function">div</span> <span class="token punctuation">(</span>at FileList<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">219</span><span class="token punctuation">)</span>
</code></pre> 
<p>查看源码<code>&lt;ListItemText secondary={&lt;div&gt; &lt;/div&gt;}/&gt;</code>;<br> 2.处理方法：修改<code>&lt;div&gt;</code>为<code>&lt;span&gt;</code><br> 3.下一步搞清楚<code>&lt;div&gt;</code>不能使用的原因</p> 
<h4><a id="redux_TypeError_Cannot_read_property_apply_of_undefined_92"></a>网页无法正常打开，显示：redux TypeError: Cannot read property ‘apply‘ of undefined</h4> 
<ol><li>分析问题（分析原因）：在react的Web项目中，redux提供状态管理，开启调试模式；如果浏览器没有未安装react和redux相关的扩展程序，则会报以上的错误。</li><li>提出对策：<br> 情况1：在开发环节，安装浏览器的相关扩展程序（ React Developer Tools）、（Redux DevTools）；<br> 情况2：在发布环节，注释源码中相关调试代码，或者修改相关代码</li></ol> 
<pre><code class="prism language-javascript"><span class="token comment">// 文件名：index.js</span>
<span class="token comment">// 注释代码</span>
<span class="token comment">// window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span>

<span class="token comment">//修改代码</span>
window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__    <span class="token operator">?</span>  window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">:</span>  <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a
</code></pre> 
<p><a href="https://newbedev.com/redux-typeerror-cannot-read-property-apply-of-undefined" rel="nofollow">Redux TypeError: Cannot read property ‘apply’ of undefined</a></p> 
<h4><a id="yarn_start_Error_ENOSPC_System_limit_for_number_of_file_watchers_reached_109"></a>yarn start Error: ENOSPC: System limit for number of file watchers reached</h4> 
<p>1.分析问题（分析原因）：<br> 2.提出对策</p> 
<pre><code class="prism language-bash"><span class="token comment">#Step 1 ：打开编辑文件</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/sysctl.conf

<span class="token comment">#Step2：在文件最后一行添加下面这句，并保存</span>
fs.inotify.max_user_watches<span class="token operator">=</span><span class="token number">524288</span>

<span class="token comment">#Step3：执行</span>
<span class="token function">sudo</span> sysctl -p
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/268ebc59ce6af2d57c80c14063f60858/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java服务器如何群发消息,java TCP编程简单实现一个消息群发功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/41a405aa6646134146b4e0f24d707080/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">空岛服务器名字怎么修改,服务器空岛箱子配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>