<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bond 7种模式解释、举例如何配置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Bond 7种模式解释、举例如何配置" />
<meta property="og:description" content="区别 好的，我可以为你整理一个关于网卡绑定模式的表格，包括7种不同模式的区别。请注意，网卡绑定模式可能因操作系统和网络硬件的不同而有所变化。以下是一个一般性的参考表格：
模式描述优点缺点负载平衡平均分配流量到所有绑定的网卡增加网络吞吐量需要支持负载平衡的硬件和网络设备负载平衡&#43;故障转移结合负载平衡和故障转移，当某个网卡出现问题时切换到其他网卡提高系统的稳定性需要额外的故障转移和监控机制透明故障转移当主网卡故障时，自动切换到备用网卡提高系统的可用性需要支持透明故障转移的硬件和网络设备负载平衡&#43;透明故障转移结合负载平衡和透明故障转移，提高网络性能和可用性综合利用多个网卡资源需要支持的硬件和网络设备较为昂贵源地址哈希根据源地址对流量进行哈希，分配到不同的网卡提高对特定源地址的负载平衡效果不适用于所有类型的流量，可能导致不均匀的负载分布IP散列根据IP地址对流量进行哈希，分配到不同的网卡提高对特定IP地址的负载平衡效果可能导致某些IP地址的流量过载，不适用于所有场景混合模式结合多种模式，根据需求动态选择合适的模式灵活适应不同网络环境需要更复杂的配置和管理 请注意，具体的实现方式和性能表现可能会因厂商和具体设备而有所不同。在配置网卡绑定时，建议参考相应硬件和操作系统的文档以获取最佳实践。
明白了，你的要求是针对不同的网卡绑定模式，以及与交换机相关的特定情况，整理一个表格。以下是一个简单的表格，描述了七种网卡绑定模式及其与交换机的关系：
模式描述交换机模式交换机看IP对应MAC数交换机看MAC备注负载平衡平均分配流量到所有绑定的网卡普通交换机较平均忽略IP，只关注MAC需要支持负载平衡的硬件和网络设备负载平衡&#43;故障转移结合负载平衡和故障转移，提高系统的稳定性普通交换机较平均忽略IP，只关注MAC需要额外的故障转移和监控机制透明故障转移当主网卡故障时，自动切换到备用网卡普通交换机单一（备用）忽略IP，只关注MAC需要支持透明故障转移的硬件和网络设备负载平衡&#43;透明故障转移结合负载平衡和透明故障转移，提高网络性能和可用性普通交换机较平均忽略IP，只关注MAC需要支持的硬件和网络设备较为昂贵源地址哈希根据源地址对流量进行哈希，分配到不同的网卡支持IP和MAC的交换机较平均关注IP和MAC需要支持哈希分配的交换机IP散列根据IP地址对流量进行哈希，分配到不同的网卡支持IP的交换机较平均关注IP需要支持哈希分配的交换机混合模式结合多种模式，根据需求动态选择合适的模式可以根据模式需要的交换机根据选择的模式变化根据选择的模式变化需要更复杂的配置和管理 这个表格提供了一些一般性的信息，但具体情况可能会因厂商和设备型号而有所不同。在实际配置中，请参考相应硬件和操作系统的文档以获取最佳实践。
网卡配置 网卡聚合（bond）模式简介及交换机侧配置
在网络中，Bond（也称为网络绑定或链路聚合）是一种将多个网络接口绑定在一起形成逻辑上的单个接口的技术。这种绑定可以提供高可用性、负载均衡和冗余性。
以下是常见的七种Bond模式及其解释：
Mode 0（balance-rr）：又称为“round-robin”模式。数据包按照轮询的方式依次发送到每个接口，实现负载均衡。这种模式不提供冗余性。
Mode 1（active-backup）：又称为“active-passive”模式。只有一个接口处于活动状态，用于传输数据。其他接口处于备用状态，仅在活动接口故障时接管。提供故障切换和冗余性。
Mode 2（balance-xor）：使用源和目的MAC地址以及传输层协议和端口号来选择要发送的接口。提供负载均衡和冗余性。
Mode 3（broadcast）：将所有数据包发送到所有接口。实现广播传输，但不提供负载均衡或冗余性。
Mode 4（802.3ad）：也称为“LACP”（Link Aggregation Control Protocol）模式。使用LACP协议动态协商绑定接口的工作方式。提供负载均衡和冗余性。
Mode 5（balance-tlb）：使用负载传输平衡（TLB）算法在传输和接收时进行负载均衡。这种模式仅在传输方向上实现负载均衡，接收方向上只使用一个接口。
Mode 6（balance-alb）：使用自适应负载平衡（ALB）算法在传输和接收时进行负载均衡。这种模式在传输和接收方向上都实现负载均衡，不需要特殊的交换机支持。
以下是一个配置Bond模式的例子，假设我们有两个网络接口：eth0和eth1。
Mode 0（balance-rr）的配置示例： sudo vi /etc/network/interfaces auto bond0 iface bond0 inet static address 192.168.1.10 netmask 255.255.255.0 bond-mode balance-rr bond-slaves eth0 eth1 Mode 1（active-backup）的配置示例： sudo vi /etc/network/interfaces auto bond0 iface bond0 inet static address 192.168.1.10 netmask 255.255.255.0 bond-mode active-backup bond-primary eth0 bond-slaves none bond-primary eth0 bond-slaves eth1 Mode 4（802." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7de4b32b09690627ea0f8be053d07598/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-24T18:42:38+08:00" />
<meta property="article:modified_time" content="2023-11-24T18:42:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Bond 7种模式解释、举例如何配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_1"></a>区别</h3> 
<p>好的，我可以为你整理一个关于网卡绑定模式的表格，包括7种不同模式的区别。请注意，网卡绑定模式可能因操作系统和网络硬件的不同而有所变化。以下是一个一般性的参考表格：</p> 
<table><thead><tr><th>模式</th><th>描述</th><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>负载平衡</td><td>平均分配流量到所有绑定的网卡</td><td>增加网络吞吐量</td><td>需要支持负载平衡的硬件和网络设备</td></tr><tr><td>负载平衡+故障转移</td><td>结合负载平衡和故障转移，当某个网卡出现问题时切换到其他网卡</td><td>提高系统的稳定性</td><td>需要额外的故障转移和监控机制</td></tr><tr><td>透明故障转移</td><td>当主网卡故障时，自动切换到备用网卡</td><td>提高系统的可用性</td><td>需要支持透明故障转移的硬件和网络设备</td></tr><tr><td>负载平衡+透明故障转移</td><td>结合负载平衡和透明故障转移，提高网络性能和可用性</td><td>综合利用多个网卡资源</td><td>需要支持的硬件和网络设备较为昂贵</td></tr><tr><td>源地址哈希</td><td>根据源地址对流量进行哈希，分配到不同的网卡</td><td>提高对特定源地址的负载平衡效果</td><td>不适用于所有类型的流量，可能导致不均匀的负载分布</td></tr><tr><td>IP散列</td><td>根据IP地址对流量进行哈希，分配到不同的网卡</td><td>提高对特定IP地址的负载平衡效果</td><td>可能导致某些IP地址的流量过载，不适用于所有场景</td></tr><tr><td>混合模式</td><td>结合多种模式，根据需求动态选择合适的模式</td><td>灵活适应不同网络环境</td><td>需要更复杂的配置和管理</td></tr></tbody></table> 
<p>请注意，具体的实现方式和性能表现可能会因厂商和具体设备而有所不同。在配置网卡绑定时，建议参考相应硬件和操作系统的文档以获取最佳实践。</p> 
<p>明白了，你的要求是针对不同的网卡绑定模式，以及与交换机相关的特定情况，整理一个表格。以下是一个简单的表格，描述了七种网卡绑定模式及其与交换机的关系：</p> 
<table><thead><tr><th>模式</th><th>描述</th><th>交换机模式</th><th>交换机看IP对应MAC数</th><th>交换机看MAC</th><th>备注</th></tr></thead><tbody><tr><td>负载平衡</td><td>平均分配流量到所有绑定的网卡</td><td>普通交换机</td><td>较平均</td><td>忽略IP，只关注MAC</td><td>需要支持负载平衡的硬件和网络设备</td></tr><tr><td>负载平衡+故障转移</td><td>结合负载平衡和故障转移，提高系统的稳定性</td><td>普通交换机</td><td>较平均</td><td>忽略IP，只关注MAC</td><td>需要额外的故障转移和监控机制</td></tr><tr><td>透明故障转移</td><td>当主网卡故障时，自动切换到备用网卡</td><td>普通交换机</td><td>单一（备用）</td><td>忽略IP，只关注MAC</td><td>需要支持透明故障转移的硬件和网络设备</td></tr><tr><td>负载平衡+透明故障转移</td><td>结合负载平衡和透明故障转移，提高网络性能和可用性</td><td>普通交换机</td><td>较平均</td><td>忽略IP，只关注MAC</td><td>需要支持的硬件和网络设备较为昂贵</td></tr><tr><td>源地址哈希</td><td>根据源地址对流量进行哈希，分配到不同的网卡</td><td>支持IP和MAC的交换机</td><td>较平均</td><td>关注IP和MAC</td><td>需要支持哈希分配的交换机</td></tr><tr><td>IP散列</td><td>根据IP地址对流量进行哈希，分配到不同的网卡</td><td>支持IP的交换机</td><td>较平均</td><td>关注IP</td><td>需要支持哈希分配的交换机</td></tr><tr><td>混合模式</td><td>结合多种模式，根据需求动态选择合适的模式</td><td>可以根据模式需要的交换机</td><td>根据选择的模式变化</td><td>根据选择的模式变化</td><td>需要更复杂的配置和管理</td></tr></tbody></table> 
<p>这个表格提供了一些一般性的信息，但具体情况可能会因厂商和设备型号而有所不同。在实际配置中，请参考相应硬件和操作系统的文档以获取最佳实践。</p> 
<p><img src="https://images2.imgbox.com/e1/a0/V1nrG5Rl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_38"></a>网卡配置</h3> 
<p><a href="https://blog.csdn.net/Sky777wdnmd/article/details/128893421">网卡聚合（bond）模式简介及交换机侧配置</a></p> 
<p>在网络中，Bond（也称为网络绑定或链路聚合）是一种将多个网络接口绑定在一起形成逻辑上的单个接口的技术。这种绑定可以提供高可用性、负载均衡和冗余性。</p> 
<p>以下是常见的七种Bond模式及其解释：</p> 
<ol><li> <p>Mode 0（balance-rr）：又称为“round-robin”模式。数据包按照轮询的方式依次发送到每个接口，实现负载均衡。这种模式不提供冗余性。</p> </li><li> <p>Mode 1（active-backup）：又称为“active-passive”模式。只有一个接口处于活动状态，用于传输数据。其他接口处于备用状态，仅在活动接口故障时接管。提供故障切换和冗余性。</p> </li><li> <p>Mode 2（balance-xor）：使用源和目的MAC地址以及传输层协议和端口号来选择要发送的接口。提供负载均衡和冗余性。</p> </li><li> <p>Mode 3（broadcast）：将所有数据包发送到所有接口。实现广播传输，但不提供负载均衡或冗余性。</p> </li><li> <p>Mode 4（802.3ad）：也称为“LACP”（Link Aggregation Control Protocol）模式。使用LACP协议动态协商绑定接口的工作方式。提供负载均衡和冗余性。</p> </li><li> <p>Mode 5（balance-tlb）：使用负载传输平衡（TLB）算法在传输和接收时进行负载均衡。这种模式仅在传输方向上实现负载均衡，接收方向上只使用一个接口。</p> </li><li> <p>Mode 6（balance-alb）：使用自适应负载平衡（ALB）算法在传输和接收时进行负载均衡。这种模式在传输和接收方向上都实现负载均衡，不需要特殊的交换机支持。</p> </li></ol> 
<p>以下是一个配置Bond模式的例子，假设我们有两个网络接口：eth0和eth1。</p> 
<ol><li>Mode 0（balance-rr）的配置示例：</li></ol> 
<pre><code>sudo vi /etc/network/interfaces

auto bond0
iface bond0 inet static
    address 192.168.1.10
    netmask 255.255.255.0
    bond-mode balance-rr
    bond-slaves eth0 eth1
</code></pre> 
<ol start="2"><li>Mode 1（active-backup）的配置示例：</li></ol> 
<pre><code>sudo vi /etc/network/interfaces

auto bond0
iface bond0 inet static
    address 192.168.1.10
    netmask 255.255.255.0
    bond-mode active-backup
    bond-primary eth0
    bond-slaves none
    bond-primary eth0
    bond-slaves eth1
</code></pre> 
<ol start="3"><li>Mode 4（802.3ad）的配置示例：</li></ol> 
<pre><code>sudo

 vi /etc/network/interfaces

auto bond0
iface bond0 inet static
    address 192.168.1.10
    netmask 255.255.255.0
    bond-mode 802.3ad
    bond-xmit-hash-policy layer2+3
    bond-slaves eth0 eth1
</code></pre> 
<p>这些示例仅供参考，具体的配置取决于您的网络环境和需求。请根据您的实际情况进行适当的调整。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/796755a3210f31b9efd166816dd623ae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序---简单的复制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e39bf5ff2b9db35033c1a550874f3476/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">语音合成综述Speech Synthesis</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>