<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>六自由度机器人（机械臂）运动学建模及运动规划系列（二）——运动学分析 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="六自由度机器人（机械臂）运动学建模及运动规划系列（二）——运动学分析" />
<meta property="og:description" content="本篇主要介绍六轴机械臂的运动学分析。
运动学分析是工业机器人研究和应用的重要内容，是运动控制的基础，主要研究机器人末端坐标系与基坐标系的转换关系，分为正运动学和逆运动学分析两部分。
另外，对于刚刚学习机器人理论的小伙伴，推荐看一下蔡自兴老师的《机器人学》这本书，里面对机器人介绍，运动学及动力学分析，以及运动规划等内容介绍的非常详细。
本篇目录 一、数理基础1. 空间位姿描述2. 空间坐标变换2. 齐次矩阵与齐次变换 二、运动学建模1.建立连杆坐标系2. 确定连杆参数 三、运动学分析1. 正运动学求解2. 逆运动学求解2.1 求逆解时的注意点： 四、总结 一、数理基础 在对机器人进行运动学分析时，一般将其各组成部分视为刚体，下面介绍运动学分析过程中用到的数理知识。
1. 空间位姿描述 位姿表示刚体的位置和姿态。任何一个刚体在空间基坐标系B（OXYZ）中的位置状态都可以用位姿来准确描述。
位置描述：表示刚体上的点p在空间基坐标系中的位置，可用一个三维列向量来表示：
姿态描述：在刚体上建立坐标系E（O^’ X^’ Y’Z’）并与刚体固连，则刚体坐标系在与基坐标系同原点时，相对于基坐标系的转动即为刚体的姿态描述，可用一个3×3的姿态矩阵来表示：)
在机器人运动运动学分析中，在连杆末端建立坐标系。求得末端坐标系原点在基坐标系中的位置向量以及姿态矩阵后，连杆的位置状态便随之确定。
2. 空间坐标变换 坐标系在机械系统的分析中起着至关重要的作用，系统中不同构件之间的关系都需要用坐标系来描述。在机器人系统中，常常需要定义各类坐标系，如基坐标系，末端坐标系及工具坐标系等。因此进行系统分析时，会涉及到用不同坐标系描述同一个连杆的问题，需要得到从一个坐标系描述到另一个坐标系描述的转换关系。这种转换关系包括平移，旋转，复合变换等。
1）平移变换
若坐标系{E}和坐标系{B}的姿态相同但原点不重合，则P点在两个坐标系中的位置描述满足：
2）旋转变换
若坐标系{E}和坐标系{B}的原点重合但姿态不相同，则P点在两个坐标系中的位置描述满足：
3）复合变换
若坐标系{E}和坐标系{B}的原点不重合且姿态不相同，则将前面两种变换结合在一起，P点的位置描述满足：
2. 齐次矩阵与齐次变换 在机器人学中，将位置向量和姿态矩阵结合起来，形成一个4×4的矩阵，称为齐次矩阵，来统一描述构件的位置和姿态，齐次矩阵表示为：
齐次矩阵不但可以描述构件在空间中的位姿，还可以描述不同坐标系的位姿变换过程。在描述点的坐标时，通过在三维坐标中加入比例因子1，将其变为齐次坐标：
用P点的齐次坐标左乘齐次变换矩阵，得到其在不同坐标系下的位置描述，这种变换称为齐次变换，变换过程可以表示为：
拥有以上数理基础后，可以进行运动学建模及分析。
二、运动学建模 对于多关节串联型的工业机器人，一般采用D-H法建模。D-H 法是 Denavit和Hartenberg在1955年提出的，通过在机器人所有连杆上建立固连坐标系，用齐次变换矩阵描述相邻连杆的关系。下图为D-H法的通用连杆-关节示意图。
D-H法分为标准D-H法和改进D-H法两种，两者在连杆参数定义及变换顺序上略有不同。两种方法均定义了四个参数，包括关节转角θ，关节偏距d，连杆扭角α以及连杆长度a。两种建模方法的不同如下表所示：
D-H法改进D-H法固连坐标系以连杆后一个关节坐标系为其固连坐标系以连杆前一个关节坐标系为其固连坐标系相邻关节坐标系变换顺序θ，d，a，αa，α，d，θ或者α，a，θ，d 1.建立连杆坐标系 D-H法建模的第一步，需要根据机器人确定连杆坐标系。其中，各个坐标系的Z轴方向与关节旋转方向相同，X轴与Y轴的确定可具体查阅资料，D-H法和改进D-H法确定X轴的方式也是不同的。建好的坐标系如下图：
2. 确定连杆参数 这里以改进D-H法为例，介绍四个参数的确定方法。
连杆i-1坐标系经过2次旋转和2次平移可以变换到连杆i的坐标系。这4次变换分别为:
(1) 沿Xi-1轴平移ai-1, 将Oi-1移动到O′i-1;
(2) 以Xi-1为转轴, 旋转αi-1角度, 使新的Zi-1轴与Zi轴同向;
(3) 沿Zi平移di, 使O′i-1移动到Oi;
(4) 以Zi轴为转轴, 旋转θi角度, 使新的Xi-1轴与Xi轴同向。
通过四次变换，便可得到各连杆参数表。对应上图的连杆参数表如下：
三、运动学分析 求解机器人各连杆关节的运动关系称为机器人运动学。已知各连杆夹角以及其余连杆坐标系参数，求解末端执行器的位姿，称为机器人的正运动学求解，反之称为逆运动学求解。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8c00a0554bff93a7698cd97341753700/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-03T10:02:37+08:00" />
<meta property="article:modified_time" content="2022-08-03T10:02:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">六自由度机器人（机械臂）运动学建模及运动规划系列（二）——运动学分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本篇主要介绍六轴机械臂的运动学分析。<br> 运动学分析是工业机器人研究和应用的重要内容，是运动控制的基础，主要研究机器人末端坐标系与基坐标系的转换关系，分为正运动学和逆运动学分析两部分。<br> 另外，对于刚刚学习机器人理论的小伙伴，推荐看一下蔡自兴老师的《机器人学》这本书，里面对机器人介绍，运动学及动力学分析，以及运动规划等内容介绍的非常详细。<br> </p> 
<div class="toc"> 
 <h4>本篇目录</h4> 
 <ul><li><ul><li><a href="#_4" rel="nofollow">一、数理基础</a></li><li><ul><li><a href="#1__6" rel="nofollow">1. 空间位姿描述</a></li><li><a href="#2__12" rel="nofollow">2. 空间坐标变换</a></li><li><a href="#2__24" rel="nofollow">2. 齐次矩阵与齐次变换</a></li></ul> 
   </li><li><a href="#_31" rel="nofollow">二、运动学建模</a></li><li><ul><li><a href="#1_39" rel="nofollow">1.建立连杆坐标系</a></li><li><a href="#2__42" rel="nofollow">2. 确定连杆参数</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_51" rel="nofollow">三、运动学分析</a></li><li><ul><li><a href="#1__53" rel="nofollow">1. 正运动学求解</a></li><li><a href="#2__63" rel="nofollow">2. 逆运动学求解</a></li><li><ul><li><ul><li><a href="#21__72" rel="nofollow">2.1 求逆解时的注意点：</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_75" rel="nofollow">四、总结</a></li></ul> 
</div> 
<p></p> 
<h3><a id="_4"></a>一、数理基础</h3> 
<p>在对机器人进行运动学分析时，一般将其各组成部分视为刚体，下面介绍运动学分析过程中用到的数理知识。</p> 
<h4><a id="1__6"></a>1. 空间位姿描述</h4> 
<p>位姿表示刚体的位置和姿态。任何一个刚体在空间基坐标系B（OXYZ）中的位置状态都可以用位姿来准确描述。<br> 位置描述：表示刚体上的点p在空间基坐标系中的位置，可用一个三维列向量来表示：<br> <img src="https://images2.imgbox.com/6d/cd/K4BOk6gE_o.png" alt="请添加图片描述"><br> 姿态描述：在刚体上建立坐标系E（O^’ X^’ Y’Z’）并与刚体固连，则刚体坐标系在与基坐标系同原点时，相对于基坐标系的转动即为刚体的姿态描述，可用一个3×3的姿态矩阵来表示：<img src="https://images2.imgbox.com/72/f3/ZEDBl3uB_o.png" alt="请添加图片描述">)<br> 在机器人运动运动学分析中，在连杆末端建立坐标系。求得末端坐标系原点在基坐标系中的位置向量以及姿态矩阵后，连杆的位置状态便随之确定。</p> 
<h4><a id="2__12"></a>2. 空间坐标变换</h4> 
<p>坐标系在机械系统的分析中起着至关重要的作用，系统中不同构件之间的关系都需要用坐标系来描述。在机器人系统中，常常需要定义各类坐标系，如基坐标系，末端坐标系及工具坐标系等。因此进行系统分析时，会涉及到用不同坐标系描述同一个连杆的问题，需要得到从一个坐标系描述到另一个坐标系描述的转换关系。这种转换关系包括平移，旋转，复合变换等。<br> 1）平移变换<br> 若坐标系{E}和坐标系{B}的姿态相同但原点不重合，则P点在两个坐标系中的位置描述满足：<br> <img src="https://images2.imgbox.com/cf/ca/IzupXr2o_o.png" alt="请添加图片描述"><br> 2）旋转变换<br> 若坐标系{E}和坐标系{B}的原点重合但姿态不相同，则P点在两个坐标系中的位置描述满足：</p> 
<p><img src="https://images2.imgbox.com/24/2b/MxuJOKiZ_o.png" alt="请添加图片描述"><br> 3）复合变换<br> 若坐标系{E}和坐标系{B}的原点不重合且姿态不相同，则将前面两种变换结合在一起，P点的位置描述满足：<br> <img src="https://images2.imgbox.com/41/16/QABSfhy8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2__24"></a>2. 齐次矩阵与齐次变换</h4> 
<p>在机器人学中，将位置向量和姿态矩阵结合起来，形成一个4×4的矩阵，称为齐次矩阵，来统一描述构件的位置和姿态，齐次矩阵表示为：<br> <img src="https://images2.imgbox.com/57/74/BIcWF3rx_o.png" alt="在这里插入图片描述"><br> 齐次矩阵不但可以描述构件在空间中的位姿，还可以描述不同坐标系的位姿变换过程。在描述点的坐标时，通过在三维坐标中加入比例因子1，将其变为齐次坐标：<img src="https://images2.imgbox.com/a1/5d/pliScPRg_o.png" alt="在这里插入图片描述"><br> 用P点的齐次坐标左乘齐次变换矩阵，得到其在不同坐标系下的位置描述，这种变换称为齐次变换，变换过程可以表示为：<br> <img src="https://images2.imgbox.com/1c/3f/p0vOz9ia_o.png" alt="在这里插入图片描述"><br> 拥有以上数理基础后，可以进行运动学建模及分析。</p> 
<h3><a id="_31"></a>二、运动学建模</h3> 
<p>对于多关节串联型的工业机器人，一般采用D-H法建模。D-H 法是 Denavit和Hartenberg在1955年提出的，通过在机器人所有连杆上建立固连坐标系，用齐次变换矩阵描述相邻连杆的关系。下图为D-H法的通用连杆-关节示意图。<br> <img src="https://images2.imgbox.com/f0/d2/EnXsRw00_o.png" alt="D-H法的通用连杆-关节示意图"><br> D-H法分为标准D-H法和改进D-H法两种，两者在连杆参数定义及变换顺序上略有不同。两种方法均定义了四个参数，包括关节转角θ，关节偏距d，连杆扭角α以及连杆长度a。两种建模方法的不同如下表所示：</p> 
<table><thead><tr><th></th><th>D-H法</th><th>改进D-H法</th></tr></thead><tbody><tr><td>固连坐标系</td><td>以连杆后一个关节坐标系为其固连坐标系</td><td>以连杆前一个关节坐标系为其固连坐标系</td></tr><tr><td>相邻关节坐标系变换顺序</td><td>θ，d，a，α</td><td>a，α，d，θ或者α，a，θ，d</td></tr></tbody></table> 
<h4><a id="1_39"></a>1.建立连杆坐标系</h4> 
<p>D-H法建模的第一步，需要根据机器人确定连杆坐标系。其中，各个坐标系的Z轴方向与关节旋转方向相同，X轴与Y轴的确定可具体查阅资料，D-H法和改进D-H法确定X轴的方式也是不同的。建好的坐标系如下图：<br> <img src="https://images2.imgbox.com/34/87/FctJGeyH_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2__42"></a>2. 确定连杆参数</h4> 
<p>这里以改进D-H法为例，介绍四个参数的确定方法。<br> 连杆i-1坐标系经过2次旋转和2次平移可以变换到连杆i的坐标系。这4次变换分别为:<br> (1) 沿Xi-1轴平移ai-1, 将Oi-1移动到O′i-1;<br> (2) 以Xi-1为转轴, 旋转αi-1角度, 使新的Zi-1轴与Zi轴同向;<br> (3) 沿Zi平移di, 使O′i-1移动到Oi;<br> (4) 以Zi轴为转轴, 旋转θi角度, 使新的Xi-1轴与Xi轴同向。<br> 通过四次变换，便可得到各连杆参数表。对应上图的连杆参数表如下：<br> <img src="https://images2.imgbox.com/30/c6/a0JPZLOM_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_51"></a>三、运动学分析</h2> 
<p>求解机器人各连杆关节的运动关系称为机器人运动学。已知各连杆夹角以及其余连杆坐标系参数，求解末端执行器的位姿，称为机器人的正运动学求解，反之称为逆运动学求解。</p> 
<h3><a id="1__53"></a>1. 正运动学求解</h3> 
<p>相邻坐标系的转换关系可以由其变换矩阵表示。 根据前述，连杆i-1坐标系经过2次旋转和2次平移可以变换到连杆i的坐标系，将这四次变换分别用矩阵表示出来，然后相乘就可以得到相邻关节的变换矩阵。<br> 对于改进D-H法而言，变换矩阵可以表示为：<br> <img src="https://images2.imgbox.com/12/3c/3tQa97rm_o.png" alt="在这里插入图片描述"><br> 将各个连杆参数代入，便可得到形如下式的变换矩阵：<br> <img src="https://images2.imgbox.com/ca/6b/KJPNKKRl_o.png" alt="在这里插入图片描述"></p> 
<p>最后，将各个关节的变换矩阵相乘，便得到总的变换矩阵：<br> <img src="https://images2.imgbox.com/f0/d9/T2jyoq6N_o.png" alt="在这里插入图片描述"><br> 至此我们得到了机器人的正运动学方程，即求得了运动学的正解。</p> 
<h3><a id="2__63"></a>2. 逆运动学求解</h3> 
<p>求取机器人的逆解，就是在已知末端执行器位姿的情况下，经过矩阵变换，求得各个关节的转角，从而控制机器人达到理想的位姿。<br> 求逆解的一般方法为：在如上图所示的矩阵方程两端，同时乘单个T矩阵的逆矩阵，接着进行观察，令等号两端矩阵特定元素对应相等，得到方程进行求解。<br> 那我所求的逆解举例，首先在正运动学求解过程中，得到了矩阵<img src="https://images2.imgbox.com/7b/d4/GHA2CkeG_o.png" alt="请添加图片描述">的具体形式。在求逆解时，矩阵<br> <img src="https://images2.imgbox.com/8b/e3/uvgQVEyR_o.png" alt="在这里插入图片描述"><br> 的元素是已知的，因此通过观察，令等式两端矩阵中的（1,4），（2,4），（3,4）元素对应相等，可以得到方程<br> <img src="https://images2.imgbox.com/22/28/FJNtQt3D_o.png" alt="在这里插入图片描述"><br> 进而得到前三个关节角的解析解：<br> <img src="https://images2.imgbox.com/4c/5f/aVTKrZhN_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="21__72"></a>2.1 求逆解时的注意点：</h5> 
<p>（1）由于反三角函数的性质，一个三角函数值对应两个角度，因此求出的逆解往往有多组。常见情况下，对六自由度机械臂而言，求出的逆解有八组。<br> （2）求逆解过程中计算复杂（涉及大量矩阵运算和解三角函数方程），且没有统一的计算方法，所以刚开始求解时，一定要沉下心来，并且多加练习，就可以掌握规律，求得正确结果。</p> 
<h2><a id="_75"></a>四、总结</h2> 
<p>本篇主要介绍了六轴机械臂的运动学建模以及正逆运动学求解过程，为后续运动规划奠定基础。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5aa8ca124bfc8049cbea8f5bb54b4f67/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">word中表格标题设置重复显示时不成功且表格自动换页问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aa145374a1cc18f0ae2f9d70ef61dc71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue单文件中加载arcgis显示地图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>