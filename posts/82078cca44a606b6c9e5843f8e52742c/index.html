<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VUE-全家桶 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VUE-全家桶" />
<meta property="og:description" content="第一节、vue全家桶概念 基础功能 &#43; 2个额外功能(vuex、router)vuex:仓库，用来存储数据，比如userInforouter:路由：组件跳转（类似于动态组件） 第二节、新建vue全家桶项目 1 vue create v2_family 2 Manually select features --自己选择引入哪些插件 3 ? Check the features needed for your project: (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection, and &lt;enter&gt; to proceed) (*) Babel ( ) TypeScript ( ) Progressive Web App (PWA) Support (*) Router (*) Vuex &gt;(*) CSS Pre-processors --scss ( ) Linter / Formatter ( ) Unit Testing ( ) E2E Testing 4 ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/82078cca44a606b6c9e5843f8e52742c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-02T20:36:40+08:00" />
<meta property="article:modified_time" content="2023-04-02T20:36:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VUE-全家桶</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="vue_0"></a>第一节、vue全家桶概念</h2> 
<ul><li>基础功能 + 2个额外功能(vuex、router)</li><li>vuex:仓库，用来存储数据，比如userInfo</li><li>router:路由：组件跳转（类似于动态组件）</li></ul> 
<h2><a id="vue_5"></a>第二节、新建vue全家桶项目</h2> 
<pre><code class="prism language-js"><span class="token number">1</span>  vue create v2_family  
<span class="token number">2</span>  Manually select features <span class="token operator">--</span>自己选择引入哪些插件
<span class="token number">3</span>  
<span class="token operator">?</span> Check the features needed <span class="token keyword">for</span> your project<span class="token operator">:</span> <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select<span class="token punctuation">,</span> <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all<span class="token punctuation">,</span> <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">,</span> and <span class="token operator">&lt;</span>enter<span class="token operator">&gt;</span> to 
proceed<span class="token punctuation">)</span>
 <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">Babel</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token function">TypeScript</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Progressive Web <span class="token function">App</span> <span class="token punctuation">(</span><span class="token constant">PWA</span><span class="token punctuation">)</span> <span class="token function">Support</span>
 <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">Router</span>
 <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> Vuex
<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token constant">CSS</span> Pre<span class="token operator">-</span>processors  <span class="token operator">--</span><span class="token function">scss</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Linter <span class="token operator">/</span> <span class="token function">Formatter</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Unit <span class="token function">Testing</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token constant">E2E</span> Testing
<span class="token number">4</span>
<span class="token operator">?</span> Choose a version <span class="token keyword">of</span> Vue<span class="token punctuation">.</span>js that you want to start the project <span class="token keyword">with</span> 
  <span class="token number">3</span><span class="token punctuation">.</span>x
<span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">.</span>x
<span class="token number">5</span>
Use history mode <span class="token keyword">for</span> router<span class="token operator">?</span> <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token constant">Y</span><span class="token operator">/</span>n<span class="token punctuation">)</span>  n
<span class="token number">6</span>
<span class="token operator">?</span> Pick a <span class="token constant">CSS</span> pre<span class="token operator">-</span><span class="token function">processor</span> <span class="token punctuation">(</span>PostCSS<span class="token punctuation">,</span> Autoprefixer and <span class="token constant">CSS</span> Modules are supported by <span class="token keyword">default</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> Sass<span class="token operator">/</span><span class="token constant">SCSS</span> <span class="token punctuation">(</span><span class="token keyword">with</span> dart<span class="token operator">-</span>sass<span class="token punctuation">)</span>
  Less
  Stylus
<span class="token number">7</span>
<span class="token operator">?</span> Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel<span class="token punctuation">,</span> ESLint<span class="token punctuation">,</span> etc<span class="token punctuation">.</span><span class="token operator">?</span> <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> In dedicated config files  <span class="token operator">--</span> Babel<span class="token punctuation">,</span> ESLint<span class="token punctuation">,</span> etc<span class="token punctuation">.</span>单独配置
  In <span class="token keyword">package</span><span class="token punctuation">.</span>json <span class="token operator">--</span> Babel<span class="token punctuation">,</span> ESLint<span class="token punctuation">,</span> etc<span class="token punctuation">.</span>合并到<span class="token keyword">package</span><span class="token punctuation">.</span>json
<span class="token number">8</span> 
Save <span class="token keyword">this</span> <span class="token keyword">as</span> a preset <span class="token keyword">for</span> future projects<span class="token operator">?</span> <span class="token punctuation">(</span>y<span class="token operator">/</span><span class="token constant">N</span><span class="token punctuation">)</span> n  不保存这次选择
</code></pre> 
<p><strong>项目结构</strong></p> 
<pre><code>src
	assets:图片
	components:组件
	router-路由
	store-仓库
	views -组件
	App.vue -入口组件
	main.js
	
components和views的区别
views：装一次性组件（不会复用），比如login.vue、regsiter.vue、stuList.vue等
components：装的经常被复用的组件 
</code></pre> 
<h2><a id="__vue_router_58"></a>第三节、路由 (vue router)</h2> 
<p>后端路由 ：请求地址 和 后端js文件中函数 的映射</p> 
<p>前端路由：请求地址 和 前端组件的映射</p> 
<h3><a id="_spasingle_page_application_63"></a>单页面应用 spa(single page application)</h3> 
<ul><li> <p>vue项目都是单页面应用（public/index.html）,整个项目是由一个一个的组件来组成，需要搭配路由实现看起来像多页面应用（组件的切换）</p> </li><li> <p>特点：<br> 只会在第一次访问时才获取资源，以后的跳转就不会再从服务器拿取资源（跳转的还是当前页面，只是不同的组件而已）</p> </li><li> <p>优点：<br> 只要加载完后，则今后的跳转速度是很快</p> </li><li> <p>缺点：<br> 1 第一次加载很慢,白屏时间比较大（加载所有资源）<br> 2 不利于SEO搜索引擎的优化<br> seo优化执行原理：需要爬虫来爬页面节点，爬虫需要源码中有节点 ，nuxt.js能够让vue利于SEO<br> 多页面是利于SEO优化</p> </li></ul> 
<p>vue框架场景</p> 
<ul><li>vue后台管理系统</li></ul> 
<h3><a id="_82"></a>路由在项目中的结构</h3> 
<p>src/router/index.js</p> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入路由</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//使用路由</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">//定义数组---配置</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  
<span class="token punctuation">]</span>
<span class="token comment">//实例化全局路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//路由模式</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  <span class="token comment">//把routes数组配置进来</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//把路由对象暴露出来</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> 
<p>main.js</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">//引入路由对象</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//注入到Vue实例，意味着我们会今后可以在任意组件中通过this.$xx来获取路由对象</span>
  router<span class="token punctuation">,</span>
  store<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_122"></a>路由模式</h3> 
<pre><code class="prism language-js">分为hash模式和history模式<span class="token punctuation">,</span>有区别
<span class="token literal-property property">hash模式：http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>#<span class="token operator">/</span>路径<span class="token operator">...</span>
缺点：丑（多了#）
优点：一般不会出问题，#就是在提醒浏览器访问的是前端的项目
<span class="token literal-property property">history模式：http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>路径<span class="token operator">...</span>
优点：符合地球人的审美
缺点：
	<span class="token number">1</span> 打包后可能会导致路径<span class="token number">404</span>错误（通过配置解决）
	<span class="token number">2</span> 打包后可能会因为<span class="token constant">F5</span>刷新导致程序去寻找后台接口（能够通过配置nginx解决等）
</code></pre> 
<p>配置：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//路由模式，如果不写mode属性，则默认也是hash</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history/hash'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_145"></a>路由基本配置：</h3> 
<p>组件分为两种类型：</p> 
<p>1 非路由版 import 引入+components注册+当成标签使用</p> 
<p>2 路由版: 组件渲染与否跟着路径走</p> 
<p>步骤1： 配置路由文件router/index.js:</p> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入路由</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//使用路由</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>
<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">'@/views/Login.vue'</span>
<span class="token keyword">import</span> Register <span class="token keyword">from</span> <span class="token string">'@/views/Register.vue'</span>
<span class="token comment">//定义数组---配置</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// 路由和组件的映射都是以对象代表</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//路径以/开头</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/login"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Login
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/register"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Register
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">//实例化全局路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//路由模式</span>
  <span class="token comment">// mode: 'history',</span>
  <span class="token comment">//把routes数组配置进来</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//把路由对象暴露出来</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> 
<p>步骤2 ：在组件中配置路由的出口</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>步骤3：访问：</p> 
<pre><code class="prism language-js"><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>#<span class="token operator">/</span>login
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>#<span class="token operator">/</span>register
</code></pre> 
<p>练习：通过路由配置登录和注册组件，分别试试hash、history模式</p> 
<h3><a id="_198"></a>路由的跳转</h3> 
<p>标签版：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/register"</span><span class="token operator">&gt;</span>跳转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre> 
<p>js版</p> 
<pre><code class="prism language-js"> <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_211"></a>路由的其他配置</h3> 
<p>1 重定向</p> 
<p>当访问path路径时，能够自动跳转到redirect路径</p> 
<pre><code class="prism language-js"><span class="token comment">//定义数组---配置</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// 路由和组件的映射都是以对象代表</span>
      <span class="token comment">//重定向</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">"/login"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<p>2 路由懒加载 (性能)</p> 
<pre><code>概念：指的是可以让指定的组件在首次访问时不会被加载，只有当真正路径跳转到对应组件时才会加载
作用：减少了首屏加载时间
使用场景：某些访问频率非常低的组件
</code></pre> 
<p>做法：</p> 
<pre><code class="prism language-js">  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/register"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Register.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  或者
  <span class="token keyword">let</span> <span class="token function-variable function">Register</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Register.vue'</span><span class="token punctuation">)</span>
   <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/register"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Register
  <span class="token punctuation">}</span>
</code></pre> 
<p>3 路由别名</p> 
<p>可以为组件多添加一个路径时</p> 
<pre><code class="prism language-js">  <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//路径以/开头</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/login"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Login<span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token string">"/login2"</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>4 通用路由</p> 
<pre><code class="prism language-js">如果访问不匹配的路径，则页面无法渲染，如何解决？
访问错误的路径，我们也给他一个对应组件
<span class="token keyword">let</span> <span class="token function-variable function">My404</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/404.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/*"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> My404
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<h3><a id="_277"></a>嵌套路由(子路由)</h3> 
<p>如果要实现在某个路由对应的组件中进行局部组件切换，那么就需要在该路由配置中添加子路由（children），同理也需要在路由对应的组件中去添加新的路由出口( )</p> 
<p>路由配置文件：</p> 
<pre><code class="prism language-js">  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/main"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Main<span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"stuList"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> StuList
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/main/stuAdd"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> StuAdd
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<p>main组件：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>学生管理系统<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"display:flex"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/main/stuList"</span><span class="token operator">&gt;</span>学生列表<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/main/stuAdd"</span><span class="token operator">&gt;</span>学生添加<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

</code></pre> 
<h3><a id="_325"></a>动态路由</h3> 
<p>指的就是路由传参</p> 
<h3><a id="1_329"></a>方式1配置版（路由文件）</h3> 
<p>1 配置路由文件</p> 
<pre><code class="prism language-js">  <span class="token punctuation">{<!-- --></span>
     
    <span class="token comment">//语法：/路径/:自定义参数/.....</span>
    <span class="token comment">//?代表该参数可传可不传</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/register/:id?/:name?"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Register
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<p>2 传递参数</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/register/1/张三"</span><span class="token operator">&gt;</span>跳转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"`/register/${id}/${name}`"</span><span class="token operator">&gt;</span>跳转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"go"</span><span class="token operator">&gt;</span>跳转到注册<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"王五"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/register/2/李四"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> 
<p>3 接受参数</p> 
<p>​ 3.1 通过$route接受</p> 
<pre><code class="prism language-js">    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p>​ 3.2 通过props</p> 
<pre><code class="prism language-js"> 配置路由：
   <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//语法：/路径/:自定义参数/.....</span>
    <span class="token comment">//?代表该参数可传可不传</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/register/:id?/:name?"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Register
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  接受：
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>    
    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre> 
<h3><a id="2_420"></a>方式2：非配置版</h3> 
<p>1 路由传参：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/register?id=1&amp;&amp;name=张三"</span><span class="token operator">&gt;</span>跳转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"`/register?id=${id}&amp;&amp;name=${name}`"</span><span class="token operator">&gt;</span>跳转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"{path:'/register',query:{id:1,name:'小明'}}"</span><span class="token operator">&gt;</span>转到注册<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"go"</span><span class="token operator">&gt;</span>跳转到注册<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"王五"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// this.$router.push("/register?id=1&amp;&amp;name=张三")</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/register"</span><span class="token punctuation">,</span>
                <span class="token literal-property property">query</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> 
<p>2 接受参数</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query
</code></pre> 
<p>其他：通过name属性来跳转</p> 
<pre><code class="prism language-js">  配置文件：需要配置name属性
  <span class="token punctuation">{<!-- --></span>
     
    <span class="token comment">//语法：/路径/:自定义参数/.....</span>
    <span class="token comment">//?代表该参数可传可不传</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/register"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"reg"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Register
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  跳转：
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// path:"/register",</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'reg'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">query</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  接受：
  <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query
  

</code></pre> 
<h3><a id="_501"></a>路由的元信息</h3> 
<p>我们可以为每一个路由(路由文件中数组中的每一个元素)配置标记meta（数据）,今后可以在该路由对应的组件中获取到标记，从而实现某些业务</p> 
<p>换句话说，所谓的元信息就是为路由绑定属性，以后可以在对应组件中获取属性</p> 
<p><strong>语法：</strong></p> 
<p>存储</p> 
<pre><code class="prism language-js">  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Login<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"张三"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">obj</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">arr</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>获取:</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>meta
</code></pre> 
<p><strong>注意路由元信息的以下情况</strong></p> 
<pre><code class="prism language-js"><span class="token number">1</span> 父路由绑定的meta数据，子路由对应的组件能否拿到<span class="token operator">?</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>不行
<span class="token number">2</span> 子路由绑定的meta数据，父路由对应的组件能否拿到？<span class="token operator">--</span><span class="token operator">-</span>》可以，但是路径必须访问到目标子路由
	 为了让父组件中能够实时的更新渲染子路由的meta值（切换子路由时），就可以通过computed来实现
	 父：
	   <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
	   <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>name
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">路由文件</span><span class="token operator">:</span>
     <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/main"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> Main<span class="token punctuation">,</span>

        <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"stuList"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span> StuList<span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"学生列表"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>

          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"stuAdd"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span> StuAdd<span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"学生添加"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
</code></pre> 
<h3><a id="routerlink_565"></a>关于router-link标签的属性</h3> 
<p>1 active-class 被激活时拥有xx样式</p> 
<pre><code class="prism language-js"> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"c"</span> to<span class="token operator">=</span><span class="token string">"/main/stuList"</span><span class="token operator">&gt;</span>
</code></pre> 
<p>2 tag 伪装成其他标签</p> 
<pre><code class="prism language-js"> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link tag<span class="token operator">=</span><span class="token string">"button"</span>
</code></pre> 
<p>3 不会记录历史（只影响浏览器的回退按钮）</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>router<span class="token operator">-</span>link  replace<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="Vuex_585"></a>第四节、Vuex状态管理</h2> 
<p>vue全家桶项目：核心 + router路由 +vuex状态管理</p> 
<h3><a id="_589"></a>概念</h3> 
<pre><code>vuex：状态管理模式(简称为状态机)
状态：vue中使用到的数据
换句话说：vuex就是用来管理数据的仓库，有项目项目中所有公共的数据（属性、方法）都可以交给vuex来管理，
使用场景：多个组件都在共享某个数据时，比如userInfo
</code></pre> 
<h3><a id="_597"></a>安装</h3> 
<pre><code>随着vue全家桶一并安装
</code></pre> 
<h3><a id="_602"></a>结构</h3> 
<p>src/store/indes.js</p> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//使用Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token comment">//暴露仓库对象(store)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共计算属性</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(同步)</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(异步)</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//分模块</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>src/main.js</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//注入到Vue实例，意味着我们会今后可以在任意组件中通过this.$router/$route来获取路由对象</span>
  router<span class="token punctuation">,</span>
  <span class="token comment">//注入到vue实例，意味着我们会今后可以在任意组件中通过this.$store来获取仓库对象</span>
  store<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="vuex_645"></a>vuex核心属性</h3> 
<h4><a id="1_state_647"></a>1 state</h4> 
<p>​ 该属性用来存储公共数据(指的是属性)</p> 
<p>index.js</p> 
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"张三"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>组件中获取：this.$store.state<br> 一定要搭配computed，才能够实时的拿到最新仓库中值</p> 
<p>vue:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>name
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="2_getters_684"></a>2 getters</h4> 
<pre><code>	该属性用来存储公共的计算属性的
</code></pre> 
<p>index.js</p> 
<pre><code class="prism language-js"><span class="token comment">//暴露仓库对象(store)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">n1</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">n2</span><span class="token operator">:</span><span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共计算属性</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//就是上方的state对象</span>
      <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> state<span class="token punctuation">.</span>n1<span class="token operator">+</span>state<span class="token punctuation">.</span>n2
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<p>vue:</p> 
<pre><code class="prism language-js">    <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>sum<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>sum
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_mutations_720"></a>3 mutations</h4> 
<p>该属性是用来存储同步方法，而方法一般都是用来改变state值的方法，这也是更改state值唯一的途径</p> 
<p>index.js</p> 
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"张三"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(同步)</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//参数1：state对象</span>
    <span class="token comment">//参数2：获取传递过来的参数</span>
    <span class="token function">change_name</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        state<span class="token punctuation">.</span>name<span class="token operator">=</span>params
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>vue：</p> 
<p>需要通过store仓库对象.commit()方可调用vuex中mutations中定义的方法</p> 
<pre><code class="prism language-js"><span class="token comment">//参数1：指向仓库中的mutations中的方法名</span>
<span class="token comment">//参数2：想要传递的数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'change_name'</span><span class="token punctuation">,</span>参数<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_actions_751"></a>4 actions</h4> 
<p>该属性用来存储异步方法居多，比如异步请求等</p> 
<p>index.js</p> 
<pre><code class="prism language-js">      <span class="token comment">//参数1：整个仓库对象</span>
      <span class="token comment">//参数2：获取传递过来的参数</span>
      <span class="token function">getClas</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"/clas/getClas"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">"get"</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
</code></pre> 
<p>vue:</p> 
<p>需要通过store仓库对象.dispatch()方可调用vuex中actions中定义的方法</p> 
<pre><code class="prism language-js"> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getClas'</span><span class="token punctuation">,</span><span class="token string">'参数'</span><span class="token punctuation">)</span>
</code></pre> 
<p>demo1：在组件中调用公共actions方法拿到异步数据班级数组，然后再在组件中调用mutations方法为state的班级数组赋值</p> 
<p>index.js</p> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//使用Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'@/http/axios.js'</span>
<span class="token comment">//暴露仓库对象(store)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">clas</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(同步)</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">change_clas</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>clas<span class="token operator">=</span>params
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(异步)</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//查询班级</span>
      <span class="token comment">//参数1：整个仓库对象</span>
      <span class="token comment">//参数2：获取传递过来的参数</span>
      <span class="token function">getClas</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"/clas/getClas"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">"get"</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">//分模块</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>vue：</p> 
<pre><code class="prism language-js">            <span class="token comment">//参数1：指向仓库中的actions中的方法名</span>
            <span class="token comment">//参数2：想要传递的数据</span>
            <span class="token keyword">let</span> res<span class="token operator">=</span><span class="token keyword">await</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getClas'</span><span class="token punctuation">,</span><span class="token string">'参数'</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"change_clas"</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
</code></pre> 
<p>以上的做法是不推荐的，组件中调用两次（1次是调用actions，1次是mutations）<br> demo2：<br> index.js</p> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//使用Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'@/http/axios.js'</span>
<span class="token comment">//暴露仓库对象(store)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//公共属性</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">clas</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(同步)</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">change_clas</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>clas<span class="token operator">=</span>params
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//公共方法(异步)</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//查询班级</span>
      <span class="token comment">//参数1：整个仓库对象 ==组件中的this.$store</span>
      <span class="token comment">//参数2：获取传递过来的参数</span>
     <span class="token keyword">async</span> <span class="token function">getClas</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">let</span> res<span class="token operator">=</span><span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"/clas/getClas"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">"get"</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
         <span class="token comment">//调用mutations方法把数据传递给state</span>
         store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'change_clas'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//分模块</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>vue:</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getClas'</span><span class="token punctuation">,</span><span class="token string">'参数'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="5_modules_884"></a>5 modules</h4> 
<pre><code>为了对vuex进一步管理，需要分模块
</code></pre> 
<h5><a id="1_storemodulesjsclasjs_889"></a>1 store/下新建modules/模块.js,比如clas.js</h5> 
<h5><a id="2_clasjs_891"></a>2 编辑clas.js</h5> 
<pre><code class="prism language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'@/http/axios.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//命名空间设置true，避免getters、mutations、actions不同模块取名相同造成冲突</span>
    <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">clas</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">""</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">change_clas</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            state<span class="token punctuation">.</span>clas<span class="token operator">=</span>params
          <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">async</span> <span class="token function">getClas</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> res<span class="token operator">=</span><span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
               <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"/clas/getClas"</span><span class="token punctuation">,</span>
               <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">"get"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">//调用mutations方法把数据传递给state</span>
            store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'change_clas'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3_storeindexjs_921"></a>3 store/index.js</h5> 
<pre><code class="prism language-js"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//使用Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token keyword">import</span> clas <span class="token keyword">from</span> <span class="token string">'./modules/clas.js'</span>
<span class="token comment">//暴露仓库对象(store)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">//分模块</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    clas
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="4__store_939"></a>4 在组件中使用模块化之后的store</h5> 
<p>4.1 在组件使用辅助函数</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>clas<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>createNamespacedHelpers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span>mapState<span class="token punctuation">,</span>mapActions<span class="token punctuation">}</span><span class="token operator">=</span><span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'clas'</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
         <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'clas'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getClas'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>一个组件引入多个模块：</p> 
<p>在解构时取别名:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>clas<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>username<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>createNamespacedHelpers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">mapState</span><span class="token operator">:</span>mapState_clas<span class="token punctuation">,</span><span class="token literal-property property">mapActions</span><span class="token operator">:</span>mapActions_clas<span class="token punctuation">}</span><span class="token operator">=</span><span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'clas'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">mapState</span><span class="token operator">:</span>mapState_user<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token operator">=</span><span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'users'</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
         <span class="token operator">...</span><span class="token function">mapState_clas</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'clas'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token operator">...</span><span class="token function">mapState_user</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token operator">...</span><span class="token function">mapActions_clas</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getClas'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> 
<p>4.2 使用原生</p> 
<pre><code class="prism language-js">为什么要讲原生的，因为辅助函数只能用在vue组件中，如果今后某些需求需要我们在js中操作仓库，只能用原生操作
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>  <span class="token comment">//store等价于 this.$store</span>
<span class="token literal-property property">state</span><span class="token operator">:</span>   store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>模块名<span class="token punctuation">.</span>属性
<span class="token literal-property property">getters</span><span class="token operator">:</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>模块名<span class="token punctuation">.</span>属性
<span class="token literal-property property">mutations</span><span class="token operator">:</span> store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'模块名/mutations方法'</span><span class="token punctuation">,</span>参数<span class="token punctuation">)</span>
<span class="token literal-property property">actions</span><span class="token operator">:</span>  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'模块名/actions方法'</span><span class="token punctuation">,</span>参数<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="mixins_1011"></a>混入mixins</h3> 
<p>概念：能够把相同的属性提取出来，分别混入到指定的组件中</p> 
<p>作用：组件对于混入的属性是不用自己编写，可以通过mixins引入那些属性</p> 
<h4><a id="_1016"></a>步骤</h4> 
<p>1 src下新建mixins/index.js</p> 
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//组件中的一切属性</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	钩子函数<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>2 组件中引入定义的混入对象</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> mymixins <span class="token keyword">from</span> <span class="token string">'@/mixins/index.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">mixins</span><span class="token operator">:</span><span class="token punctuation">[</span>mymixins<span class="token punctuation">,</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="mixinsvuex_1044"></a>混入mixins和状态机vuex的区别</h4> 
<ul><li> <p>1 操作数据<br> 混入后，则混入对象只属于当前组件，无论怎么该，都只影响当前组件，对其他组件的混入数据没有任何影响<br> 状态机： 如果当前组件更改了状态机的数据，则必然对另一个组件有影响</p> </li><li> <p>2 场景：<br> 状态机使用率&gt;&gt;&gt;混入：状态机能够时多个组件共享数据（实时获得最新值）<br> 混入后多个组件的数据没有任何关系，因此也就无法共享</p> </li><li> <p>3 混入弊端：<br> 无法知道混入后的数据来源</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4a59ce82bfc715cd2e190a1a3b34d796/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">有关VMWare tools安装后仍然无法全屏的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62ad22c3a8277441c78a628c15a526b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ShuffleNet V2 迁移学习对花数据集训练</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>