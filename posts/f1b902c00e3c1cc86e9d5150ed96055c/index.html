<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>论文阅读笔记(一)——SqueezeNet - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="论文阅读笔记(一)——SqueezeNet" />
<meta property="og:description" content="论文阅读笔记(一)——SqueezeNet 前言 寒假希望自己能够有所提升吧，不要再当一个简单地代码搬运工，所以希望自己能够坚持下来每天阅读一些文章，然后进行总结，冲冲冲
1 论文简介 1.1关于文章 论文全称: SQUEEZENET: ALEXNET-LEVEL ACCURACY WITH 50X FEWER PARAMETERS AND &lt;0.5MB MODEL SIZE
这里提供几个链接，大家可以自己下载下来学习
百度网盘
链接：论文原文
提取码：huzs
官网链接
论文链接：论文链接
代码链接：代码链接
1.2 关于squeezenet 其实这篇文章相较于后续的其他轻量化网络，其实可以学习借鉴的东西并不多，但是由于这篇属于轻量化网络的开篇之作，最早公开于2016年2月，所以我想借用这次机会，从头学习一下轻量化网络的演变路程，希望可以收获一些感悟
2 文章正文 2.1 摘要 近年来，深度卷积神经网络（CNNs）的研究主要集中在提高精度上。对于给定的精度级别，通常可以识别多个达到该精度级别的CNN架构。在同等精度的情况下，较小的CNN体系结构至少有三个优点：
1)较小的CNN在分布式训练期间需要较少的跨服务器通信。
2) 较小的cnn需要较少的带宽才能将新车型从云端导出到自动驾驶汽车。
3) 更小的CNN更适合部署在FP-GAs和其他内存有限的硬件上。
为了提供所有这些优势，我们提出了一个称为挤压网的小型CNN架构。SqueezeNet在ImageNet上实现AlexNet级精度，参数减少50倍。此外，通过模型压缩技术，我们可以将squezenet压缩到小于0.5MB（比AlexNet小510倍）。
可在此处下载SqueezeNet架构：https://github.com/DeepScale/SqueezeNet
2.2 文章动机 Motivation 其实文章的重点在大多数网络都在往深而精确的网络中改进，但是现实生活中由于计算平台的限制，比如嵌入式系统，比如车载系统中，都没法提供足够的算力来计算大型的CNN网络，而目的方法都是对网络进行剪枝，作者想要提供一种简洁的小型网络，来满足
1)更有效的分布式训练
2)可以将新模型导出到客户端时开销更小
3)可行的FPGA和嵌入式部署
所以提出了squeezeNet模块
3 squeezenet:用较少的参数保持精度 3.1 压缩策略 squeezenet模型主要使用了三个策略
将 3 × 3 3\times3 3×3卷积替换成 1 × 1 1\times1 1×1卷积。文章中将大多数 3 × 3 3\times3 3×3卷积替换为 1 × 1 1\times1 1×1卷积，这使得一个卷积操作的参数两减少了9倍减少 3 × 3 3\times3 3×3卷积的通道数。一个 3 × 3 3\times3 3×3卷积的计算量是 3 × 3 × M × N 3\times3\times M \times N 3×3×M×N其中M是输入Feature Map的通道数，而N是输出Feature Map的通道数，作者希望通过减少M." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f1b902c00e3c1cc86e9d5150ed96055c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-25T16:52:38+08:00" />
<meta property="article:modified_time" content="2021-01-25T16:52:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">论文阅读笔记(一)——SqueezeNet</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="SqueezeNet_0"></a>论文阅读笔记(一)——SqueezeNet</h2> 
<h3><a id="_1"></a>前言</h3> 
<p>寒假希望自己能够有所提升吧，不要再当一个简单地代码搬运工，所以希望自己能够坚持下来每天阅读一些文章，然后进行总结，冲冲冲<br> <img src="https://images2.imgbox.com/2a/aa/PuftngfD_o.jpg" alt=""></p> 
<h3><a id="1__4"></a>1 论文简介</h3> 
<h4><a id="11_5"></a>1.1关于文章</h4> 
<p><strong>论文全称:</strong> SQUEEZENET: ALEXNET-LEVEL ACCURACY WITH 50X FEWER PARAMETERS AND &lt;0.5MB MODEL SIZE</p> 
<p>这里提供几个链接，大家可以自己下载下来学习<br> <strong>百度网盘</strong><br> 链接：<a href="https://pan.baidu.com/s/1PHOb7039UgXRdIxiePGzlQ" rel="nofollow">论文原文</a><br> 提取码：huzs<br> <strong>官网链接</strong><br> 论文链接：<a href="http://arxiv.org/abs/1602.07360" rel="nofollow">论文链接</a><br> 代码链接：<a href="https://github.com/DeepScale/SqueezeNet">代码链接</a></p> 
<h4><a id="12_squeezenet_15"></a>1.2 关于squeezenet</h4> 
<p>其实这篇文章相较于后续的其他轻量化网络，其实可以学习借鉴的东西并不多，但是由于这篇属于轻量化网络的开篇之作，最早公开于2016年2月，所以我想借用这次机会，从头学习一下轻量化网络的演变路程，希望可以收获一些感悟</p> 
<h3><a id="2__17"></a>2 文章正文</h3> 
<h4><a id="21__18"></a>2.1 摘要</h4> 
<p>近年来，深度卷积神经网络（CNNs）的研究主要集中在提高精度上。对于给定的精度级别，通常可以识别多个达到该精度级别的CNN架构。在同等精度的情况下，较小的CNN体系结构至少有三个优点：<br> 1)较小的CNN在分布式训练期间需要较少的跨服务器通信。<br> 2) 较小的cnn需要较少的带宽才能将新车型从云端导出到自动驾驶汽车。<br> 3) 更小的CNN更适合部署在FP-GAs和其他内存有限的硬件上。<br> 为了提供所有这些优势，我们提出了一个称为挤压网的小型CNN架构。SqueezeNet在ImageNet上实现AlexNet级精度，参数减少50倍。此外，通过模型压缩技术，我们可以将squezenet压缩到小于0.5MB（比AlexNet小510倍）。<br> 可在此处下载SqueezeNet架构：https://github.com/DeepScale/SqueezeNet</p> 
<h4><a id="22__Motivation_25"></a>2.2 文章动机 Motivation</h4> 
<p>其实文章的重点在大多数网络都在往深而精确的网络中改进，但是现实生活中由于计算平台的限制，比如嵌入式系统，比如车载系统中，都没法提供足够的算力来计算大型的CNN网络，而目的方法都是对网络进行剪枝，作者想要提供一种简洁的小型网络，来满足<br> 1)更有效的分布式训练<br> 2)可以将新模型导出到客户端时开销更小<br> 3)可行的FPGA和嵌入式部署<br> 所以提出了squeezeNet模块</p> 
<h3><a id="3_squeezenet_31"></a>3 squeezenet:用较少的参数保持精度</h3> 
<h5><a id="31__32"></a>3.1 压缩策略</h5> 
<p>squeezenet模型主要使用了三个策略</p> 
<ul><li><strong>将<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
          3\times3 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积替换成<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
          1\times1 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>卷积</strong>。文章中将大多数<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          3 
         
        
          × 
         
        
          3 
         
        
       
         3\times3 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积替换为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          1 
         
        
          × 
         
        
          1 
         
        
       
         1\times1 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>卷积，这使得一个卷积操作的参数两减少了9倍</li><li><strong>减少<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
          3\times3 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积的通道数</strong>。一个<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          3 
         
        
          × 
         
        
          3 
         
        
       
         3\times3 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积的计算量是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          3 
         
        
          × 
         
        
          3 
         
        
          × 
         
        
          M 
         
        
          × 
         
        
          N 
         
        
       
         3\times3\times M \times N 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span></span></span></span></span>其中M是输入Feature Map的通道数，而N是输出Feature Map的通道数，作者希望通过减少M.N来达到减少参数量的目的</li><li><strong>下采样后置，使卷积层具有较大的activation maps</strong>。这个举动会提高网络精度，但是也会增加网络的计算量。在卷积网络中，每个卷积层产生空间分辨率至少为1x1且通常远大于1x1的输出激活图。这些activation maps的高度和宽度由以下因素控制： 
  <ul><li>输入数据的大小（例如256x256图像）</li><li>下采样的位置</li></ul> </li></ul> 
<h4><a id="32_Fire_39"></a>3.2 Fire模块</h4> 
<p><strong>fire模块由以下两部分组成</strong>：</p> 
<ul><li>squeeze部分 
  <ul><li>一组连续的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            1 
           
          
            × 
           
          
            1 
           
          
         
           1\times1 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>的卷积</li></ul> </li><li>Expand部分 
  <ul><li>一组连续的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            1 
           
          
            × 
           
          
            1 
           
          
         
           1\times1 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>卷积和一组连续的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            3 
           
          
            × 
           
          
            3 
           
          
         
           3\times3 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积cancatnate组成。因此<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            3 
           
          
            × 
           
          
            3 
           
          
         
           3\times3 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积需要使用same卷积</li></ul> </li></ul> 
<p>在fire模块中有三组超参数:<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          s 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
      
        s_{1\times1} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          e 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
      
        e_{1\times1} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          e 
         
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
       
      
        e_{3\times3} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">×</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。squeeze部分的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         × 
        
       
         1 
        
       
      
        1\times1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>卷积的通道数记作<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          s 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
      
        s_{1\times1} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。而expand部分<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         × 
        
       
      
        1\times 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mord">×</span></span></span></span></span>卷积和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
         × 
        
       
         3 
        
       
      
        3\times3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积的通道数分别记作<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          e 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
      
        e_{1\times1} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          e 
         
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
       
      
        e_{3\times3} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">×</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。作者建议使用Fire模块时，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          s 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
         &lt; 
        
        
        
          e 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
         + 
        
        
        
          e 
         
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
       
      
        s_{1\times1}&lt;e_{1\times1}+e_{3\times3} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.747431em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.791661em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">×</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，相当于在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
         × 
        
       
         3 
        
       
      
        3\times3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积之中加入瓶颈层，有助于限制3x3滤波器的输入通道数量。<br> <img src="https://images2.imgbox.com/c1/06/bYFuaD9w_o.png" alt="fire模块"><br> 下面代码片段是Keras实现的Fire模块，注意拼接Feature Map的时候使用的是Cancatnate操作，这样不必要求 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          e 
         
         
         
           1 
          
         
           × 
          
         
           1 
          
         
        
       
         = 
        
        
        
          e 
         
         
         
           3 
          
         
           × 
          
         
           3 
          
         
        
       
      
        e_{1\times1}=e_{3\times3} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.638891em; vertical-align: -0.208331em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">×</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">Fire_Model</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> s_1<span class="token punctuation">,</span> e_1<span class="token punctuation">,</span> e_3<span class="token punctuation">,</span> fire_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># squeeze部分</span>
    squeeze_x <span class="token operator">=</span> Conv2D<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>filters<span class="token operator">=</span>s_1x1<span class="token punctuation">,</span>padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span>activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">,</span>name<span class="token operator">=</span>fire_name<span class="token operator">+</span><span class="token string">'_s1'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token comment"># expand部分</span>
    expand_x_1 <span class="token operator">=</span> Conv2D<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>filters<span class="token operator">=</span>e_1x1<span class="token punctuation">,</span>padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span>activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">,</span>name<span class="token operator">=</span>fire_name<span class="token operator">+</span><span class="token string">'_e1'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>squeeze_x<span class="token punctuation">)</span>
    expand_x_3 <span class="token operator">=</span> Conv2D<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>filters<span class="token operator">=</span>e_3x3<span class="token punctuation">,</span>padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span>activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">,</span>name<span class="token operator">=</span>fire_name<span class="token operator">+</span><span class="token string">'_e3'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>squeeze_x<span class="token punctuation">)</span>
    expand <span class="token operator">=</span> merge<span class="token punctuation">(</span><span class="token punctuation">[</span>expand_x_1<span class="token punctuation">,</span> expand_x_3<span class="token punctuation">]</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'concat'</span><span class="token punctuation">,</span> concat_axis<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> expand
</code></pre> 
<h4><a id="33__59"></a>3.3 网络结构</h4> 
<p>图3是SqueezeNet的几个实现，左侧是不加short-cut的SqueezeNet，中间是加了short-cut的，右侧是short-cut跨有不同Feature Map个数的卷积的。作者在后续还补充了一些其他细节：</p> 
<ol><li>激活函数默认都使用ReLU；</li><li>fire9之后接了一个rate为0.5的dropout；</li><li>使用same卷积。<br> <img src="https://images2.imgbox.com/78/7f/xkMh5Arb_o.png" alt="三种squeezenet的网络结构"><br> 更详细的参数实现图<br> <img src="https://images2.imgbox.com/b1/90/533j9TpU_o.png" alt=""></li></ol> 
<p>代码实现</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">squeezeNet</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    conv1 <span class="token operator">=</span> Conv2D<span class="token punctuation">(</span>input_shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">,</span><span class="token number">224</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strides <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> filters<span class="token operator">=</span><span class="token number">96</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    poo1 <span class="token operator">=</span> MaxPool2D<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>conv1<span class="token punctuation">)</span>
    fire2 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>poo1<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span><span class="token string">'fire2'</span><span class="token punctuation">)</span>
    fire3 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>fire2<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span><span class="token string">'fire3'</span><span class="token punctuation">)</span>
    fire4 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>fire3<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span><span class="token string">'fire4'</span><span class="token punctuation">)</span>
    pool2 <span class="token operator">=</span> MaxPool2D<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>fire4<span class="token punctuation">)</span>
    fire5 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>pool2<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span><span class="token string">'fire5'</span><span class="token punctuation">)</span>
    fire6 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>fire5<span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span><span class="token string">'fire6'</span><span class="token punctuation">)</span>
    fire7 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>fire6<span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span><span class="token string">'fire7'</span><span class="token punctuation">)</span>
    fire8 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>fire7<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span><span class="token string">'fire8'</span><span class="token punctuation">)</span>
    pool3 <span class="token operator">=</span> MaxPool2D<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>fire8<span class="token punctuation">)</span>
    fire9 <span class="token operator">=</span> Fire_Model<span class="token punctuation">(</span>pool3<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span><span class="token string">'fire9'</span><span class="token punctuation">)</span>
    dropout1 <span class="token operator">=</span> Dropout<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">(</span>fire9<span class="token punctuation">)</span>
    conv10 <span class="token operator">=</span> Conv2D<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filters<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>dropout1<span class="token punctuation">)</span>
    gap <span class="token operator">=</span> GlobalAveragePooling2D<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>conv10<span class="token punctuation">)</span>
    <span class="token keyword">return</span> gap
</code></pre> 
<h4><a id="34__88"></a>3.4 模型评估</h4> 
<p>因为squeezenet其实并不想后面的其他轻量化网络效果那么好，所以作者只是与alexnet进行了对比，使用ImageNet（Deng等人，2009）（ILSVRC 2012）数据集对图像进行分类,使用AlexNet5和相关的模型压缩结果作为比较的基础来评估squeezenet。</p> 
<p>详细的实验对比这里也不过多赘述，主要就是与alexnet不同压缩情况进行对比，有兴趣的朋友下来可以看下原文(原文其实实验对比也不是像mobilenet那样还对比了目标检测的任务，可以看看)<br> <img src="https://images2.imgbox.com/86/1b/8Sr7pG9N_o.png" alt=""></p> 
<h3><a id="_93"></a>总结</h3> 
<p>SqueezeNet主要的方法是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
         × 
        
       
         3 
        
       
      
        3\times3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积替换成为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         × 
        
       
         1 
        
       
      
        1\times1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>卷积，和减少<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         3 
        
       
         × 
        
       
         3 
        
       
      
        3\times3 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>卷积的通道数这两种方法来降低参数量，然后通过下采样后置来提供精度，降低卷积被替换而损失的精度。从参数量来说，SqueezeNet的目的已经达到了。但是从效果上来说，其实SqueezeNet的效果其实并不像后面那几篇一样，有这很惊艳的方法。但是由于他算是真正意义上的第一篇轻量化网络，所以大家对此也算比较包容</p> 
<h4><a id="_95"></a>收获</h4> 
<ol><li>其实文章目标是嵌入式、车载系统等，以上环境更多追求的是实时性，虽然SqueezeNet减少了参数量，但是其丧失了网络的并行能力，整体的时间反而会更长，从这点上来说，这篇文章的结果并不算很完美</li><li>论文的结果其实与标题所说的减少，存在一定的夸大，这一点上论文也存在着一些问题</li><li>参数量不一定等于实时与速度，这一点在SqueezeNet丧失并行能力，导致运行时间更长就可以看出。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/148e09ca437291469009d2083fba199b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图神经网络（二）--GNNs</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/efc442336a6e2f79f5b572cdff917c23/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">图嵌入（一）--综述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>