<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Spring】SpringBoot 配置文件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Spring】SpringBoot 配置文件" />
<meta property="og:description" content="文章目录 什么是配置文件SpringBoot配置文件配置文件快速入手配置文件的格式properties 配置文件说明properties 基本语法读取配置文件信息properties 配置格式缺点 yml 配置文件说明yml 基本语法使用 yml 连接数据库 yml 使用进阶yml 配置不同数据类型配置对象配置集合配置Map 设置不同环境的配置文件YML优缺点 什么是配置文件 配置文件是一种文本文件，通常用于存储程序的参数和设置。它包含了程序运行所需的各种选项和配置信息，例如界面风格、服务器连接信息、默认语言等。这些信息可以通过键值对的形式表示，也可以使用特定的语法和结构描述更复杂的配置信息。
配置文件通常由程序在启动时读取和解析，以自定义程序的行为。例如，在网站开发中，网站的配置文件通常包含了数据库连接信息、安全性设置、日志记录等重要信息。在操作系统中，配置文件则可以用于指定各种系统参数，如网络连接、设备驱动程序等。
配置文件的格式和内容因程序而异，常见的配置文件格式包括INI文件、XML文件、JSON文件等。INI文件是最早的配置文件格式之一，它使用简单的键值对语法来存储配置信息。XML和JSON文件则更加灵活和可扩展，可以描述更复杂的配置信息。
除了使用传统的文本编辑器手动编写配置文件外，现在也有许多工具可以帮助用户轻松地编辑和管理配置文件。例如，一些应用程序具有自己的配置文件编辑器，用户可以通过界面来直观地编辑配置信息。另外，一些配置管理工具则可以帮助用户自动化地管理和维护配置文件，例如版本控制、备份和恢复等。
SpringBoot配置文件 SpringBoot⽀持并定义了配置⽂件的格式，也在另⼀个层⾯达到了规范其他框架集成到SpringBoot的⽬的。
很多项⽬或者框架的配置信息也放在配置⽂件中，⽐如：
项目的启动端口数据库的连接信息（包含用户名和密码的设置）第三⽅系统的调⽤密钥等信息⽤于发现和定位问题的普通⽇志和异常⽇志等 每个 Spring 项目都内置了一个 Tomcat 服务器，而 Tomcat 默认使用的端口是 8080，如果 8080 端口被占用或者多个 Spring 项目同时启动的话，就会出现某些程序无法正常启动的情况，所以这时候就可以使用 Spring 的配置文件修改启动的端口。
不仅如此，在日常生活中我们很多时候都会和数据库打交道，而每个人甚至一个人的不同机器上的数据库用户名、密码和 IP 地址都是有区别的，那么当这个项目交给别人的时候就需要在 Spring 配置文件中修改相关的配置。
不仅如此，一些公共的属性以及会根据情况而改变的属性都可以放在这个 Spring 配置文件中，通过使用 Spring 配置文件可以帮助我们解决很多的问题。
配置文件快速入手 我们先通过一个简单的例子来了解配置文件的作用。
我们创建 SpringBoot 项目的时候，会自动生成一个 application.properties 文件，这就是默认的 SpringBoot 配置文件，我们在这个配置文件中修改启动端口号看看结果。
server.port=9090 这里可以看到启动端口号修改成功了。
如果我们想要访问这个项目就不能使用 127.0.0.1:8080 了，而要使用 127.0.0.1:9090 地址了。
配置文件的格式 SpringBoot 的配置文件有三种形式：
application.propertiesapplication.ymlapplication.yaml yml 是 yaml 的缩写，两个使用方式是相同的。并且这两个配置文件还是生活中使用频率最高的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b43c1ba67f802437f78432b26ebb8f4e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-25T16:08:22+08:00" />
<meta property="article:modified_time" content="2023-12-25T16:08:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Spring】SpringBoot 配置文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/86/1e/bE5cRNgF_o.jpg" alt="在这里插入图片描述"><br> </p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">什么是配置文件</a></li><li><a href="#SpringBoot_11" rel="nofollow">SpringBoot配置文件</a></li><li><a href="#_26" rel="nofollow">配置文件快速入手</a></li><li><a href="#_43" rel="nofollow">配置文件的格式</a></li><li><a href="#properties__59" rel="nofollow">properties 配置文件说明</a></li><li><ul><li><a href="#properties__62" rel="nofollow">properties 基本语法</a></li><li><a href="#_76" rel="nofollow">读取配置文件信息</a></li><li><a href="#properties__114" rel="nofollow">properties 配置格式缺点</a></li></ul> 
  </li><li><a href="#yml__133" rel="nofollow">yml 配置文件说明</a></li><li><ul><li><a href="#yml__136" rel="nofollow">yml 基本语法</a></li><li><ul><li><a href="#_yml__147" rel="nofollow">使用 yml 连接数据库</a></li></ul> 
   </li><li><a href="#yml__159" rel="nofollow">yml 使用进阶</a></li><li><ul><li><a href="#yml__162" rel="nofollow">yml 配置不同数据类型</a></li><li><a href="#_307" rel="nofollow">配置对象</a></li><li><a href="#_368" rel="nofollow">配置集合</a></li><li><a href="#Map_420" rel="nofollow">配置Map</a></li></ul> 
   </li><li><a href="#_477" rel="nofollow">设置不同环境的配置文件</a></li><li><a href="#YML_496" rel="nofollow">YML优缺点</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>什么是配置文件</h2> 
<p>配置文件是一种文本文件，通常用于存储程序的参数和设置。它包含了程序运行所需的各种选项和配置信息，例如界面风格、服务器连接信息、默认语言等。这些信息可以通过键值对的形式表示，也可以使用特定的语法和结构描述更复杂的配置信息。</p> 
<p>配置文件通常由程序在启动时读取和解析，以自定义程序的行为。例如，在网站开发中，网站的配置文件通常包含了数据库连接信息、安全性设置、日志记录等重要信息。在操作系统中，配置文件则可以用于指定各种系统参数，如网络连接、设备驱动程序等。</p> 
<p>配置文件的格式和内容因程序而异，常见的配置文件格式包括INI文件、XML文件、JSON文件等。INI文件是最早的配置文件格式之一，它使用简单的键值对语法来存储配置信息。XML和JSON文件则更加灵活和可扩展，可以描述更复杂的配置信息。</p> 
<p>除了使用传统的文本编辑器手动编写配置文件外，现在也有许多工具可以帮助用户轻松地编辑和管理配置文件。例如，一些应用程序具有自己的配置文件编辑器，用户可以通过界面来直观地编辑配置信息。另外，一些配置管理工具则可以帮助用户自动化地管理和维护配置文件，例如版本控制、备份和恢复等。</p> 
<h2><a id="SpringBoot_11"></a>SpringBoot配置文件</h2> 
<p>SpringBoot⽀持并定义了配置⽂件的格式，也在另⼀个层⾯达到了规范其他框架集成到SpringBoot的⽬的。</p> 
<p>很多项⽬或者框架的配置信息也放在配置⽂件中，⽐如：</p> 
<ul><li>项目的启动端口</li><li>数据库的连接信息（包含用户名和密码的设置）</li><li>第三⽅系统的调⽤密钥等信息</li><li>⽤于发现和定位问题的普通⽇志和异常⽇志等</li></ul> 
<p>每个 Spring 项目都内置了一个 Tomcat 服务器，而 Tomcat 默认使用的端口是 8080，如果 8080 端口被占用或者多个 Spring 项目同时启动的话，就会出现某些程序无法正常启动的情况，所以这时候就可以使用 Spring 的配置文件修改启动的端口。</p> 
<p>不仅如此，在日常生活中我们很多时候都会和数据库打交道，而每个人甚至一个人的不同机器上的数据库用户名、密码和 IP 地址都是有区别的，那么当这个项目交给别人的时候就需要在 Spring 配置文件中修改相关的配置。</p> 
<p>不仅如此，一些公共的属性以及会根据情况而改变的属性都可以放在这个 Spring 配置文件中，通过使用 Spring 配置文件可以帮助我们解决很多的问题。</p> 
<h2><a id="_26"></a>配置文件快速入手</h2> 
<p>我们先通过一个简单的例子来了解配置文件的作用。</p> 
<p>我们创建 SpringBoot 项目的时候，会自动生成一个 <code>application.properties</code> 文件，这就是默认的 SpringBoot 配置文件，我们在这个配置文件中修改启动端口号看看结果。</p> 
<p><img src="https://images2.imgbox.com/a2/7c/bfcS7gbs_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">9090</span>
</code></pre> 
<p>这里可以看到启动端口号修改成功了。</p> 
<p><img src="https://images2.imgbox.com/77/6d/O6SA6mqu_o.png" alt="在这里插入图片描述"><br> 如果我们想要访问这个项目就不能使用 <code>127.0.0.1:8080</code> 了，而要使用 <code>127.0.0.1:9090</code> 地址了。</p> 
<h2><a id="_43"></a>配置文件的格式</h2> 
<p>SpringBoot 的配置文件有三种形式：</p> 
<ul><li>application.properties</li><li>application.yml</li><li>application.yaml</li></ul> 
<p>yml 是 yaml 的缩写，两个使用方式是相同的。并且这两个配置文件还是生活中使用频率最高的。</p> 
<p>当应⽤程序启动时，SpringBoot会⾃动从classpath路径找到并加载<br> application.properties 和 application.yaml 或者 application.yml ⽂件，当然也可以使用 <code>spring.config.name</code> 指定文件路径和名称。</p> 
<p>那么 properties 配置文件和 yml 配置文件有什么区别呢？区别主要体现在语法和使用场景上。properties 配置格式出现的比较早，而 yml 配置格式出现的则比较晚，并且在语法上，yml 配置格式相较于 properties 配置格式来说更加的简介，并且很重要的是：properties 配置文件中如果出现中文的话出现乱码的几率非常大，而 yml 配置格式则对中文的支持度是比较高的。存在两种配置格式，可以一定程度上降低程序员的学习成本。</p> 
<ol><li>理论上讲 .properties 和 .yml 可以并存在于⼀个项⽬中，当 .properties 和 .yml 并存时，两个配置都会加载。如果配置⽂件内容有冲突，则以 .properties 为主，也就是 .properties 优先级更高</li><li>虽然理论上来讲 .properties 可以和 .yml 共存，但实际的业务当中，我们通常会采取⼀种统⼀的配置⽂件格式，这样可以更好的维护(降低故障率)</li></ol> 
<h2><a id="properties__59"></a>properties 配置文件说明</h2> 
<p>properties 配置⽂件是最早期的配置⽂件格式，也是创建 SpringBoot 项⽬默认的配置⽂件。</p> 
<h3><a id="properties__62"></a>properties 基本语法</h3> 
<p>properties 配置格式是以键值对的形式存在的，key 和 value 之间通过“=”连接。并且 key 和 value 之间可以存在多个空格。</p> 
<pre><code class="prism language-java"># 配置启动端口号
server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">9090</span>

# 配置数据库连接信息
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>url<span class="token operator">=</span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">3306</span><span class="token operator">/</span>test<span class="token operator">?</span>charEncoding<span class="token operator">=</span>utf8<span class="token operator">&amp;</span>userSSL<span class="token operator">=</span><span class="token boolean">false</span>
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>name<span class="token operator">=</span>root
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>password<span class="token operator">=</span><span class="token number">123456</span>
</code></pre> 
<p>配置文件中使用 <code>#</code> 添加注释信息。</p> 
<h3><a id="_76"></a>读取配置文件信息</h3> 
<p>在项目中，如果想要主动读取配置文件中的信息的话，可以使用 <code>@Value</code> 注解来实现。</p> 
<pre><code class="prism language-java">mykey<span class="token operator">=</span>zhangsan
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"mykey"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> key<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/getkey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"获取到key："</span> <span class="token operator">+</span> key<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/88/c0/PDT1AyoW_o.png" alt="在这里插入图片描述"><br> 这是为什么呢？我们的 mykey 不是 zhangsan 吗？为什么获取到的是 mykey 呢？</p> 
<p>这是因为 Spring 将<code>@Value</code> 中的 “mykey” 当作了 value 赋值给了 key，那么我们该如何才能获取到 key mykey 中的 value 值呢？</p> 
<p>要想获取到 <code>@Value</code> key 中的 value 值，需要使用 <code>${}</code> 来获取到这里面的 key 的 value 值。</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${mykey}"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/76/fa/fvFJVvIQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="properties__114"></a>properties 配置格式缺点</h3> 
<p>为什么说 properties 配置格式对中文不是很友好呢？我们来看看：</p> 
<pre><code class="prism language-java">mykey<span class="token operator">=</span>张三
</code></pre> 
<p><img src="https://images2.imgbox.com/a9/b1/mWHW2PB7_o.png" alt="在这里插入图片描述"><br> 为什么就肯定说是 properties 配置文件的问题而不是我们前端接收到响应之后出现的问题呢？我们打断点看看。</p> 
<p><img src="https://images2.imgbox.com/ea/cb/BoOkZMp3_o.png" alt="在这里插入图片描述"><br> 这里我们读取到 mykey 的时候就是乱码，而是我的 idea 也是默认是 UTF-8 格式，是支持中文的，所以说 <font color="CC0000">properties 配置文件中尽量不要出现中文</font>。</p> 
<p>不仅如此，通过观察 properties 配置文件中的信息，我们会发现里面的内容是比较冗余的。</p> 
<p><img src="https://images2.imgbox.com/94/ba/cOWyizZO_o.png" alt="在这里插入图片描述"></p> 
<p>以上只是 properties 的两个显著的缺点。</p> 
<h2><a id="yml__133"></a>yml 配置文件说明</h2> 
<p>yml 是 YAML 的缩写，它的全称 Yet Another Markup Language 翻译成中⽂就是“另⼀种标记语⾔。光看 yml 的翻译就可以看出来 yml 的理想是非常远的“语言”。我们先来看看 yml 配置文件的基本语法。</p> 
<h3><a id="yml__136"></a>yml 基本语法</h3> 
<p>yml 配置文件对于语法要求是非常严格的，他虽然也是以键值对的形式存在的，但是 key 和 value 之间必须以 <font color="CC0000">冒号 + 空格</font> 相连接，这个空格是不能省略的。</p> 
<p>如果配置成功，那么属性就会有高亮提示。<br> <img src="https://images2.imgbox.com/da/9b/lP9DM3Rg_o.png" alt="在这里插入图片描述"><br> 这种灰色，就说明该属性没有配置成功，也就是语法存在问题。<br> <img src="https://images2.imgbox.com/93/7f/PBElJpxk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f6/b3/e2fgM6rs_o.png" alt="在这里插入图片描述"><br> 空格可以有多个。</p> 
<h4><a id="_yml__147"></a>使用 yml 连接数据库</h4> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/test<span class="token punctuation">?</span>characterEncoding=utf8<span class="token important">&amp;userSSL=false</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre> 
<p>这种 yml 配置方式显示出了层级关系并且节省了很多代码：url、username和password属性属于datasource，而 datasource 则属于 spring。</p> 
<h3><a id="yml__159"></a>yml 使用进阶</h3> 
<p>yml 的使用不止有这些，还有其他更厉害的用法。</p> 
<h4><a id="yml__162"></a>yml 配置不同数据类型</h4> 
<p>前面 properties 配置格式差不多所有的配置都是字符串类型，而在 yml 配置格式中还存在布尔类型、整数类型、浮点数类型以及Null类型。</p> 
<pre><code class="prism language-yaml"><span class="token comment"># 字符串</span>
<span class="token key atrule">string.value</span><span class="token punctuation">:</span> hello

<span class="token comment"># 布尔类型</span>
<span class="token key atrule">boolean.value</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">boolean.value1</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token comment"># 整数类型</span>
<span class="token key atrule">int.value</span><span class="token punctuation">:</span> <span class="token number">10</span>

<span class="token comment"># 浮点数</span>
<span class="token key atrule">float.value</span><span class="token punctuation">:</span> <span class="token number">3.14159</span>

<span class="token comment"># Null  ~ 代表null</span>
<span class="token key atrule">null.value</span><span class="token punctuation">:</span> <span class="token null important">~</span>
</code></pre> 
<p>那么 yml 配置文件的属性如何读取呢？这些基本的数据类型是和 properties 配置格式是一样的，都是使用 <code>@Value</code> 注解来获取到指定的配置。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string.value}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stringValue<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${boolean.value}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> flg1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${boolean.value1}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> flg2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${int.value}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> intValue<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${float.value}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">float</span> floatValue<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${null.value}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nullValue<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/getkey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> stringValue <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> flg1 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> flg2 <span class="token operator">+</span> <span class="token string">" | "</span>
                <span class="token operator">+</span> intValue <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> floatValue <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> nullValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/c7/59/hltSxONc_o.png" alt="在这里插入图片描述"><br> 值得注意的是，在 yml 配置格式中，字符串的表现形式有三种，一种是不加引号、一种是加单引号、还有一种就是加双引号，与 properties 配置格式不同，因为 properties 配置格式都是字符串类型，所以从等号后面的第一个非空格字符开始就会被当成是字符串。</p> 
<p><font color="CC0000">properties 配置格式</font></p> 
<pre><code class="prism language-java">mykey1<span class="token operator">=</span>abcde
mykey2<span class="token operator">=</span><span class="token char">'abcde'</span>
mykey3<span class="token operator">=</span><span class="token string">"abcde"</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${mykey1}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mykey1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${mykey2}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mykey2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${mykey3}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mykey3<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/getkey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mykey1 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> mykey2 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> mykey3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/39/92/wvlUcykV_o.png" alt="在这里插入图片描述"><br> <font color="CC0000">yml 配置格式</font></p> 
<pre><code class="prism language-yaml"><span class="token key atrule">string1</span><span class="token punctuation">:</span> abcde
<span class="token key atrule">string2</span><span class="token punctuation">:</span> <span class="token string">'abcde'</span>
<span class="token key atrule">string3</span><span class="token punctuation">:</span> <span class="token string">"abced"</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YmlController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string1}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string2}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string3}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string3<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/getymlkey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> string1 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> string2 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> string3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a7/d9/VAWbC68g_o.png" alt="在这里插入图片描述"><br> 根据输出的内容可以看到，yml 中表示字符串的方式有三种，但是这三种方式又有一些区别。</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">string1</span><span class="token punctuation">:</span> abc \n de
<span class="token key atrule">string2</span><span class="token punctuation">:</span> <span class="token string">'abc \n de'</span>
<span class="token key atrule">string3</span><span class="token punctuation">:</span> <span class="token string">"abc \n ed"</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YmlController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string1}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string2}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${string3}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> string3<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/getymlkey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> string1 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> string2 <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> string3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d1/fa/gKCno67A_o.png" alt="在这里插入图片描述"><br> 可以看到没有引号和单引号的用法基本上是一样的，但是双引号就会有区别，没有引号和单引号会将字符串中的一些特殊符号进行转义，使之呈现出跟字符串里面一样的内容，而双引号则不会进行转义。</p> 
<h4><a id="_307"></a>配置对象</h4> 
<p>yml 中不仅能配置一些基本的数据类型，还可以配置对象。啊？我没听错吧？yml 配置格式还能配置对象？没错，你没听错，我们 yml 就是这么厉害。那么在 yml 中如何配置对象呢？</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">student</span><span class="token punctuation">:</span>
  <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">123</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> zhangsan
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>
</code></pre> 
<p>类似上面的配置格式就是 yml 配置对象，当然也可以使用行内写法（跟上面的写法作用是一致的）。</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">student1</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">234</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> lisi<span class="token punctuation">,</span> <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span>
</code></pre> 
<p>那么如何取出配置的对象呢？这时候就不能使用 <code>@Value</code> 注解了，需要使用 <code>ConfigurationProperties</code> 注解，并且取出也需要借助类来读取。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"student"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><font color="CC0000">仅仅只是通过类来读取也是不行的，还需要保证类中的属性名称和 yml 配置文件中的对象的属性名称一致，并且类中为这些属性提供了 getter 和 setter 方法。</font></p> 
<p>这是 <code>ConfigurationProperties</code> 注解的参数，如果不指定参数的名称的话，默认就是value/prefix。<br> <img src="https://images2.imgbox.com/7a/f2/hDoI7uyU_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Student</span> student<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/readStudent"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">readStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> student<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/a5/43/2m0coJOS_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_368"></a>配置集合</h4> 
<p>yml 配置文件还可以配置集合。</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">dbtypes</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> mysql
    <span class="token punctuation">-</span> sqlserver
    <span class="token punctuation">-</span> db2
</code></pre> 
<p>读取 yml 配置文件中的集合同样是依赖 <code>ConfigurationProperties</code> 注解和类以及类中的 getter 和 setter 方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"dbtypes"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ListConfig</span> listConfig<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/readList"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">readList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> listConfig<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/3b/cb/jIS3YJuq_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Map_420"></a>配置Map</h4> 
<p>yml 配置格式还可以配置 Map 类型的属性。</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">maptypes</span><span class="token punctuation">:</span>
  <span class="token key atrule">map</span><span class="token punctuation">:</span>
    <span class="token key atrule">k1</span><span class="token punctuation">:</span> China
    <span class="token key atrule">k2</span><span class="token punctuation">:</span> America
    <span class="token key atrule">k3</span><span class="token punctuation">:</span> Japanese
</code></pre> 
<p>行内写法：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">maptypes2</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token key atrule">map</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token key atrule">k1</span><span class="token punctuation">:</span> China<span class="token punctuation">,</span> <span class="token key atrule">k2</span><span class="token punctuation">:</span> America<span class="token punctuation">,</span> <span class="token key atrule">k3</span><span class="token punctuation">:</span> Japanese<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> 
<p>读取 Map 类型配置也是依赖 <code>ConfigurationProperties</code> 注解和类以及类中的 getter 和 setter 方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"maptypes"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springconfiguration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MapConfig</span> mapConfig<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/readMap"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">readMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapConfig<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/04/5e/y14dy2ng_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_477"></a>设置不同环境的配置文件</h3> 
<p>有可能我们一个项目中针对不同的情况会有不同的配置，那么我们是否要每到一个新环境就将另一个配置文件中的内容复制到当前使用的配置文件中吗？其实没必要，一个 Spring 项目中允许存在多个配置文件，并且我们可以指定使用哪个配置文件。</p> 
<p>但是需要注意的是，spring 中的配置文件必须以 <code>application-xxx.yml</code> 格式命名。比如 <code>application-dev.yml</code> 和 <code>application-prod.yml</code>，如果需要切换的话，只需要在 <code>application.yml</code> 配置文件中加入</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
	<span class="token key atrule">profiles</span><span class="token punctuation">:</span>
		<span class="token key atrule">active</span><span class="token punctuation">:</span> dev  <span class="token comment"># application-xxx.yml  这里填 - 后面的字符</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c6/bc/P4E3wDIn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f2/f6/QzEoL7Gx_o.png" alt="在这里插入图片描述"></p> 
<p>假设我们这里使用 <code>application-dev.yml</code> 配置文件。</p> 
<p><img src="https://images2.imgbox.com/9a/4a/9NvNrVzN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="YML_496"></a>YML优缺点</h3> 
<p>优点：</p> 
<ol><li>易读性强：YAML采用缩进和符号的方式表示层次结构，使得配置文件易于阅读和理解。</li><li>数据结构丰富：YAML支持多种数据结构类型，如标量、数组、映射等，可以方便地表示各种数据结构。</li><li>支持多语言：YAML的语法简洁，易于学习，支持多种编程语言进行解析和读取。</li></ol> 
<p>缺点：</p> 
<ol><li>错误易引入：由于YAML的缩进规则严格，如果缩进不一致或者符号使用不当，会导致解析错误。</li><li>安全性问题：由于YAML易于阅读和编写，可能存在被篡改的风险。在安全敏感的应用中，需要采取额外的安全措施。</li><li>依赖外部库：在某些编程语言中，需要依赖特定的第三方库才能解析和读取YAML文件。这可能会增加开发者的负担。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cdf7fc5b2972827415ad64de48ea7d82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【摄影基础】镜头分类</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e15de985f7401f2c2678355d2bd6c04/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何从0到1搭建一个SpringBoot项目</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>