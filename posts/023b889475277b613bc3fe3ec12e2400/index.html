<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>android  onContextItemSelected和onMenuItemSelected厉害关系 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="android  onContextItemSelected和onMenuItemSelected厉害关系" />
<meta property="og:description" content="Android 的activity中onCreateOptionsMenu onMenuItemSelected onOptionsItemSelected onCreateContextMenu onContextItemSelected 五个方法的使用：
onCreateOptionsMenu ：此方法为创建菜单方法，这个菜单就是你在点击手机menu键时会看到的菜单。
onCreateContextMenu ：此方法为创建菜单方法，你还需要对此菜单进行注册Activity.registerForContextMenu(View view),这个菜单是在你长按前面注册的view时看到的菜单。
onMenuItemSelected ：当你选择上面两种菜单任意一种时都会触发这个事件。
onOptionsItemSelected ：这个方法只在onCreateOptionsMenu 创建的菜单被选中时才会被触发。
onContextItemSelected ：这个方法只在onCreateContextMenu 创建的菜单被选中时才会被触发。
/*因为在一个Activity中都使用onMenuItemSelected和onContextItemSelected时会冲突， 也就是说，当有长按弹出菜单的时候，点击菜单的选项响应的是onMenuItemSelected（），如果被 点击的Item Id不在 onMenuItemSelected中，事件就不会响应，此时不会再调用onContextItemSelected。 这样的话，我们在onContextItemSelected中定义的事件就不会执行，这就是很多人遇到的“onContextItemSelected失效”的原因. 这个时候，需要在onContextItemSelected做相应的判断，如果执行的事件不在onMenuItemSelected中，就执行onContextItemSelected。 */
@Override public boolean onMenuItemSelected(int featureId, MenuItem item) { switch (item.getItemId()) { case R.id.about: Intent intent = new Intent(); intent.setClass(BaseActivity.this, AboutActivity.class); startActivity(intent); return true; case R.id.bgsettings: Intent changeBgIntent = new Intent(); changeBgIntent.setClass(BaseActivity.this, BgActivity.class); startActivity(changeBgIntent); return true; case R.id.help: Intent helpIntent = new Intent(); helpIntent." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/023b889475277b613bc3fe3ec12e2400/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-05T05:18:24+08:00" />
<meta property="article:modified_time" content="2019-07-05T05:18:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">android  onContextItemSelected和onMenuItemSelected厉害关系</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">Android 的activity中onCreateOptionsMenu onMenuItemSelected onOptionsItemSelected onCreateContextMenu onContextItemSelected 五个方法的使用：</p> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">onCreateOptionsMenu ：此方法为创建菜单方法，这个菜单就是你在点击手机menu键时会看到的菜单。</p> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">onCreateContextMenu ：此方法为创建菜单方法，你还需要对此菜单进行注册Activity.registerForContextMenu(View view),这个菜单是在你长按前面注册的view时看到的菜单。</p> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">onMenuItemSelected ：当你选择上面两种菜单任意一种时都会触发这个事件。</p> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">onOptionsItemSelected ：这个方法只在onCreateOptionsMenu 创建的菜单被选中时才会被触发。</p> 
 <p style="border-width:0px;text-align:left;color:#464646;line-height:21px;font-family:simsun;font-size:14px;list-style-type:none;">onContextItemSelected ：这个方法只在onCreateContextMenu 创建的菜单被选中时才会被触发。</p> 
 <p>/*因为在一个Activity中都使用onMenuItemSelected和onContextItemSelected时会冲突， 也就是说，当有长按弹出菜单的时候，点击菜单的选项响应的是onMenuItemSelected（），如果被 点击的Item Id不在 onMenuItemSelected中，事件就不会响应，此时不会再调用onContextItemSelected。 这样的话，我们在onContextItemSelected中定义的事件就不会执行，这就是很多人遇到的“onContextItemSelected失效”的原因. 这个时候，需要在onContextItemSelected做相应的判断，如果执行的事件不在onMenuItemSelected中，就执行onContextItemSelected。 */</p> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#000000;">    @Override
    </span><span style="color:#0000ff;">public</span> <span style="color:#0000ff;">boolean</span> onMenuItemSelected(<span style="color:#0000ff;">int</span><span style="color:#000000;"> featureId, MenuItem item) {
        </span><span style="color:#0000ff;">switch</span><span style="color:#000000;"> (item.getItemId()) {

        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.about:
            Intent intent </span>= <span style="color:#0000ff;">new</span><span style="color:#000000;"> Intent();
            intent.setClass(BaseActivity.</span><span style="color:#0000ff;">this</span>, AboutActivity.<span style="color:#0000ff;">class</span><span style="color:#000000;">);
            startActivity(intent);
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;

        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.bgsettings:
            Intent changeBgIntent </span>= <span style="color:#0000ff;">new</span><span style="color:#000000;"> Intent();
            changeBgIntent.setClass(BaseActivity.</span><span style="color:#0000ff;">this</span>, BgActivity.<span style="color:#0000ff;">class</span><span style="color:#000000;">);
            startActivity(changeBgIntent);
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;

        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.help:
            Intent helpIntent </span>= <span style="color:#0000ff;">new</span><span style="color:#000000;"> Intent();
            helpIntent.setClass(BaseActivity.</span><span style="color:#0000ff;">this</span>, HelpActivity.<span style="color:#0000ff;">class</span><span style="color:#000000;">);
            startActivity(helpIntent);
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;

        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.exit:
            System.exit(</span>0<span style="color:#000000;">);
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;
            
        </span><span style="color:#008000;">/*</span><span style="color:#008000;">因为在一个Activity中都使用onMenuItemSelected和onContextItemSelected时会冲突，
        也就是说，当有长按弹出菜单的时候，点击菜单的选项响应的是onMenuItemSelected（），如果被
        点击的Item Id不在 onMenuItemSelected中，事件就不会响应，此时不会再调用onContextItemSelected。
        这样的话，我们再onContextItemSelected中定义的事件就不会执行，这就是很多人遇到的“onContextItemSelected失效”的原因.
        这个时候，需要在onContextItemSelected做相应的判断，如果执行的事件不在onMenuItemSelected中，就执行onContextItemSelected。
        </span><span style="color:#008000;">*/</span>
        <span style="color:#0000ff;">default</span><span style="color:#000000;">:
            onContextItemSelected(item);

        }
        </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">false</span><span style="color:#000000;">;
    }</span></pre> 
 </div> 
 <p> </p> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#000000;">    @Override
    </span><span style="color:#0000ff;">public</span> <span style="color:#0000ff;">boolean</span><span style="color:#000000;"> onContextItemSelected(MenuItem item) {
        System.out.println(</span>"--------onContextItemSelected---------"<span style="color:#000000;">);
        </span><span style="color:#0000ff;">switch</span><span style="color:#000000;"> (item.getItemId()) {
        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.collect_book:
            doCollect();
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;
        </span><span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.detail:
            Toast.makeText(</span><span style="color:#0000ff;">this</span>, "书籍详细信息", 3000<span style="color:#000000;">).show();
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">true</span><span style="color:#000000;">;
        </span><span style="color:#0000ff;">default</span><span style="color:#000000;">:
            </span><span style="color:#0000ff;">return</span> <span style="color:#0000ff;">super</span><span style="color:#000000;">.onContextItemSelected(item);
        }
    }</span></pre> 
 </div> 
 <p> </p> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/sunfb/p/3179219.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0c6bea7c29648bd22969b7c9c6df7a24/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">设计模式之(六)代理模式Proxy</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8896dd5ed6c5e1b5bdf0211cfbdad26e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JMJS系统总结系列----XSLT的语句规则（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>