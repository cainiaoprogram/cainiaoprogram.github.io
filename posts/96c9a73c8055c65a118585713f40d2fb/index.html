<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go mod 命令详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="go mod 命令详解" />
<meta property="og:description" content="文章目录 1.关于模块2.关于 go mod3.格式4.示例参考文献 1.关于模块 模块（Modules）是 Go 1.11 版本引入的一依赖管理机制。
一个模块是 Go packages 的集合，定义在项目根目录下的 go.mod 文件。go.mod 文件定义了模块的路径，这也是使用当前项目中包的导入路径。go.mod 文件还定义了模块的依赖项，这些是项目成功构建所需的其他模块。每个依赖项都被编写为模块路径和特定的语义版本。
从 Go 1.11 开始，go 命令允许在当前目录或任何父目录有 go.mod 文件时使用 module，条件是目录位于 GOPATH/src 之外。在 GOPATH/src 中，即使找到了 go.mod，为了兼容性起见，go 命令仍然在旧的 GOPATH 模式下运行。从 Go 1.13 开始，模块将是包管理的默认模式。
2.关于 go mod go mod 命令是与 Go 模块相关的命令行工具，提供对模块的访问和操作。
注意，所有 go 命令都内置了对模块的支持，不仅仅是go mod。例如，日常添加、删除、升级、降级，应该使用go get。
有关模块功能的概述，请参阅go help modules。
3.格式 go mod &lt;command&gt; [arguments] 子命令有：
download download modules to local cache edit edit go.mod from tools or scripts graph print module requirement graph init initialize new module in current directory tidy add missing and remove unused modules vendor make vendored copy of dependencies verify verify dependencies have expected content why explain why packages or modules are needed 关于子命令的详细说明请使用go help mod &lt;command&gt;。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/96c9a73c8055c65a118585713f40d2fb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-29T20:27:00+08:00" />
<meta property="article:modified_time" content="2023-12-29T20:27:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go mod 命令详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_1" rel="nofollow">1.关于模块</a></li><li><a href="#2_go_mod_7" rel="nofollow">2.关于 go mod</a></li><li><a href="#3_14" rel="nofollow">3.格式</a></li><li><a href="#4_30" rel="nofollow">4.示例</a></li><li><a href="#_86" rel="nofollow">参考文献</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_1"></a>1.关于模块</h2> 
<p><a href="https://go.dev/ref/mod" rel="nofollow">模块（Modules）</a>是 Go 1.11 版本引入的一依赖管理机制。</p> 
<p>一个模块是 Go packages 的集合，定义在项目根目录下的 go.mod 文件。go.mod 文件定义了模块的路径，这也是使用当前项目中包的导入路径。go.mod 文件还定义了模块的依赖项，这些是项目成功构建所需的其他模块。每个依赖项都被编写为模块路径和特定的语义版本。</p> 
<p>从 Go 1.11 开始，go 命令允许在当前目录或任何父目录有 go.mod 文件时使用 module，条件是目录位于 GOPATH/src 之外。在 GOPATH/src 中，即使找到了 go.mod，为了兼容性起见，go 命令仍然在旧的 GOPATH 模式下运行。从 Go 1.13 开始，模块将是包管理的默认模式。</p> 
<h2><a id="2_go_mod_7"></a>2.关于 go mod</h2> 
<p>go mod 命令是与 Go 模块相关的命令行工具，提供对模块的访问和操作。</p> 
<p>注意，所有 go 命令都内置了对模块的支持，不仅仅是<code>go mod</code>。例如，日常添加、删除、升级、降级，应该使用<code>go get</code>。</p> 
<p>有关模块功能的概述，请参阅<code>go help modules</code>。</p> 
<h2><a id="3_14"></a>3.格式</h2> 
<pre><code class="prism language-shell">go mod <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span> <span class="token punctuation">[</span>arguments<span class="token punctuation">]</span>
</code></pre> 
<p>子命令有：</p> 
<pre><code class="prism language-shell">download    download modules to <span class="token builtin class-name">local</span> cache
edit        edit go.mod from tools or scripts
graph       print module requirement graph
init        initialize new module <span class="token keyword">in</span> current directory
tidy        <span class="token function">add</span> missing and remove unused modules
vendor      <span class="token function">make</span> vendored copy of dependencies
verify      verify dependencies have expected content
why         explain why packages or modules are needed
</code></pre> 
<p>关于子命令的详细说明请使用<code>go help mod &lt;command&gt;</code>。</p> 
<h2><a id="4_30"></a>4.示例</h2> 
<p>（1）初始化模块。</p> 
<p>在当前目录中初始化新模块，模块名为你项目名。一般是在首次创建项目时使用，将生成<code>go.mod</code>文件。</p> 
<pre><code class="prism language-shell">go mod init <span class="token punctuation">[</span>module-path<span class="token punctuation">]</span>
</code></pre> 
<p>（2）添加依赖。</p> 
<p>通过 go get 命令可以添加依赖：将依赖项添加到 go.mod 文件，并将依赖项的版本信息记录在 go.sum 文件中。</p> 
<pre><code class="prism language-shell">go get <span class="token punctuation">[</span>package-path<span class="token punctuation">]</span>
</code></pre> 
<p>（3）下载依赖的模块到本地 cache。</p> 
<pre><code class="prism language-shell"><span class="token comment"># 下载所有依赖的模块</span>
go mod download <span class="token punctuation">[</span>all<span class="token punctuation">]</span>

<span class="token comment"># 下载指定名称的模块</span>
go mod download <span class="token environment constant">PATH</span>@VERSION
</code></pre> 
<p>（4）添加缺少的模块并删除未使用的模块，一般用来更新 go.mod 和 go.sum 文件。</p> 
<pre><code class="prism language-shell">go mod tidy
</code></pre> 
<p>（5）查看依赖。</p> 
<p>通过 go list 命令可以查看项目的依赖，其中 -m 选项表示列出模块而不是包。</p> 
<pre><code class="prism language-go"><span class="token keyword">go</span> list <span class="token operator">-</span>m all
</code></pre> 
<p>（6）查看可升级的依赖。</p> 
<p>go list 的 -u 选项将在依赖的模块后面通过中括号显示可用的最新版本（如果有的话）。</p> 
<pre><code class="prism language-shell">go list <span class="token parameter variable">-m</span> <span class="token parameter variable">-u</span> all

my/main/module
golang.org/x/text v0.3.0 <span class="token punctuation">[</span>v0.4.0<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">&gt;</span> /tmp/text
rsc.io/pdf v0.1.1 <span class="token punctuation">(</span>retracted<span class="token punctuation">)</span> <span class="token punctuation">[</span>v0.1.2<span class="token punctuation">]</span>
</code></pre> 
<p>（7）升级依赖。</p> 
<p>使用 go get 的 -u 选项， 可以将指定依赖升级到最新的次版本号（minor）或修订号（patch）。</p> 
<pre><code class="prism language-shell">go get <span class="token parameter variable">-u</span> <span class="token punctuation">[</span>package-path<span class="token punctuation">]</span>
</code></pre> 
<p>（8）清理模块缓存。</p> 
<p>清理模块缓存表示删除存储在本地已下载的模块文件。模块缓存文件存放在 GOPATH/pkg/mod 目录。</p> 
<pre><code class="prism language-shell">go clean <span class="token parameter variable">-modcache</span>
</code></pre> 
<p>该命令将会删除 GOPATH/pkg/mod 目录。</p> 
<hr> 
<h2><a id="_86"></a>参考文献</h2> 
<p><a href="https://pkg.go.dev/cmd/go" rel="nofollow">go command - cmd/go</a><br> <a href="https://go.dev/ref/mod" rel="nofollow">Go Modules Reference</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c4af6313ad56843f3cd2447d0fd32dd0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;探讨 一: 函数返回值为类对象和类对象引用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/74f1fb039117716b0bcd2a59bd1cf341/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">虚幻UE 材质-材质基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>